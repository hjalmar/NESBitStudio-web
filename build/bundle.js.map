{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../src/application/palettes/nespalette.js","../../src/application/project.js","../../src/bootstrap.js","../../node_modules/enums-manager/main.js","../../src/application/ActionsManager.js","../../node_modules/file-saver/dist/FileSaver.min.js","../../src/utils/file.js","../../src/nesbit.config.js","../../src/application/palettes/palettes.js","../../src/utils/store.js","../../src/utils/array.js","../../src/utils/chr.js","../../src/stores/palettes.store.js","../../src/modules/spritesheet_editor/CanvasLayer.js","../../src/stores/spritesheets.store.js","../../src/modules/spritesheet_editor/tools/tool.js","../../src/modules/spritesheet_editor/tools/pointer.js","../../src/application/spritesheets/animationloop.js","../../src/modules/spritesheet_editor/layers/layer.js","../../src/modules/spritesheet_editor/layers/grid.layer.js","../../src/modules/spritesheet_editor/layers/cursor.layer.js","../../src/modules/spritesheet_editor/SpritesheetEditor.js","../../src/modules/spritesheet_editor/tools/pen.js","../../src/modules/spritesheet_editor/tools/eyedropper.js","../../src/modules/spritesheet_editor/tools/paintbucket.js","../../src/modules/spritesheet_editor/tools.js","../../src/application/actions.js","../../node_modules/standalone-router/route.js","../../node_modules/standalone-router/utils.js","../../node_modules/standalone-router/main.js","../../node_modules/svelte-standalone-router/SvelteStandaloneRouter.js","../../node_modules/svelte-standalone-router/helpers.js","../../node_modules/svelte-standalone-router/router.js","../../node_modules/svelte-standalone-router/router.svelte","../../node_modules/svelte-standalone-router/link.js","../../node_modules/svelte-standalone-router/decorator.js","../../src/router/router.js","../../node_modules/hotkeys-manager/main.js","../../src/keyboard_shortcuts/manager.js","../../src/_components/graphics/SectionNavigation.svelte","../../src/_components/Artboard.svelte","../../src/_singles/buttons/ColorSelectButton.svelte","../../src/_components/graphics/ColorSelection.svelte","../../src/_singles/buttons/ToolButton.svelte","../../src/_components/graphics/ToolbarSelection.svelte","../../src/_singles/buttons/Button.svelte","../../src/utils/strings.js","../../src/_components/LabelHeading.svelte","../../src/_singles/buttons/ActionButton.svelte","../../src/actions/dragdrop.js","../../src/_components/Layer.svelte","../../src/_components/graphics/SpritesheetLayer.svelte","../../src/_components/graphics/CanvasPreview.svelte","../../src/_components/graphics/SpritesheetLayers.svelte","../../src/_components/graphics/PaletteLayer.svelte","../../src/_singles/Color.svelte","../../src/_components/graphics/PaletteLayers.svelte","../../src/actions/clickoutside.js","../../src/_components/SelectButton.svelte","../../src/_components/ArtboardOptions.svelte","../../src/_components/graphics/SpritesheetOptions.svelte","../../src/modules/spritesheet_editor/Canvas.svelte","../../src/modules/spritesheet_editor/SpritesheetEditor.svelte","../../src/_views/graphics/Spritesheets.svelte","../../src/components/general/labeledartboarditem.svelte","../../src/_components/graphics/PaletteOptions.svelte","../../src/_components/graphics/SwatchList.svelte","../../src/_views/graphics/Palettes.svelte","../../src/router/routes/graphics.route.js","../../src/router/routes/home.route.js","../../src/keyboard_shortcuts/application.shortcut.js","../../src/keyboard_shortcuts/palettes.shortcut.js","../../src/keyboard_shortcuts/spritesheets.shortcut.js","../../src/components/external.svelte","../../src/_components/header/Navigation.svelte","../../src/_singles/buttons/AreaButton.svelte","../../src/_components/header/SectionNavigation.svelte","../../src/_components/header/WindowButtons.svelte","../../src/_components/header/Header.svelte","../../src/_components/console.svelte","../../src/Init.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot_spread(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_spread_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_spread_changes_fn(dirty) | get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.31.2' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to seperate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_custom_elements_slots, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, update_slot_spread, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","// convert rgb to hsl\r\nexport const rgbToHsl = (c) => {\r\n  var r = c[0]/255, g = c[1]/255, b = c[2]/255;\r\n  var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n  var h, s, l = (max + min) / 2;\r\n\r\n  if(max == min) {\r\n    h = s = 0; // achromatic\r\n  } else {\r\n    var d = max - min;\r\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n    switch(max){\r\n      case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n      case g: h = (b - r) / d + 2; break;\r\n      case b: h = (r - g) / d + 4; break;\r\n    }\r\n    h /= 6;\r\n  }\r\n  return new Array(h * 360, s * 100, l * 100);\r\n}\r\n\r\n// nes color palette\r\nconst nespalette = [\r\n  {hex: '00', rgb: [124,124,124]},\r\n  {hex: '01', rgb: [0,0,252]},\r\n  {hex: '02', rgb: [0,0,188]},\r\n  {hex: '03', rgb: [68,40,188]},\r\n  {hex: '04', rgb: [148,0,132]},\r\n  {hex: '05', rgb: [168,0,32]},\r\n  {hex: '06', rgb: [168,16,0]},\r\n  {hex: '07', rgb: [136,20,0]},\r\n  {hex: '08', rgb: [80,48,0]},\r\n  {hex: '09', rgb: [0,120,0]},\r\n  {hex: '0A', rgb: [0,104,0]},\r\n  {hex: '0B', rgb: [0,88,0]},\r\n  {hex: '0C', rgb: [0,64,88]},\r\n  {hex: '0D', rgb: [0,0,0]},\r\n  {hex: '0E', rgb: [0,0,0]},\r\n  {hex: '0F', rgb: [0,0,0]},\r\n  {hex: '10', rgb: [188,188,188]},\r\n  {hex: '11', rgb: [0,120,248]},\r\n  {hex: '12', rgb: [0,88,248]},\r\n  {hex: '13', rgb: [104,68,252]},\r\n  {hex: '14', rgb: [216,0,204]},\r\n  {hex: '15', rgb: [228,0,88]},\r\n  {hex: '16', rgb: [248,56,0]},\r\n  {hex: '17', rgb: [228,92,16]},\r\n  {hex: '18', rgb: [172,124,0]},\r\n  {hex: '19', rgb: [0,184,0]},\r\n  {hex: '1A', rgb: [0,168,0]},\r\n  {hex: '1B', rgb: [0,168,68]},\r\n  {hex: '1C', rgb: [0,136,136]},\r\n  {hex: '1D', rgb: [0,0,0]},\r\n  {hex: '1E', rgb: [0,0,0]},\r\n  {hex: '1F', rgb: [0,0,0]},\r\n  {hex: '20', rgb: [248,248,248]},\r\n  {hex: '21', rgb: [60,188,252]},\r\n  {hex: '22', rgb: [104,136,252]},\r\n  {hex: '23', rgb: [152,120,248]},\r\n  {hex: '24', rgb: [248,120,248]},\r\n  {hex: '25', rgb: [248,88,152]},\r\n  {hex: '26', rgb: [248,120,88]},\r\n  {hex: '27', rgb: [252,160,68]},\r\n  {hex: '28', rgb: [248,184,0]},\r\n  {hex: '29', rgb: [184,248,24]},\r\n  {hex: '2A', rgb: [88,216,84]},\r\n  {hex: '2B', rgb: [88,248,152]},\r\n  {hex: '2C', rgb: [0,232,216]},\r\n  {hex: '2D', rgb: [120,120,120]},\r\n  {hex: '2E', rgb: [0,0,0]},\r\n  {hex: '2F', rgb: [0,0,0]},\r\n  {hex: '30', rgb: [252,252,252]},\r\n  {hex: '31', rgb: [164,228,252]},\r\n  {hex: '32', rgb: [184,184,248]},\r\n  {hex: '33', rgb: [216,184,248]},\r\n  {hex: '34', rgb: [248,184,248]},\r\n  {hex: '35', rgb: [248,164,192]},\r\n  {hex: '36', rgb: [240,208,176]},\r\n  {hex: '37', rgb: [252,224,168]},\r\n  {hex: '38', rgb: [248,216,120]},\r\n  {hex: '39', rgb: [216,248,120]},\r\n  {hex: '3A', rgb: [184,248,184]},\r\n  {hex: '3B', rgb: [184,248,216]},\r\n  {hex: '3C', rgb: [0,252,252]},\r\n  {hex: '3D', rgb: [216,216,216]},\r\n  {hex: '3E', rgb: [0,0,0]},\r\n  {hex: '3F', rgb: [0,0,0]},\r\n];\r\n\r\n// sort after hue\r\nconst sorted = nespalette.map((c, i) => ({rgb: rgbToHsl(c.rgb), index: i}))\r\n  .sort((a, b) => b.rgb[0] - a.rgb[0] || a.rgb[2] - b.rgb[2])\r\n  .map((data) => nespalette[data.index]);\r\n\r\n\r\nclass NESColor{\r\n  constructor(hex, rgb){\r\n    this.hex = hex;\r\n    this.rgb = rgb;\r\n    Object.freeze(this);\r\n  }\r\n}\r\n\r\n// create color objects to be easier to deal with throughout the application\r\nconst mappedColorList = sorted.map(color => new NESColor(color.hex, color.rgb));\r\n\r\nexport default mappedColorList;","import { writable } from 'svelte/store';\r\nimport NESPalette from '~/application/palettes/nespalette';\r\n\r\n// export the nespalette\r\nexport { NESPalette };\r\n\r\n\r\n// meta config\r\nexport const meta = {\r\n  startPage: '/graphics'\r\n};\r\n\r\n// console store\r\nexport const log = (() => {\r\n  const store = writable([]);\r\n  const { subscribe, update } = store;\r\n  return {\r\n    subscribe,\r\n    push(e){\r\n      if(e instanceof ErrorEvent){\r\n        const d = new Date();\r\n        const date = `${String(d.getHours()).padStart(2, '0')}:${String(d.getMinutes()).padStart(2, '0')}:${String(d.getSeconds()).padStart(2, '0')}`;\r\n        e.date = date;\r\n        update((store) => {\r\n          // don't let the array get to big so let's reset it  \r\n          // when it reaches a size of 20\r\n          if(store.length > 20){\r\n            store = [];\r\n          }\r\n          store.push(e);\r\n          return store;\r\n        });\r\n      }\r\n    }\r\n  }\r\n})();\r\n\r\n// project store\r\nexport const projectStore = (() => {\r\n  const { subscribe, set, update } = writable({\r\n    name: undefined,\r\n    saved: null,\r\n  });\r\n  return {\r\n    subscribe,\r\n    name: (name) => {\r\n      if(typeof name != 'string'){\r\n        throw new Error(`Invalid project name.`);\r\n      }\r\n      update(obj => ({...obj, name}));\r\n    },\r\n    save: (location) => {\r\n      console.log('saving to location:', location);\r\n    }\r\n  }\r\n})();","import { log } from '~/application/project';\r\n\r\n// disable context menu \r\nwindow.addEventListener('contextmenu', _ => _.preventDefault());\r\n\r\nwindow.addEventListener(\"error\", function (e) {\r\n  // e.preventDefault();\r\n  log.push(e);\r\n});\r\n\r\n// for debugging. remove in production\r\nwindow.addEventListener('keydown', (e) => {\r\n  // console.log('keydown debugging. remove in production.')\r\n  // console.log(e.code);\r\n});","/*\r\n  Enum\r\n*/\r\nexport class Enum extends Number{\r\n  constructor(value, key){\r\n    if(typeof value != 'number' || typeof key != 'string'){\r\n      throw new Error(`Invalid Enumerable arguments`);\r\n    }\r\n    super(value);\r\n    this.key = key;\r\n    this.value = value;\r\n    Object.freeze(this);\r\n  }\r\n}\r\n\r\n/*\r\n  EnumerableList\r\n\r\n  Usage:\r\n  const types = new EnumerableList('designer', 'programmer', 'webdeveloper');\r\n  console.log(types.get('programmer'));\r\n*/\r\nexport class EnumerableList extends Map{\r\n  constructor(...props){\r\n    super();\r\n    props.forEach((key, i) => {\r\n      if(this.has(key)){\r\n        throw new Error(`enum key : '${key}' already exists`);\r\n      }\r\n      if(typeof key !== 'string'){\r\n        throw new Error(`Invalid key. Expecting string, got : [${typeof key}](${key})`);\r\n      }\r\n      const EnumerableItem = new Enum(i+1, key);\r\n      this.set(key, EnumerableItem);\r\n    });\r\n    Object.freeze(this);\r\n  }\r\n}","import { EnumerableList, Enum } from 'enums-manager';\n\nexport class ActionsManager{\n  constructor(...actions){\n    // define\n    this.__actions = this.define(...actions);\n    this.__binds = new Map();\n  }\n  define(...args){\n    const list = new EnumerableList(...args);\n    this.__actions = list; \n    return list;\n  }\n  action(key){\n    if(!this.__actions.has(key)){\n      throw new Error(`Action is not defined for key '${key}'`);\n    } \n    return this.__actions.get(key);\n  }\n  register(k, f){\n    if(typeof k === 'string'){\n      this.register(this.action(k), f);\n      return;\n    }\n    if(!(k instanceof Enum)){\n      throw new Error(`Invalid key value '${k}'. Expecting instance of 'Enum'`);\n    }\n    if(this.__binds.has(k)){\n      throw new Error(`Action already defined : [${k.key}]`);\n    }\n    if(typeof f !== 'function'){\n      throw new Error(`Invalid callback function`);\n    }\n    this.__binds.set(k, f);\n  }\n  exist(value){\n    return this.__binds.has(value);\n  }\n  call(k, ...args){\n    if(typeof k === 'string'){\n      this.call(this.action(k), ...args);\n      return;\n    }\n    if(!(k instanceof Enum)){\n      throw new Error(`Invalid key '${k}'. Expecting 'Enum'`);\n    }\n    \n    if(!this.__binds.has(k)){\n      throw new Error(`Action for '${k}' does not exist`);\n    }\n    // handle promises to allow for chaining\n    return new Promise((resolve, reject) => {\n      try{\n        resolve(this.__binds.get(k).call(null, ...args));\n      }catch(error){\n        reject(error.message);\n      }\n    });\n  }\n  execute(...args){\n    return this.call(...args);\n  }\n}\n\n// create actions\nconst actions = new ActionsManager(\n  'noop', // a blank command\n  // application\n  'application_log',\n\n  // window\n  'window_close',\n  'window_minimize',\n  'window_maximize',\n  'window_toggle_fullscreen',\n  'external_link',\n  \n  \n  // palettes\n  'palette_clear',\n  'palette_create',\n  'palette_remove',\n  'palette_clone_layer',\n  'palette_clone_active_layer',\n  'palette_make_layer_active',\n  'palette_swap_layers',\n  'palette_update_layer_label',\n  'palette_focus_rename_active_layer',\n  'palette_export',\n  'palette_import',\n  'palette_active_color',\n  \n  // spritesheets\n  'spritesheet_create',\n  'spritesheet_remove',\n  'spritesheet_clone_layer',\n  'spritesheet_clone_active_layer',\n  'spritesheet_update_layer_label',\n  'spritesheet_make_layer_active',\n  'spritesheet_swap_layers',\n  'spritesheet_focus_rename_active_layer',\n  'spritesheet_zoom',\n  'spritesheet_zoom_in',\n  'spritesheet_zoom_out',\n  'spritesheet_zoom_reset',\n  'spritesheet_set_active_tool',\n  'spritesheet_import',\n  'spritesheet_export',\n  'spritesheet_import_chr',\n  'spritesheet_export_chr',\n  'spritesheet_export_png',\n\n  // themes\n  'toggle_theme',\n  'light_theme',\n  'dark_theme',\n);\n\nexport default actions;","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","import { saveAs } from 'file-saver';\r\n\r\nexport const filename = (filename, extension) => {\r\n  const d = new Date();\r\n  const date = `${String(d.getFullYear())}_${String(d.getMonth()).padStart(2, '0')}_${String(d.getDay()).padStart(2, '0')}`;\r\n  return `${date}_${filename}.${extension}`;\r\n}\r\n\r\nexport const fileDialog = (accept = [], callback = _ => _, options = { readAs: 'text'}) => {\r\n  if(!Array.isArray(accept)){\r\n    throw new Error(`Invalid 'fileDialog' accept. Expecting array of file extentions`);\r\n  }\r\n  if(typeof callback !== 'function'){\r\n    throw new Error(`Invalid 'fileDialog' callback function`);\r\n  }\r\n  const  input = document.createElement('input');\r\n  input.type = 'file';\r\n  input.accept = accept.map(ext => ext.startsWith('.') ? ext : '.' + ext).join(',');\r\n  \r\n  input.addEventListener('change', e => { \r\n    // getting a hold of the file reference\r\n    const file = e.target.files[0]; \r\n\r\n    // setting up the reader\r\n    const reader = new FileReader();\r\n\r\n    switch(options.readAs){\r\n      case 'binary':\r\n        reader.readAsBinaryString(file);\r\n      break;\r\n      case 'arraybuffer':\r\n        reader.readAsArrayBuffer(file);\r\n      break;\r\n      case 'text':\r\n      default:\r\n        reader.readAsText(file, options.encoding || 'utf-8');\r\n      break;\r\n    }\r\n\r\n    // here we tell the reader what to do when it's done reading...\r\n    reader.addEventListener('load', (e) => {\r\n      // call the palette import\r\n      callback.call(null, e.target.result);\r\n    });\r\n  });\r\n  \r\n  // execute it\r\n  input.click();\r\n}\r\n\r\nexport const saveDialog = (filename, data, options = {}) => {\r\n  const blob = new Blob([data], { type: options.type || \"application/json;charset=utf-8\" });\r\n  saveAs(blob, filename);\r\n}","export const application = {\r\n  startPage: '/graphics/spritesheets'\r\n}\r\n\r\nexport const filetypes = {\r\n  // project \r\n  project: {\r\n    save: {\r\n      mimetype: \"nesbit/project\",\r\n      extension: \"nesbitproject\",\r\n      version: 2\r\n    }\r\n  },\r\n  // palettes \r\n  palettes: {\r\n    save: {\r\n      mimetype: \"nesbit/palette\",\r\n      extension: \"nesbitpalette\",\r\n      version: 2,\r\n    },\r\n    export: {\r\n      mimetype: \"text/plain\",\r\n      extension: \"\",\r\n      version: 1\r\n    }\r\n  },\r\n  // spritesheets \r\n  spritesheets: {\r\n    save: {\r\n      mimetype: \"nesbit/spritesheet\",\r\n      extension: \"nesbitspritesheet\",\r\n      version: 1\r\n    },\r\n    export: {\r\n      mimetype: \"text/plain\",\r\n      extension: \"\",\r\n      version: 1\r\n    }\r\n  },\r\n\r\n  // settings\r\n  settings: {\r\n    save: {\r\n      mimetype: \"nesbit/settings\",\r\n      extension: \"nesbitsettings\",\r\n      version: 2\r\n    }\r\n  }\r\n}\r\n\r\nexport default { \r\n  application,\r\n  filetypes\r\n};","import { get, writable } from \"svelte/store\";\r\nimport NESPalette from '~/application/palettes/nespalette';\r\nimport Config from '~/nesbit.config';\r\n\r\nimport { uuid } from '~/utils/numbers';\r\n\r\n// get the default color\r\n// weird but wtf is it a reference or not? i'm just making sure we doesn't mutate the nespalette so we seralize and unserialize it here.\r\nconst findPalette = (hex) => JSON.parse(JSON.stringify(NESPalette.find(o => o.hex == hex)));\r\nconst colorPlaceholder = findPalette('0F');\r\n\r\n// store global id count\r\nlet id = 1;\r\n// colorpalette \r\nclass ColorPaletteGroup{\r\n  constructor(label, colors){\r\n    this.label = label || '';\r\n    this.colors = [];\r\n    this.uuid = ++id;\r\n    if(Array.isArray(colors) && colors.length == 4){\r\n      for(const color of colors){\r\n        this.addColor(color.hex);\r\n      }\r\n    }else{\r\n      this.colors = [...Array(4).fill('').map(item => ({ ...colorPlaceholder }))];\r\n    }\r\n  }\r\n  addColor(hex){\r\n    if(!(this.colors.length < 4)){\r\n      throw new Error(`Max 4 colors per 'ColorPaletteGroup'`);\r\n    }\r\n    const palette = findPalette(hex);\r\n    if(palette){\r\n      this.colors.push({...palette});\r\n    }\r\n  }\r\n}\r\n\r\n// store\r\nexport const palettesStore = (() => {\r\n  const reset = _ => ({\r\n    activeLayer: undefined, \r\n    layers: [],\r\n    selectedColor: 0,\r\n  });\r\n  const store = writable(reset());\r\n  const { subscribe, set, update } = store;\r\n  const storeFunctions = {\r\n    subscribe,\r\n    getActiveLayer(){\r\n      return get(store).activeLayer;\r\n    },\r\n    setSelectedColor(n){\r\n      if(!Number.isInteger(n)){\r\n        throw new Error(`Invalid 'setSelectedColor' value. Expecting 'Integer'`);\r\n      }\r\n      if(!(n >= 0 && n <= 4)){\r\n        throw new Error(`Invalid 'setSelectedColor' number range. Expecting number between '0-4'`);\r\n      }\r\n      update(store => {\r\n        store.selectedColor = n;\r\n        return store;\r\n      });\r\n    },\r\n    create({ label, colors } = {}){\r\n      update(store => {\r\n        label = label || 'palette_' + (store.layers.length+1);\r\n        const paletteGroup = new ColorPaletteGroup(label, colors);\r\n        store.layers.push(paletteGroup);\r\n        // make active \r\n        if(!store.activeLayer){\r\n          storeFunctions.makeActive(paletteGroup);\r\n        }\r\n\r\n        return store;\r\n      });\r\n    },\r\n    clear(){\r\n      // clear store\r\n      set(reset());\r\n    },\r\n    layerIndexFromSource(source){\r\n      const index = get(palettesStore).layers.indexOf(source);\r\n      return index;\r\n    },\r\n    getActiveColorIndex(){\r\n      return get(palettesStore).selectedColor;\r\n    },\r\n    getActiveColor(i){\r\n      const store = get(palettesStore); \r\n      return store.activeLayer.colors[(i >= 0 && i<= 4 ? i : store.selectedColor)];\r\n    },\r\n    makeActive(source){\r\n      // check to see if the source already is active so it doesn't gets called again \r\n      // if that would be the case \r\n      if(source == get(store).activeLayer){\r\n        return;\r\n      }\r\n      update(store => {\r\n        const index = store.layers.indexOf(source);\r\n        store.activeLayer = store.layers[index];\r\n        return store;\r\n      });\r\n    },\r\n    remove(source){\r\n      update((store) => {\r\n        const index = store.layers.indexOf(source);\r\n        if(store.layers[index] == store.activeLayer){\r\n          // if there is a palette/layer after the currently removed, make that one the active one \r\n          if(store.layers[index+1]){\r\n            storeFunctions.makeActive(store.layers[index+1]);\r\n          }else if(store.layers[index-1]){\r\n            storeFunctions.makeActive(store.layers[index-1]);\r\n          }else{\r\n            store.activeLayer = undefined;\r\n          }\r\n        }\r\n        // remove object\r\n        store.layers.splice(index, 1);\r\n        return store;\r\n      });\r\n    },\r\n    swapLayers(i, j){\r\n      update(store => {\r\n        const arr = [...store.layers];\r\n        [arr[i], arr[j]] = [arr[j], arr[i]]; \r\n        store.layers = [...arr]; \r\n        return store;  \r\n      });\r\n    },\r\n    clone(source){\r\n      if(!source) return;\r\n      const _store = get(store);\r\n      const index = _store.layers.indexOf(source);\r\n      if(_store.layers[index] == source){\r\n        update(store => {\r\n          let heading = source.label + ' copy';\r\n          const paletteGroup = new ColorPaletteGroup(heading);\r\n          for(const color in source.colors){\r\n            paletteGroup.colors[color] = {...findPalette(source.colors[color].hex)};\r\n          }\r\n          store.layers.push(paletteGroup);\r\n          storeFunctions.makeActive(paletteGroup);\r\n          return store;\r\n        });\r\n      }\r\n    },\r\n    updateHeading(source, string){\r\n      update(store => {\r\n        const index = store.layers.indexOf(source);\r\n        store.layers[index].label = string;\r\n        return store;\r\n      });\r\n    },\r\n    swapColors(data){\r\n      update((store) => {\r\n        const ref = store.layers[data.layerIndex].colors;\r\n        const ref2 = store.layers[data.to.layerIndex].colors;\r\n        // this is all redundant but in place if things change in the future        \r\n        let from = ref[data.colorIndex];\r\n        let to = ref2[data.to.colorIndex];\r\n        \r\n        // swap the colors\r\n        ref[data.colorIndex] = { ...findPalette(to.hex) };\r\n        ref2[data.to.colorIndex] = { ...findPalette(from.hex) };\r\n\r\n        // make active \r\n        if(data.layerIndex != data.to.layerIndex){\r\n          storeFunctions.makeActive(store.layers[data.to.layerIndex]);\r\n        }\r\n\r\n        return store;\r\n      });\r\n    },\r\n    replaceColor(data){\r\n      update((store) => {\r\n        const layer = store.layers[data.layerIndex];\r\n\r\n        // not really required but might be easier to manage in the future\r\n        const palette = findPalette(data.hex);\r\n\r\n        layer.colors[data.colorIndex] = {\r\n          hex: palette.hex,\r\n          rgb: palette.rgb\r\n        }\r\n\r\n        storeFunctions.makeActive(store.layers[data.layerIndex]);\r\n\r\n        return store;\r\n      });\r\n    },\r\n    export(serialize){\r\n      let data = {version: Config.filetypes.palettes.save.version, data: [...get(palettesStore).layers]};\r\n      if(serialize){\r\n        data = JSON.stringify(data);\r\n      }\r\n      return data;\r\n    },\r\n    import(serializedData){\r\n      const unserializedData = JSON.parse(serializedData);\r\n      if(unserializedData.version == Config.filetypes.palettes.save.version){\r\n        for(const palette of unserializedData.data){\r\n          storeFunctions.create({...palette})\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return storeFunctions;\r\n})();\r\n\r\n\r\n// NOTE: temp import during development \r\nconst json = `{\"version\":2,\"data\":[{\"label\":\"fire\",\"colors\":[{\"hex\":\"0F\",\"rgb\":[0,0,0]},{\"hex\":\"27\",\"rgb\":[252,160,68]},{\"hex\":\"06\",\"rgb\":[168,16,0]},{\"hex\":\"07\",\"rgb\":[136,20,0]}]},{\"label\":\"purple\",\"colors\":[{\"hex\":\"0F\",\"rgb\":[0,0,0]},{\"hex\":\"16\",\"rgb\":[248,56,0]},{\"hex\":\"13\",\"rgb\":[104,68,252]},{\"hex\":\"03\",\"rgb\":[68,40,188]}]},{\"label\":\"teal\",\"colors\":[{\"hex\":\"0F\",\"rgb\":[0,0,0]},{\"hex\":\"31\",\"rgb\":[164,228,252]},{\"hex\":\"1C\",\"rgb\":[0,136,136]},{\"hex\":\"0C\",\"rgb\":[0,64,88]}]},{\"label\":\"blue steele\",\"colors\":[{\"hex\":\"0F\",\"rgb\":[0,0,0]},{\"hex\":\"12\",\"rgb\":[0,88,248]},{\"hex\":\"01\",\"rgb\":[0,0,252]},{\"hex\":\"02\",\"rgb\":[0,0,188]}]}]}`;\r\npalettesStore.import(json);\r\n","import { writable as _writable, get } from \"svelte/store\"\r\n\r\nexport const writable = (value, fn) => {\r\n  const store = _writable(value);\r\n  let ret = { ...store, get: _ => get(store) };\r\n  if(fn){\r\n    ret = { ...ret, ...(fn.call(null, { value, store, get: ret.get } || { ...ret })) };\r\n  }\r\n  return Object.freeze(ret);\r\n}","// shuffel an array\r\n// https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\r\nexport const shuffle = (array) => {\r\n  for(let i = array.length - 1; i > 0; i--){\r\n    let j = Math.floor(Math.random() * (i + 1));\r\n    [array[i], array[j]] = [array[j], array[i]];\r\n  }\r\n  return array;\r\n}\r\n\r\n// split array into chunks\r\nexport const chunk = (array, size) => {\r\n  const length = array ? array.length : 0;\r\n  if(length < 1){\r\n    return [];\r\n  }\r\n  const result = new Array(Math.ceil(length / size));\r\n  let index = 0, resIndex = 0;\r\n  while(index < length){\r\n    result[resIndex++] = array.slice(index, (index += size));\r\n  }\r\n  return result;\r\n}","import * as array from './array.js';\r\n\r\n// convert the number to a binary string\r\nconst getBinaryStringFromNumber = (n) => {\r\n  // convert to binary\r\n  n = Number(n >>> 0).toString(2);\r\n  // force it's length to be 8 by padding 0's\r\n  return '00000000'.substring(n.length)+n;\r\n}\r\n\r\n/*\r\n  Get color definition from high low\r\n\r\n  the chr can have 4 values. 0-3. \r\n  'a' has a weight of 1 and 'b' has a weight of 2. \r\n  a, b, result\r\n  0, 0, 0, // both a and b are 0 so the result is 0\r\n  1, 0, 1, // a is set to 1 so it becomes one\r\n  0, 1, 2, // a is set to 0 and b is 1 so it becomes 2. (because b has a weight of 2)\r\n  1, 1, 3, // a and b is set to 1 so the result becomes 3. a(1) + b(2) = 3\r\n\r\n  @param String (binary string)\r\n  @param String (binary string)\r\n\r\n  @return Array\r\n*/\r\nfunction getColorDefinitionFromHighLow(low, high){\r\n  // this will be 0 or 1 if it does not get \r\n  // replaced in the following if statements\r\n  let n = Number(low);\r\n  // if high != 0. it's 2. since thats either 0 or 1. \r\n  // and if its not 0(which would be false) its 1. meaning it's 2\r\n  if(Number(high)){\r\n    n = 2;\r\n  }\r\n  // if low + high > 1(if both a and b is set. it's larger than 1. then we know it has to be 3. 1 + 2 = 3)\r\n  if((Number(low) + Number(high)) > 1){\r\n    n = 3;\r\n  }\r\n  return n;\r\n}\r\n\r\n/* \r\n  parse contents of a NES chr file \r\n\r\n  @param ArrayBuffer\r\n  @return Array\r\n\r\n  This function will return a 16x16 2d array of 8x8 2d array representing each tile \r\n*/\r\nexport const parse = (data) => {\r\n  // split the byte array in chunks of 16. 1 row = 16 tiles.\r\n  // a tile is 8x8. which means you have 64 pixels in each tile. \r\n  // each pixel has 4 available color values which ends up to (8x8) x 4(color value from 0-3) = 256.\r\n  const chunks = array.chunk(new Uint8Array(data), 16);\r\n  let tiles = [];\r\n  for(let chunk of chunks){\r\n    let low, high, tile = [];\r\n    // handle all 16 bits. \r\n    // the first 8 bits is the low \r\n    // and the second 8 bits is the high\r\n    for(let i = 8; i < 16; i++){\r\n      low = getBinaryStringFromNumber(chunk[i-8]);\r\n      high = getBinaryStringFromNumber(chunk[i]);\r\n      // create the pixel definition from the low and high bits\r\n      // this would be a row of 8 pixels. the loop will do \r\n      // this 8 times to form a 8x8 tile\r\n      const pixelRow = [];\r\n      for(let i = 0; i < 8; i++){\r\n        const pixel = getColorDefinitionFromHighLow(low[i], high[i]);\r\n        pixelRow.push(pixel);  \r\n      }\r\n      tile.push(pixelRow);\r\n    }\r\n    tiles.push(tile);\r\n  }\r\n  // split the tiles array by 16. \r\n  // 16 8x8 tiles per each row\r\n  tiles = array.chunk(tiles, 16);\r\n  // split the CHR data in parts of size(16 for the nes) for giving 16x16 per page\r\n  return array.chunk(tiles, 16);\r\n}\r\n\r\nconst colorMap = (pixel) => {\r\n  const rgb = Math.floor((pixel[0] + pixel[1] + pixel[2]) / 3);\r\n  return [0x00, 0x55, 0xAA, 0xFF].reduce((prev, curr) => {\r\n    return (Math.abs(curr - rgb) < Math.abs(prev - rgb) ? curr : prev);\r\n  });\r\n}\r\n\r\n/*\r\n  generate chr export\r\n  from the pixel definition we can get the corresponding low and high bits. this could be done manually or \r\n  by doing a bitwise AND and right shift the high bits by 1 to get the opposite values implemented below.\r\n\r\n  n: 0\r\n  0x00 & 0x01 = 0\r\n  00000000\r\n  00000001\r\n\r\n  n: 1\r\n  0x55 & 0x01 = 1\r\n  ‭01010101‬\r\n  00000001\r\n\r\n  n: 2\r\n  0xAA & 0x01 = 0\r\n  ‭10101010\r\n  00000001\r\n  ‬\r\n  n: 3\r\n  0xFF & 0x01 = 1\r\n  ‭11111111\r\n  00000001\r\n\r\n*/\r\nexport const generateExport = (data) => {\r\n  // mappings of 4 parts of hex value up to 255. \r\n  // this to be able to implement colors later \r\n  const map = [0x00, 0x55, 0xAA, 0xFF];\r\n  // 4kb buffer\r\n  const buff = new ArrayBuffer(4096);\r\n  const output = new Uint8Array(buff);\r\n  // store the binary string\r\n  let bin = '';\r\n  // loop through the nested 2d arrays\r\n  for(let h of data){\r\n    for(let w of h){\r\n      // store low and high bits\r\n      let low = '', high = '';\r\n      for(let x of w){\r\n        for(let n of x){\r\n          // map current value for numbers 0-4\r\n          const v = map[n];\r\n          low += v & 0x01;\r\n          high += (v >> 1) & 0x01;\r\n        }\r\n      }\r\n      // add the low and high values to binary\r\n      bin += low + high;\r\n    }\r\n  }\r\n  // split binary string in 8's and append each 8 bits to the buffer\r\n  bin.match(/.{8}/g).map((_, i) => output[i] = parseInt(_, 2));\r\n  return output;\r\n}","import { writable } from '~/utils/store';\r\n\r\nimport NESPalette from '~/application/palettes/nespalette';\r\nimport Config from '~/nesbit.config';\r\n\r\n// get the default color\r\n// weird but wtf is it a reference or not? i'm just making sure we doesn't mutate the nespalette so we seralize and unserialize it here.\r\nconst findNESPalette = (hex) => JSON.parse(JSON.stringify(NESPalette.find(o => o.hex == hex)));\r\nconst colorPlaceholder = findNESPalette('0F');\r\n\r\n// store global id count\r\nlet id = 1;\r\n// colorpalette \r\nclass ColorPaletteGroup{\r\n  constructor(label, colors){\r\n    this.label = label || '';\r\n    this.colors = [];\r\n    this.uuid = ++id;\r\n    if(Array.isArray(colors) && colors.length == 4){\r\n      for(const color of colors){\r\n        this.addColor(color.hex);\r\n      }\r\n    }else{\r\n      this.colors = [...Array(4).fill('').map(item => ({ ...colorPlaceholder }))];\r\n    }\r\n  }\r\n  addColor(hex){\r\n    if(!(this.colors.length < 4)){\r\n      throw new Error(`Max 4 colors per 'ColorPaletteGroup'`);\r\n    }\r\n    const palette = findNESPalette(hex);\r\n    if(palette){\r\n      this.colors.push({...palette});\r\n    }\r\n  }\r\n}\r\n\r\n// selected color store\r\nconst selectedColor = writable(0, ({ store, get }) => {\r\n  return {\r\n    // set the active color index\r\n    setActiveColorIndex(n){\r\n      if(!Number.isInteger(n)){\r\n        throw new Error(`Invalid 'setActiveColorIndex' value. Expecting 'Integer'`);\r\n      }\r\n      if(!(n >= 0 && n <= 4)){\r\n        throw new Error(`Invalid 'setActiveColorIndex' number range. Expecting number between '0-4'`);\r\n      }\r\n      store.set(n);\r\n    },\r\n    // get active color value\r\n    getActiveColorValue(n){\r\n      const activeLayer = Palettes.stores.activeLayer.get();\r\n      if(!activeLayer){\r\n        throw new Error(`No 'activeLayer' selected`);\r\n      }\r\n      if(!Number.isInteger(n)){\r\n        n = get();\r\n      }\r\n      return activeLayer.colors[n];\r\n    }\r\n  }\r\n});\r\n\r\n// layers store\r\nconst layers = writable([], ({ store, value, get, update }) => {\r\n  return {\r\n    // clear all layers\r\n    clear(){\r\n      Palettes.stores.activeLayer.set(undefined);\r\n      store.set([]);\r\n    },\r\n    // swap layers\r\n    swapLayers(i, j){\r\n      store.update(_store => {\r\n        const arr = [..._store];\r\n        [arr[i], arr[j]] = [arr[j], arr[i]]; \r\n        _store = [...arr]; \r\n        Palettes.stores.activeLayer.set(_store[j]);\r\n        return _store;  \r\n      });\r\n    },\r\n    // replace color\r\n    replaceColor(data){\r\n      store.update((_store) => {\r\n        const layer = _store[data.layerIndex];\r\n        // not really required but might be easier to manage in the future\r\n        const colorFromPalette = findNESPalette(data.hex);\r\n\r\n        // add the new color values\r\n        layer.colors[data.colorIndex] = {\r\n          hex: colorFromPalette.hex,\r\n          rgb: colorFromPalette.rgb\r\n        }\r\n\r\n        // make the layer active. This updates the activeLayer so we don't have to \r\n        // force a manual update to make main artboard palette react to the changes\r\n        // and also it's nice to automatically change the active palette\r\n        Palettes.makeLayerActive(_store[data.layerIndex]);\r\n        return _store;\r\n      });\r\n    },\r\n\r\n    // swap colors\r\n    swapColors(data){\r\n      store.update((_store) => {\r\n        Palettes.update();\r\n        const ref = _store[data.layerIndex].colors;\r\n        const ref2 = _store[data.to.layerIndex].colors;\r\n        // this is all redundant but in place if things change in the future        \r\n        let from = ref[data.colorIndex];\r\n        let to = ref2[data.to.colorIndex];\r\n        \r\n        // swap the colors\r\n        ref[data.colorIndex] = { ...findNESPalette(to.hex) };\r\n        ref2[data.to.colorIndex] = { ...findNESPalette(from.hex) };\r\n\r\n        // make active just to force a reactive update and also if swapped \r\n        // between layers we use the new layer\r\n        Palettes.makeLayerActive(_store[data.to.layerIndex]);\r\n\r\n        return _store;\r\n      });\r\n    },\r\n  }\r\n})\r\n\r\nexport const Palettes = writable({ selectedColor, activeLayer: writable(), layers }, ({ store, value, get }) => {\r\n  return {\r\n    lastChanged: writable(), \r\n    stores: value,\r\n    // update\r\n    update(){\r\n      Palettes.lastChanged.set(Math.random() + Date.now()); \r\n    },\r\n    // create new color palette\r\n    createLayer({ label, colors } = {}, push = false){\r\n      value.layers.update(_store => {\r\n        label = label || 'palette_' + (_store.length+1);\r\n        const paletteGroup = new ColorPaletteGroup(label, colors);\r\n        // if we need to add the new layer to the end of the layer stack\r\n        // for instance on imports, else imports would become reversed\r\n        if(push){\r\n          _store = [..._store, paletteGroup];\r\n        }else{\r\n          _store = [paletteGroup, ..._store];\r\n        }\r\n        // make active \r\n        Palettes.makeLayerActive(paletteGroup);\r\n        return _store;\r\n      });\r\n    },\r\n\r\n    // remove layer\r\n    removeLayer(ColorPaletteGroupInstance){\r\n      value.layers.update((_store) => {\r\n        const index = _store.indexOf(ColorPaletteGroupInstance);\r\n        if(ColorPaletteGroupInstance == value.activeLayer.get()){\r\n          // if there is a palette/layer after the currently removed, make that one the active one \r\n          if(_store[index+1]){\r\n            Palettes.makeLayerActive(_store[index+1]);\r\n          }else if(_store[index-1]){\r\n            Palettes.makeLayerActive(_store[index-1]);\r\n          }else{\r\n            value.activeLayer.set(undefined);\r\n          }\r\n        }\r\n        // remove object\r\n        _store.splice(index, 1);\r\n        return _store;\r\n      });\r\n    },\r\n\r\n    // clone layer \r\n    cloneLayer(ColorPaletteGroupInstance){\r\n      // TODO: make so the index position is right above the clones layer. currently\r\n      // it gets added to the top of the stack as the first array element, which is not ideal.\r\n      value.layers.update((_store) => {\r\n        let { label, colors } = ColorPaletteGroupInstance;\r\n        // NOTE: probably have to serialize the data so it doesn't act as a reference \r\n        // data = JSON.stringify(JSON.parse(data));\r\n        label = label + ' copy';\r\n        const newLayer = new ColorPaletteGroup(label, colors);\r\n        _store = [ newLayer, ..._store];\r\n        Palettes.makeLayerActive(newLayer);\r\n        return _store;  \r\n      });\r\n    },\r\n    \r\n    // clone active layer \r\n    cloneActiveLayer(){\r\n      const active = value.activeLayer.get();\r\n      if(active){\r\n        Palettes.cloneLayer(active);\r\n      }else{\r\n        Palettes.createLayer();\r\n      }\r\n    },\r\n\r\n    // make a layer active\r\n    makeLayerActive(ColorPaletteGroupInstance){\r\n      if(!(ColorPaletteGroupInstance instanceof ColorPaletteGroup)){\r\n        throw new Error(`Invalid 'ColorPaletteGroupInstance' while setting 'activeLayer'`);\r\n      }\r\n      value.activeLayer.set(ColorPaletteGroupInstance);\r\n    },\r\n\r\n    // layer index from source\r\n    layerIndexFromSource(ColorPaletteGroupInstance){\r\n      if(!(ColorPaletteGroupInstance instanceof ColorPaletteGroup)){\r\n        throw new Error(`Invalid 'ColorPaletteGroupInstance' in 'layerIndexFromSource'`);\r\n      }\r\n      return value.layers.get().indexOf(ColorPaletteGroupInstance);\r\n    },\r\n    \r\n    // update label\r\n    updateLayerLabel(ColorPaletteGroupInstance, label){\r\n      value.layers.update((_store) => {\r\n        ColorPaletteGroupInstance.label = label;\r\n        Palettes.makeLayerActive(ColorPaletteGroupInstance);\r\n        return _store;\r\n      });\r\n    },\r\n\r\n    // import \r\n    import(serializedData){\r\n      const shouldMakeActive = Palettes.stores.layers.get().length <= 0;\r\n      const unserializedData = JSON.parse(serializedData);\r\n      if(unserializedData.version == Config.filetypes.palettes.save.version){\r\n        for(const palette of unserializedData.data){\r\n          Palettes.createLayer({ ...palette }, true);\r\n        }\r\n      }\r\n      if(shouldMakeActive && Palettes.stores.layers.length){\r\n        Palettes.makeLayerActive(Palettes.stores.layers.get()[0]);\r\n      }\r\n    },\r\n\r\n    // export\r\n    export(serialize){\r\n      const layers = Palettes.stores.layers.get();\r\n      let data = { version: Config.filetypes.palettes.save.version, data: [...layers] };\r\n      if(serialize){\r\n        data = JSON.stringify(data);\r\n      }\r\n      return data;\r\n    },\r\n\r\n  }\r\n});\r\n\r\n// NOTE: temp import during development \r\nconst json = `{\"version\":2,\"data\":[{\"label\":\"fire\",\"colors\":[{\"hex\":\"0F\",\"rgb\":[0,0,0]},{\"hex\":\"27\",\"rgb\":[252,160,68]},{\"hex\":\"06\",\"rgb\":[168,16,0]},{\"hex\":\"07\",\"rgb\":[136,20,0]}]},{\"label\":\"purple\",\"colors\":[{\"hex\":\"0F\",\"rgb\":[0,0,0]},{\"hex\":\"16\",\"rgb\":[248,56,0]},{\"hex\":\"13\",\"rgb\":[104,68,252]},{\"hex\":\"03\",\"rgb\":[68,40,188]}]},{\"label\":\"teal\",\"colors\":[{\"hex\":\"0F\",\"rgb\":[0,0,0]},{\"hex\":\"31\",\"rgb\":[164,228,252]},{\"hex\":\"1C\",\"rgb\":[0,136,136]},{\"hex\":\"0C\",\"rgb\":[0,64,88]}]},{\"label\":\"blue steele\",\"colors\":[{\"hex\":\"0F\",\"rgb\":[0,0,0]},{\"hex\":\"12\",\"rgb\":[0,88,248]},{\"hex\":\"01\",\"rgb\":[0,0,252]},{\"hex\":\"02\",\"rgb\":[0,0,188]}]}]}`;\r\nPalettes.import(json);","import { Palettes } from '~/stores/palettes.store.js';\r\n\r\nexport default class CanvasLayer{\r\n  constructor({ label, width, height, data } = {}){\r\n    this._isInitialized = false;\r\n    this.uuid = Math.random() + Date.now();\r\n    this.width = width || 128;\r\n    this.height = height || 128;\r\n    this.label = label || ''\r\n    this.element = document.createElement('canvas');\r\n    this.element.width = this.width;\r\n    this.element.height = this.height;\r\n    this.context = this.element.getContext('2d');\r\n    this.data = data;\r\n    // generate a double nested array list. 16x16 column then inside each tile they are 8x8 pixels wide\r\n    if(!this.data){\r\n      this.data = new Array(16).fill().map(_ => new Array(16).fill().map(_ => new Array(8).fill().map(_ => new Array(8).fill().map(_ => 0))));\r\n    }else{\r\n      if(!this._isInitialized){\r\n        // draw it on first instantiation else imports wont reveal themselves unless becoming active layers\r\n        this.drawFromSource(Palettes.stores.activeLayer.get());\r\n      }\r\n    }\r\n  }\r\n  async toDataURL(mimetype = 'image/png', quality){\r\n    const blob = await fetch(this.element.toDataURL(mimetype, quality)).then(res => res.blob());\r\n    return blob;\r\n  }\r\n  // get palette info from x y \r\n  colorIndexAtPosition(x, y){\r\n    const data = this.data;\r\n    const rc = {x: Math.floor(x / 8), y: Math.floor(y / 8)};\r\n    const tile = {x: x % 8, y: y % 8};\r\n    const colorIndex = data[rc.y][rc.x][tile.y][tile.x];\r\n    return colorIndex;\r\n  }\r\n  setColorIndexAtPosition(x, y, colorIndex){\r\n    const data = this.data;\r\n    const rc = {x: Math.floor(x / 8), y: Math.floor(y / 8)};\r\n    const tile = {x: x % 8, y: y % 8};\r\n    data[rc.y][rc.x][tile.y][tile.x] = colorIndex;\r\n  }\r\n  drawFromSource(palette){\r\n    if(!palette) return;\r\n    if(!this._isInitialized){\r\n      this._isInitialized = true;\r\n    }\r\n\r\n    // TODO: whenever a drawFromSource happends store a history \r\n    // of it so it's possible to revert changes and mistakes\r\n    // this.history.push(this.data); \r\n\r\n    // one line list of tiles... split on % 16 for new row\r\n    this.data.map((trow, tr) => {\r\n      trow.map((tcol, tc) => {\r\n        this.context.save();\r\n        this.context.translate(tc*8, tr*8)\r\n\r\n          tcol.map((col, c) => {\r\n            this.context.save()\r\n            this.context.translate(0, c)\r\n\r\n              col.map((row, r) => {\r\n                this.context.save();\r\n                this.context.translate(r, 0);\r\n\r\n                let color = palette.colors[row];\r\n                if(!color){\r\n                  return;\r\n                }\r\n                this.context.fillStyle = `rgb(${color.rgb})`;\r\n                this.context.fillRect(0,0,1,1);\r\n                this.context.restore();\r\n\r\n              });\r\n              \r\n            this.context.restore();\r\n          });\r\n\r\n        this.context.restore();      \r\n      });\r\n    });\r\n    \r\n  }\r\n  clear(){\r\n    this.context.clearRect(0, 0, this.element.width, this.element.height);\r\n  }\r\n}","import { writable } from '~/utils/store.js';\r\nimport * as chr from '~/utils/chr.js';\r\nimport CanvasLayer from '~/modules/spritesheet_editor/CanvasLayer.js';\r\n\r\nimport Config from '~/nesbit.config.js';\r\n\r\nconst layers = writable([], ({ store, value, get }) => {\r\n  return {\r\n    // swap layers\r\n    swapLayers(i, j){\r\n      store.update(_store => {\r\n        const arr = [..._store];\r\n        [arr[i], arr[j]] = [arr[j], arr[i]]; \r\n        _store = [...arr]; \r\n        Spritesheets.stores.activeLayer.set(_store[i]);\r\n        return _store;  \r\n      });\r\n    },\r\n  }\r\n})\r\n\r\nconst activeLayer = writable(undefined);\r\n\r\nexport const Spritesheets = writable({ activeLayer, layers }, ({ store, value, get }) => {\r\n  const findLayerFromIndex = (index) => {\r\n    const layers = Spritesheets.stores.layers.get();\r\n    if(!layers[index]){\r\n      throw new Error(`Could not find layer by index : [${index}]`);\r\n    }\r\n    return layers[index];\r\n  };\r\n\r\n  const findLayerIndexFromInstance = (CanvasLayerInstance) => {\r\n    const index = Spritesheets.stores.layers.get().indexOf(CanvasLayerInstance)\r\n    if(!index){\r\n      throw new Error(`Could not find layer by index : [${index}]`);\r\n    }\r\n    return index;\r\n  };\r\n\r\n  return {\r\n    data: {\r\n      width: 128,\r\n      height: 128,\r\n    },\r\n    stores: value,\r\n    // create a new spritesheet layer\r\n    createLayer({ label, data } = {}){\r\n      Spritesheets.stores.layers.update(_store => {\r\n        label = label || 'spritesheet_' + (_store.length+1);\r\n        const CanvasLayerInstance = new CanvasLayer({ label, data });\r\n        const _store_copy = [CanvasLayerInstance, ..._store];\r\n        // _store = [..._store, CanvasLayerInstance];\r\n        // do we always want to make the new layer active?\r\n        // if(_store.length <= 1){\r\n        //   Spritesheets.makeLayerActive(CanvasLayerInstance);\r\n        // }\r\n        // make new layer active\r\n        Spritesheets.makeLayerActive(CanvasLayerInstance);\r\n        return _store_copy;\r\n      });\r\n    },\r\n\r\n    // remove layer\r\n    // NOTE: memory leak if all layers is removed. adding layer after all is remove\r\n    // leas to more and more memory leaks for each time the whole array gets empty. \r\n    removeLayer(CanvasLayerInstance){\r\n      Spritesheets.stores.layers.update((_store) => {\r\n        let _store_copy = [..._store];\r\n        const index = _store_copy.indexOf(CanvasLayerInstance);\r\n        if(CanvasLayerInstance == Spritesheets.stores.activeLayer.get()){\r\n          // if there is a palette/layer after the currently removed, make that one the active one \r\n          if(_store_copy[index+1]){\r\n            Spritesheets.makeLayerActive(_store_copy[index+1]);\r\n          }else if(_store_copy[index-1]){\r\n            Spritesheets.makeLayerActive(_store_copy[index-1]);\r\n          }else{\r\n            Spritesheets.stores.activeLayer.set(undefined);\r\n          }\r\n        }\r\n        // remove object\r\n        _store_copy = _store_copy.filter(instance => instance != CanvasLayerInstance);\r\n        return _store_copy;\r\n      });\r\n    },\r\n\r\n    // clone layer \r\n    cloneLayer(CanvasLayerInstance){\r\n      // TODO: make so the index position is right above the clones layer. currently\r\n      // it gets added to the top of the stack as the first array element, which is not ideal.\r\n      Spritesheets.stores.layers.update((_store) => {\r\n        let { width, height, label, data } = CanvasLayerInstance;\r\n        // we need to serialize the data else it will reference the same data\r\n        if(Array.isArray(data)){\r\n          data = JSON.parse(JSON.stringify(data));\r\n        }\r\n        label = label + ' copy';\r\n        const newLayer = new CanvasLayer({ width, height, label, data });\r\n        _store = [ newLayer, ..._store];\r\n        Spritesheets.makeLayerActive(newLayer);\r\n        return _store;  \r\n      });\r\n    },\r\n    \r\n    // clone active layer \r\n    cloneActiveLayer(){\r\n      const active = Spritesheets.stores.activeLayer.get();\r\n      if(active){\r\n        Spritesheets.cloneLayer(active);\r\n      }else{\r\n        Spritesheets.createLayer();\r\n      }\r\n    },\r\n    // make a layer active\r\n    makeLayerActive(CanvasLayerInstance){\r\n      if(!(CanvasLayerInstance instanceof CanvasLayer)){\r\n        throw new Error(`Invalid 'CanvasLayerInstance' while setting 'activeLayer'`);\r\n      }\r\n      Spritesheets.stores.activeLayer.set(CanvasLayerInstance);\r\n    },\r\n\r\n    // update label\r\n    updateLayerLabel(CanvasLayerInstance, label){\r\n      Spritesheets.stores.layers.update((_store) => {\r\n        CanvasLayerInstance.label = label;\r\n        return _store;\r\n      });\r\n    },\r\n\r\n    // import \r\n    import(serializedData){\r\n      const unserializedData = JSON.parse(serializedData);\r\n      if(unserializedData.version == Config.filetypes.spritesheets.save.version){\r\n        for(const spritesheet of unserializedData.data){\r\n          Spritesheets.createLayer({ ...spritesheet })\r\n        }\r\n      }\r\n    },\r\n\r\n    // export \r\n    export(serialize){\r\n      let data = { version: Config.filetypes.spritesheets.save.version, data: [ ...Spritesheets.stores.layers.get() ] };\r\n      if(serialize){\r\n        data = JSON.stringify(data);\r\n      }\r\n      return data;\r\n    },\r\n\r\n    // import chr\r\n    importCHR(filedata){\r\n      const result = chr.parse(filedata);\r\n      result.forEach(page => Spritesheets.createLayer({ data: page }));\r\n    },\r\n\r\n    // export chr\r\n    exportCHR(){\r\n      const activeLayer = Spritesheets.stores.activeLayer.get();\r\n      if(!activeLayer || !activeLayer.data){\r\n        throw new Error(`Unable to export CHR. No 'activeLayer'`);  \r\n      }\r\n      const bytearray = chr.generateExport(activeLayer.data);\r\n      return { label: activeLayer.label, data: bytearray };\r\n    },\r\n    \r\n    // export image\r\n    exportAsImage(callback, mimetype = 'image/png', quality = 1){\r\n      const activeLayer = Spritesheets.stores.activeLayer.get();\r\n      if(!(activeLayer instanceof CanvasLayer)){\r\n        throw new Error(`Unable to export Image. No 'activeLayer'`);\r\n      }\r\n      const fn = (blob) => {\r\n        callback.call(null, { blob, label: activeLayer.label, options: { mimetype, quality } });\r\n      };\r\n      return { label: activeLayer.label, image: activeLayer.element.toBlob(fn, mimetype, quality), options: { type: mimetype } };\r\n    }\r\n  }\r\n});\r\n\r\n// temp\r\nSpritesheets.createLayer();\r\n","import { EnumerableList, Enum } from 'enums-manager';\r\n\r\n// tools \r\nexport const ToolTypes = new EnumerableList(\r\n  'pointer', \r\n  'pen', \r\n  'paintbucket', \r\n  'eyedropper', \r\n  'colorswap', \r\n  'transform', \r\n  'marquee', \r\n  'zoom', \r\n  'preview', \r\n  'tileswap', \r\n  'preview_region',\r\n  'tilecolor'\r\n);\r\n\r\nexport const icons = {\r\n  stop: 'M14 14.655l-5.799.908 3.393 6.917-3.112 1.52-3.412-6.982-4.07 3.651v-15.857l13 9.843zm3-14.655c-3.313 0-6 2.687-6 6s2.687 6 6 6 6-2.687 6-6-2.686-6-6-6zm-4 6c0-.739.215-1.424.567-2.019l5.453 5.453c-.595.351-1.28.566-2.02.566-2.206 0-4-1.794-4-4zm7.434 2.02l-5.453-5.453c.595-.352 1.28-.567 2.019-.567 2.206 0 4 1.794 4 4 0 .74-.215 1.424-.566 2.02z',\r\n}\r\n\r\nexport class Cursor{\r\n  constructor(props){\r\n    this.icon = '';\r\n    this.offset = {x: 0, y: 0};\r\n    this.size = {width: 11, height: 11};\r\n    this.scale = {x: 1, y: 1};\r\n    Object.assign(this, props);\r\n  }\r\n}\r\n\r\nexport default class Tool{\r\n  constructor(props){\r\n    this.visible_in_toolbar = true;\r\n    this.pixelIndicator = false;\r\n    this.singleAction = false;\r\n  }\r\n  get optionsPanelComponent(){\r\n    return undefined;\r\n  }\r\n  onMount(){}\r\n  onDestroy(){}\r\n  primary(){}\r\n  secondary(){}\r\n  move(){}\r\n  mouseup(){}\r\n  reset(){}\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nexport default class Pointer extends Tool{\r\n  constructor(){\r\n    super();\r\n    this.name = 'pointer';\r\n    this.enum = ToolTypes.get('pointer');\r\n    this.weight = 100;\r\n    this.icon = 'M4 0l16 12.279-6.78 1.138 4.256 8.676-3.902 1.907-4.281-8.758-5.293 4.581z';\r\n    this.cursor = new Cursor({});\r\n  }\r\n  primary({x, y, context}){}\r\n  secondary({x, y, context}){}\r\n  move({x, y, context}){}\r\n}","/*\r\n  requestanimationframe loop\r\n  \r\n  @param callback (Function)\r\n  @param fps (Number) (optional)\r\n  \r\n  @return cancel (Function)\r\n\r\n  Usage:\r\n  const stop = AnimationLoop((delta, framecount, stop, time) => {\r\n    console.log(delta, framecount);\r\n    if(framecount > 99){\r\n      stop();\r\n    }\r\n  }, 30);\r\n*/\r\nexport const AnimationLoop = (fn, fps = null) => {\r\n  if(typeof fn !== 'function'){\r\n    throw new Error(`Invalid callback function.`);\r\n  }\r\n  let paused = false;\r\n  let framecount = 0;\r\n  let animation;\r\n  let lastTime = performance.now();\r\n  const cancel = _ => cancelAnimationFrame(animation);\r\n  const pause = _ => paused = true;\r\n  const play = _ => paused = false;\r\n  const toggle = _ => paused = !paused;\r\n  const loop = (time) => {\r\n    animation = requestAnimationFrame(loop);\r\n    if(paused){\r\n      return;\r\n    }\r\n    const delta = time - lastTime;\r\n    const now = performance.now();\r\n    if(!fps || now - lastTime > 1000 / fps){\r\n      fn.call(null,{ delta: delta / 1000, frame: ++framecount, cancel, time, pause, play });\r\n      lastTime = time;\r\n    }\r\n  };\r\n  animation = requestAnimationFrame(loop);\r\n  return {\r\n    unsubscribe: cancel,\r\n    pause,\r\n    play,\r\n    toggle,\r\n  };\r\n};\r\n","export default class Layer{\r\n  constructor(){\r\n    this.canvas = document.createElement('canvas');\r\n    this.canvas.width = 128;\r\n    this.canvas.height = 128;\r\n    this.context = this.canvas.getContext('2d');\r\n  }\r\n  render(){\r\n    console.log('Render not implemented');\r\n  }\r\n}","import Layer from './layer.js';\r\n\r\nexport default class Grid extends Layer{\r\n  constructor(...args){\r\n    super(...args);\r\n    this.width = 128;\r\n    this.height = 128; \r\n    this.size = 8; \r\n    this.o1 = .05; \r\n    this.o2 = .005;\r\n  }\r\n  render(){\r\n    this.context.clearRect(0,0,this.width, this.height);\r\n    this.context.globalAlpha = 1;\r\n    for(let ix = 0; ix <= (this.width/this.size); ix++){\r\n      for(let iy = 0; iy <= (this.height/this.size); iy++){\r\n          this.context.save();\r\n          this.context.translate(ix*this.size, iy*this.size);\r\n          if((ix+iy) % 2 == 0){\r\n            this.context.globalAlpha = this.o1;\r\n            this.context.fillStyle = 'white';\r\n          }else{\r\n            this.context.globalAlpha = this.o2;          \r\n            this.context.fillStyle = 'black';\r\n          }\r\n          this.context.fillRect(0, 0, this.size, this.size);\r\n          this.context.restore();\r\n        \r\n        // TODO: fix the gradient that occurs on each 8x8 tile.\r\n        // also at the top, the first 8 rows is gradient shifted.\r\n        // if(ix % this.size == 0){\r\n        //   this.context.save();\r\n        //   this.context.translate(ix, iy);\r\n        //     if(((ix + iy) / this.size) % 2 == 0){\r\n        //       this.context.fillStyle = 'white';\r\n        //       this.context.globalAlpha = this.o1;              \r\n        //     }else{\r\n        //       this.context.fillStyle = 'black';\r\n        //       // this.context.globalAlpha = this.o2;\r\n        //     }\r\n        //     this.context.fillRect(0,0,8,8);\r\n        //   this.context.restore();\r\n        // }\r\n      }\r\n    }\r\n  }\r\n}","import Layer from './layer.js';\r\n\r\nexport default class Cursor extends Layer{\r\n  constructor(...args){\r\n    super(...args);\r\n    this.width = 128;\r\n    this.height = 128; \r\n    this.size = 1;\r\n    this.x;\r\n    this.y;\r\n  }\r\n  render(){\r\n    if(!this.x || !this.y) return;\r\n    this.context.clearRect(0, 0, this.width, this.height);\r\n    this.context.globalAlpha = .4;\r\n    this.context.fillStyle = 'white';\r\n    this.context.fillRect(this.x, this.y, this.size, this.size);\r\n  }\r\n}","import { AnimationLoop } from '~/application/spritesheets/animationloop';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\n\r\n// layers\r\nimport Grid from './layers/grid.layer.js';\r\nimport Cursor from './layers/cursor.layer.js';\r\n\r\nexport const Type = Object.freeze({ primary: 1, secondary: 2, move: 3, mouseup: 4 });\r\n\r\nconst overlayCanvas = () => {\r\n  const canvas = document.createElement('canvas');\r\n  canvas.width = 128;\r\n  canvas.height = 128;\r\n  const context = canvas.getContext('2d');\r\n  return { canvas, context };\r\n}\r\n\r\nexport const grid = new Grid();\r\nexport const cursor = new Cursor();\r\n\r\nconst overlays = [\r\n  grid,\r\n  cursor\r\n];\r\n\r\nexport default class SpritesheetEditor{\r\n  defineCanvas(canvas){\r\n    this.canvas = canvas;\r\n    this.context = this.canvas.getContext('2d');\r\n    this.canvas.addEventListener('mousedown', this.eventHandler.mousedown);\r\n  }\r\n\r\n  constructor({ canvas, context, width, height }){\r\n    this.activeLayer = undefined;\r\n    this.activePaletteLayer = undefined;\r\n    this.lastChanged = undefined;\r\n\r\n    this.canvas;\r\n    this.context;\r\n\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    const fps = 0;\r\n    this.animationLoop = AnimationLoop(this.render.bind(this), fps);\r\n    \r\n    this.events = {};\r\n    this.eventHandler = {};\r\n\r\n    const callActionType = (type, e) => {\r\n      e.mouseIsDown = mouseIsDown;\r\n      switch(type){\r\n        case Type.primary:\r\n          callEvent('primary', e);\r\n        break;\r\n        case Type.secondary:\r\n          callEvent('secondary', e);\r\n        break;\r\n        case Type.move:\r\n          callEvent('move', e); \r\n        break;\r\n        case Type.mouseup:\r\n          callEvent('mouseup', e); \r\n        break;\r\n        default:\r\n          console.log('hmm...')\r\n      }\r\n    }\r\n\r\n    // temp to see if mouse pos handles the transform css scale\r\n    function  getMousePos(canvas, evt) {\r\n      if(!canvas) return {x: 0, y: 0};\r\n      const rect = canvas.getBoundingClientRect(), // abs. size of element\r\n        scaleX = canvas.width / rect.width,    // relationship bitmap vs. element for X\r\n        scaleY = canvas.height / rect.height;  // relationship bitmap vs. element for Y\r\n    \r\n      return {\r\n        x: Math.floor((evt.clientX - rect.left) * scaleX),   // scale mouse coordinates after they have\r\n        y: Math.floor((evt.clientY - rect.top) * scaleY)     // been adjusted to be relative to element\r\n      }\r\n    }\r\n\r\n    const callEvent = (type, e) => {\r\n      if(this.events[type]){\r\n        e.realMousePosition = getMousePos(this.canvas, e); \r\n        this.events[type].call(null, e);\r\n      }\r\n    }\r\n    // handle event actions\r\n    let mouseIsDown = false;\r\n    this.eventHandler.mousemove = (e) => {\r\n      callActionType(Type.move, e);\r\n    }\r\n    this.eventHandler.mouseup = e => {\r\n      mouseIsDown = false;\r\n      callActionType(Type.mouseup, e);\r\n    };\r\n    this.eventHandler.mousedown = (e) => {\r\n      mouseIsDown = true;\r\n      let type;\r\n      if(e.which == 1){\r\n        type = Type.primary;\r\n      }else if(e.which == 3){\r\n        type = Type.secondary;\r\n      }else{\r\n        return;\r\n      }\r\n      callActionType(type, e);\r\n    }\r\n\r\n    // bind events\r\n    document.addEventListener('mousemove', this.eventHandler.mousemove);\r\n    document.addEventListener('mouseup', this.eventHandler.mouseup);\r\n  }\r\n  on(event, fn){\r\n    if(typeof event != 'string' && typeof fn !== 'function'){\r\n      throw new Error(`Invalid eventlistener`);\r\n    }\r\n    if(this.events[event]){\r\n      throw new Error(`Event already exists : ${event}`);\r\n    }\r\n    this.events[event] = fn;\r\n  }\r\n\r\n  // render\r\n  render({ cancel, delta, frame, time }){\r\n    if(!this.canvas) return;\r\n\r\n    this.context.clearRect(0,0, 128, 128);\r\n    const activeLayer = Spritesheets.stores.activeLayer.get();\r\n    const activePaletteLayer = Palettes.stores.activeLayer.get();\r\n    if(activeLayer && activePaletteLayer){\r\n      if(this.lastChanged != Palettes.lastChanged.get() || (this.activeLayer != activeLayer || this.activePaletteLayer != activePaletteLayer)){\r\n        // set the current active layers\r\n        this.activeLayer = activeLayer;\r\n        this.activePaletteLayer = activePaletteLayer;\r\n        // draw from source\r\n        activeLayer.drawFromSource(activePaletteLayer);\r\n        // store last change to palettes so we can force an update\r\n        this.lastChanged = Palettes.lastChanged.get();\r\n      }\r\n      // draw active layer on the canvas context\r\n      this.context.drawImage(activeLayer.element, 0,0);\r\n      // draw overlay layers\r\n      overlays.forEach((layer) => {\r\n        layer.render();\r\n        this.context.drawImage(layer.canvas, 0, 0);\r\n      });\r\n\r\n    }\r\n  }\r\n  // clean up\r\n  destroy(){\r\n    // stop animationframe\r\n    this.animationLoop.unsubscribe();\r\n    // clean up events\r\n    if(this.canvas){\r\n      this.canvas.removeEventListener('mousedown', this.eventHandler.mousedown);\r\n    }\r\n    document.removeEventListener('mousemove', this.eventHandler.mousemove);\r\n    document.removeEventListener('mouseup', this.eventHandler.mouseup);\r\n  }\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nimport { cursor } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\n// sub options\r\n// import PenOptions from '~/ui/sections/graphics/spritesheets/tooloptions/Pen.svelte';\r\n\r\nexport default class Pen extends Tool{\r\n  constructor(){\r\n    super();\r\n    this.pixelIndicator = true;\r\n    this.name = 'pen';\r\n    this.enum = ToolTypes.get('pen');\r\n    this.weight = 90;\r\n    this.icon = 'M19.769 9.923l-12.642 12.639-7.127 1.438 1.438-7.128 12.641-12.64 5.69 5.691zm1.414-1.414l2.817-2.82-5.691-5.689-2.816 2.817 5.69 5.692z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M19.769 9.923l-12.642 12.639-7.127 1.438 1.438-7.128 12.641-12.64 5.69 5.691zm1.414-1.414l2.817-2.82-5.691-5.689-2.816 2.817 5.69 5.692z',\r\n      size: {\r\n        width: 46,\r\n        height: 46,\r\n      },\r\n      offset: {\r\n        x: 0, \r\n        y: 11\r\n      }\r\n    });\r\n\r\n    this.properties = {\r\n      size: 1,\r\n      drawStack: [],\r\n      lastDraw: undefined,\r\n      start: undefined,\r\n    }\r\n    // store modified pixels\r\n    this.modifiedPixels = [];\r\n  }\r\n  \r\n  // return suboptions\r\n  get optionsPanelComponent(){\r\n    return PenOptions;\r\n  }\r\n\r\n  paint(e){\r\n    const colorData = Palettes.stores.selectedColor.getActiveColorValue(e.colorIndex);\r\n    const { rgb, hex } = colorData; \r\n    if(!colorData){\r\n      return;\r\n    }\r\n    const context = Spritesheets.stores.activeLayer.get()?.context;\r\n    if(!context){\r\n      console.log('Error loading context');\r\n      return;\r\n    }\r\n    // loop over the stack\r\n    this.properties.drawStack.map(item => {\r\n      const { x, y } = item.realMousePosition;\r\n      context.save();\r\n        context.translate(x, y);\r\n        context.fillStyle = `rgb(${rgb.join(',')})`;\r\n        context.fillRect(0, 0, this.properties.size, this.properties.size);\r\n        // store the modified pixels\r\n        // NOTE: this will not work with anything other than 1 px size pen\r\n        this.modifiedPixels.push({ x, y, colorIndex: Number.isInteger(e.colorIndex) ? e.colorIndex : Palettes.stores.selectedColor.get() });\r\n      context.restore();\r\n    });\r\n    this.properties.lastDraw = this.properties.drawStack.pop();\r\n    this.properties.drawStack = [];\r\n  }\r\n\r\n  primary(props){\r\n    if(props.shiftKey){\r\n      this.drawLineFromPoint(props, { ...props.realMousePosition });\r\n    }else{\r\n      this.properties.drawStack.push(props);\r\n    }\r\n    this.paint.call(this, props);\r\n  }\r\n\r\n  secondary(props){\r\n    props = { ...props, colorIndex: 0};\r\n    // if(props.shiftKey){\r\n    //   this.drawLineFromPoint(props, { ...props.realMousePosition });\r\n    // }else{\r\n    //   this.properties.drawStack.push(props);\r\n    // }\r\n    this.properties.drawStack.push(props);\r\n    this.paint.call(this, props);\r\n  }\r\n\r\n  drawLineFromPoint(props, end){\r\n    if(!this.properties.start){\r\n      return;\r\n    }\r\n\r\n    let { x, y } = this.properties.start;\r\n    if(Math.abs(end.x - x) > Math.abs(end.y - y)){\r\n      while(x != end.x){\r\n        if(x < end.x) x++;\r\n        if(x > end.x) x--;\r\n        this.properties.drawStack.push({ ...props, realMousePosition: { x, y } });\r\n      }\r\n    }else{\r\n      while(y != end.y){\r\n        if(y < end.y) y++;\r\n        if(y > end.y) y--;\r\n        this.properties.drawStack.push({ ...props, realMousePosition: { x, y } });\r\n      }\r\n    }\r\n\r\n  }\r\n  move(props){\r\n    // update cursor position\r\n    cursor.x = props.realMousePosition.x;\r\n    cursor.y = props.realMousePosition.y;\r\n\r\n    if(props.shiftKey || !props.mouseIsDown) return;\r\n\r\n    const fillStack = (props) => {\r\n      if(this.properties.lastDraw){\r\n        let { x, y } = { ...this.properties.lastDraw.realMousePosition };\r\n        while(x != props.realMousePosition.x || y != props.realMousePosition.y){\r\n          if(x < props.realMousePosition.x) x++;\r\n          if(x > props.realMousePosition.x) x--;\r\n          if(y < props.realMousePosition.y) y++;\r\n          if(y > props.realMousePosition.y) y--;\r\n          this.properties.drawStack.push({...props, realMousePosition: { x, y } });\r\n        }\r\n      }else{\r\n        this.properties.drawStack.push(props);\r\n      }\r\n    }\r\n    \r\n    if(props.which == 1){\r\n      // call the primary action\r\n      fillStack(props);\r\n      this.primary.call(this, props);\r\n    }else if(props.which == 3){\r\n      fillStack(props);\r\n      this.secondary.call(this, props);\r\n    }\r\n    \r\n  }\r\n  mouseup(){\r\n    const dataRef = Spritesheets.stores.activeLayer.get()?.data;\r\n    if(!dataRef){\r\n      return;\r\n    }\r\n    for(const pixel of this.modifiedPixels){\r\n      let {x, y, colorIndex } = pixel;\r\n      const rc = {x: Math.floor(x / 8), y: Math.floor(y / 8)};\r\n      const tile = {x: x % 8, y: y % 8};\r\n      // wtf is this??? well whatever.. \r\n      if(dataRef[rc.y] && dataRef[rc.y][rc.x] && dataRef[rc.y][rc.x][tile.y] && Number.isInteger(dataRef[rc.y][rc.x][tile.y][tile.x])){\r\n        dataRef[rc.y][rc.x][tile.y][tile.x] = colorIndex;\r\n      }\r\n    };\r\n\r\n    // same last pixel which will be the start for the next draw. if drawing line for instance\r\n    const lastPixel = this.modifiedPixels[this.modifiedPixels.length-1];\r\n    if(lastPixel){\r\n      this.properties.start = { ...lastPixel };\r\n    }\r\n    this.modifiedPixels = [];\r\n  }\r\n}\r\n","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport { cursor } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\n\r\nexport default class Eyedropper extends Tool{\r\n  constructor(){\r\n    super();\r\n    this.singleAction = true;\r\n    this.name = 'eyedropper';\r\n    this.enum = ToolTypes.get('eyedropper');\r\n    this.weight = 70;\r\n    this.icon = 'M12.142 13.178l1.506 1.318-6.83 7.6c-1.31 1.464-2.22.315-3.953 1.647-.232.178-.483.257-.724.257-.601 0-1.141-.49-1.141-1.151 0-.218.062-.455.196-.698.978-1.791-.129-2.629 1.148-4.052l6.787-7.555 1.505 1.317-3.727 4.139h2.691l2.542-2.822zm5.764-13.178c-2.434 0-4.871 1.707-4.797 5.831.021 1.167-.356 1.698-.884 1.698-.298 0-.597-.169-.877-.386-.407-.315-.99-.26-1.331.129-.374.426-.329 1.076.096 1.448l5.253 4.598c.423.371 1.067.328 1.438-.096.343-.392.32-.979-.049-1.345-.277-.275-.501-.581-.501-.913 0-.479.486-.876 1.572-1.002 3.69-.428 5.174-2.656 5.174-4.88 0-2.799-2.149-5.082-5.094-5.082z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M12.142 13.178l1.506 1.318-6.83 7.6c-1.31 1.464-2.22.315-3.953 1.647-.232.178-.483.257-.724.257-.601 0-1.141-.49-1.141-1.151 0-.218.062-.455.196-.698.978-1.791-.129-2.629 1.148-4.052l6.787-7.555 1.505 1.317-3.727 4.139h2.691l2.542-2.822zm5.764-13.178c-2.434 0-4.871 1.707-4.797 5.831.021 1.167-.356 1.698-.884 1.698-.298 0-.597-.169-.877-.386-.407-.315-.99-.26-1.331.129-.374.426-.329 1.076.096 1.448l5.253 4.598c.423.371 1.067.328 1.438-.096.343-.392.32-.979-.049-1.345-.277-.275-.501-.581-.501-.913 0-.479.486-.876 1.572-1.002 3.69-.428 5.174-2.656 5.174-4.88 0-2.799-2.149-5.082-5.094-5.082z',\r\n      size: {\r\n        width: 46,\r\n        height: 46,\r\n      },\r\n      offset: {\r\n        x: 0, \r\n        y: 10\r\n      }  \r\n    });\r\n  }\r\n  primary(props){\r\n    const { x, y } = props.realMousePosition;\r\n    // set active color index\r\n    const colorIndex = Spritesheets.stores.activeLayer.get().colorIndexAtPosition(x, y);\r\n    if(Number.isInteger(colorIndex)){\r\n      Palettes.stores.selectedColor.set(colorIndex);\r\n    }\r\n  }\r\n  secondary(props){}\r\n  move(props){\r\n    // update cursor position\r\n    cursor.x = props.realMousePosition.x;\r\n    cursor.y = props.realMousePosition.y;\r\n    \r\n  }\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport { cursor } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\n\r\nexport default class Paintbucket extends Tool{\r\n  constructor(){\r\n    super();\r\n    this.pixelIndicator = true;\r\n    this.singleAction = true;\r\n    this.name = 'paintbucket';\r\n    this.enum = ToolTypes.get('paintbucket');\r\n    this.weight = 80;\r\n    this.icon = 'M24 19.007c0-3.167-1.409-6.771-2.835-9.301l-.006-.01-.014-.026c-.732-1.392-1.914-3.052-3.619-4.757-2.976-2.976-5.476-3.912-6.785-3.913-.413 0-.708.094-.859.245l-.654.654c-1.898-.236-3.42.105-4.294.982-.876.875-1.164 2.159-.792 3.524.242.893.807 1.891 1.752 2.836.867.867 2.062 1.684 3.615 2.327.488-.839 1.654-1.019 2.359-.315.586.586.584 1.533-.002 2.119s-1.533.589-2.121 0c-.229-.229-.366-.515-.416-.812-1.646-.657-3.066-1.534-4.144-2.612-.728-.728-1.289-1.528-1.664-2.349l-2.835 2.832c-.445.447-.685 1.064-.686 1.82.001 1.635 1.122 3.915 3.714 6.506 2.764 2.764 5.58 4.243 7.431 4.243.649 0 1.181-.195 1.548-.562l8.086-8.079c.911.875-.777 3.541-.777 4.65 0 1.104.896 1.999 2 1.998 1.104 0 1.998-.895 1.998-2zm-18.912-12.974c-.236-.978-.05-1.845.554-2.444.526-.53 1.471-.791 2.656-.761l-3.21 3.205zm9.138 2.341l-.03-.029c-1.29-1.291-3.802-4.354-3.095-5.062.715-.715 3.488 1.521 5.062 3.095.862.863 2.088 2.248 2.938 3.459-1.718-1.073-3.493-1.469-4.875-1.463zm-3.875 12.348c-.547-.082-1.5-.547-1.9-.928l7.086-7.086c.351.37 1.264.931 1.753 1.075l-6.939 6.939z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M24 19.007c0-3.167-1.409-6.771-2.835-9.301l-.006-.01-.014-.026c-.732-1.392-1.914-3.052-3.619-4.757-2.976-2.976-5.476-3.912-6.785-3.913-.413 0-.708.094-.859.245l-.654.654c-1.898-.236-3.42.105-4.294.982-.876.875-1.164 2.159-.792 3.524.242.893.807 1.891 1.752 2.836.867.867 2.062 1.684 3.615 2.327.488-.839 1.654-1.019 2.359-.315.586.586.584 1.533-.002 2.119s-1.533.589-2.121 0c-.229-.229-.366-.515-.416-.812-1.646-.657-3.066-1.534-4.144-2.612-.728-.728-1.289-1.528-1.664-2.349l-2.835 2.832c-.445.447-.685 1.064-.686 1.82.001 1.635 1.122 3.915 3.714 6.506 2.764 2.764 5.58 4.243 7.431 4.243.649 0 1.181-.195 1.548-.562l8.086-8.079c.911.875-.777 3.541-.777 4.65 0 1.104.896 1.999 2 1.998 1.104 0 1.998-.895 1.998-2zm-18.912-12.974c-.236-.978-.05-1.845.554-2.444.526-.53 1.471-.791 2.656-.761l-3.21 3.205zm9.138 2.341l-.03-.029c-1.29-1.291-3.802-4.354-3.095-5.062.715-.715 3.488 1.521 5.062 3.095.862.863 2.088 2.248 2.938 3.459-1.718-1.073-3.493-1.469-4.875-1.463zm-3.875 12.348c-.547-.082-1.5-.547-1.9-.928l7.086-7.086c.351.37 1.264.931 1.753 1.075l-6.939 6.939z',\r\n      offset: {\r\n        x: 3.5, \r\n        y: 11\r\n      },\r\n      size: {\r\n        width: 46,\r\n        height: 46,\r\n      },\r\n    });\r\n\r\n    // properties \r\n    this.properties = {\r\n      diagonals: false,\r\n    }\r\n  }\r\n  fillAllPixelsOfSameColor(x, y){\r\n    throw new Error('Not implemented: fills all pixels')\r\n  }\r\n  fill(x, y){\r\n    // fill value \r\n    const fillValue = Palettes.stores.selectedColor.get();\r\n    // starting color\r\n    const pixelValue = Spritesheets.stores.activeLayer.get().colorIndexAtPosition(x, y); \r\n    // store pixels in an array\r\n    const pixels = [{ x, y }];\r\n   \r\n    while(pixels.length > 0){\r\n      const { x: _x, y: _y} = pixels.shift();\r\n      if(_y < 0 || _y > 127){\r\n        continue;\r\n      }\r\n      if(_x < 0 || _x > 127){\r\n        continue;\r\n      }\r\n      const colorIndex = Spritesheets.stores.activeLayer.get().colorIndexAtPosition(_x, _y);\r\n      // make sure it's the same colorIndex\r\n      if(colorIndex == fillValue){\r\n        continue;\r\n      }\r\n      if(colorIndex != pixelValue){\r\n        continue;\r\n      }\r\n      \r\n      // upate color index\r\n      Spritesheets.stores.activeLayer.get().setColorIndexAtPosition(_x, _y, fillValue);\r\n\r\n      // check top, down, left, right directions\r\n      pixels.push({ x: _x, y: _y + 1 });\r\n      pixels.push({ x: _x, y: _y - 1 });\r\n      pixels.push({ x: _x - 1, y: _y });\r\n      pixels.push({ x: _x + 1, y: _y });\r\n\r\n      // if we also want diagonals\r\n      // TODO: implement this in the sub toolbar as options where the user\r\n      // am able to toggle this preference\r\n      if(this.properties.diagonals){\r\n        pixels.push({ x: _x + 1, y: _y + 1 });\r\n        pixels.push({ x: _x - 1, y: _y - 1 });\r\n        pixels.push({ x: _x + 1, y: _y - 1 });\r\n        pixels.push({ x: _x - 1, y: _y + 1 });\r\n      }\r\n    }\r\n\r\n    // force a spritesheet update\r\n    Spritesheets.stores.activeLayer.get().drawFromSource(Palettes.stores.activeLayer.get());\r\n  }\r\n\r\n  primary(props){\r\n    const { x, y } = props.realMousePosition;\r\n    if(!props.ctrlKey){\r\n      this.fill(x, y);\r\n    }else{\r\n      this.fillAllPixelsOfSameColor(x, y);\r\n    }\r\n  }\r\n\r\n  secondary(props){}\r\n\r\n  move(props){\r\n    // update cursor position\r\n    cursor.x = props.realMousePosition.x;\r\n    cursor.y = props.realMousePosition.y;\r\n  }\r\n}","import { writable } from '~/utils/store';\r\nimport { Enum } from 'enums-manager';\r\n\r\n// temp \r\nimport { ToolTypes } from './tools/tool.js';\r\nexport { ToolTypes };\r\n\r\n// tools\r\nimport Pointer from './tools/pointer.js';\r\nimport Pen from './tools/pen.js';\r\nimport Eyedropper from './tools/eyedropper.js';\r\nimport Paintbucket from './tools/paintbucket.js';\r\n// import Colorswap from './colorswap.js';\r\n// import Tileswap from './tileswap.js';\r\n// import Transform from './transform.js';\r\n// import Marquee from './tools/marquee.js';\r\n// import Zoom from './zoom.js';\r\n// import Preview from './tools/preview.js';\r\n// import PreviewRegion from './previewregion.js';\r\n// import Tilecolor from './tilecolor.js';\r\n\r\nconst mapped = {\r\n  pointer: new Pointer(),\r\n  pen: new Pen(),\r\n  eyedropper: new Eyedropper(),\r\n  paintbucket: new Paintbucket(),\r\n  // [colorswap]: new Colorswap(),\r\n  // [tileswap]: new Tileswap(),\r\n  // [transform]: new Transform(),\r\n  // marquee: new Marquee(),\r\n  // [zoom]: new Zoom(),\r\n  // preview: new Preview(),\r\n  // [preview_region]: new PreviewRegion(),\r\n  // [tilecolor]: new Tilecolor()\r\n};\r\n\r\nexport const Toolbar = {\r\n  tools: mapped, \r\n  activeTool: writable(undefined, ({ value, store, get }) => {\r\n    return {\r\n      setActive(_enum){\r\n        if(!(_enum instanceof Enum)){\r\n          throw new Error(`Invalid tool`);\r\n        }\r\n        const instance = mapped[_enum.key];\r\n        const { cursor } = instance;\r\n        // fallback cursor\r\n        let type = 'default';\r\n        // overwrite cursor if one is defined on the tool\r\n        if(cursor && cursor.icon){\r\n          type = `url(\"data:image/svg+xml,%3Csvg transform='' xmlns='http://www.w3.org/2000/svg' width='${cursor.size.width}' height='${cursor.size.height}' viewBox='0 0 100 100' xml:space='preserve'%3E %3Cpath fill='white' d='${cursor.icon}'/%3E %3C/svg%3E\") ${cursor.offset.x} ${cursor.offset.y}, auto`\r\n        }\r\n        // set new icon to css variable\r\n        document.documentElement.style.setProperty('--canvas-cursor', type);\r\n        store.set(instance);\r\n      }\r\n    }\r\n  })\r\n};\r\n\r\nToolbar.activeTool.setActive(ToolTypes.get('pen'));\r\n\r\n// tool actions\r\nconst execute = (t, ...args) => {\r\n  if(t){\r\n    t.call(Toolbar.activeTool.get(), ...args);\r\n  }\r\n}\r\n\r\nexport const primary = (...args) => execute(Toolbar.activeTool.get()?.primary, ...args);\r\nexport const secondary = (...args) => execute(Toolbar.activeTool.get()?.secondary, ...args);\r\nexport const move = (...args) => execute(Toolbar.activeTool.get()?.move, ...args);\r\nexport const mouseup = (...args) => execute(Toolbar.activeTool.get()?.mouseup, ...args);","import { get } from 'svelte/store';\nimport ActionsManager from '~/application/ActionsManager.js';\n\nimport { fileDialog, saveDialog, filename } from '~/utils/file.js';\n\n// stores\nimport { palettesStore } from '~/application/palettes/palettes';\n\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\nimport { Palettes } from '~/stores/palettes.store.js';\n\n// sub stores\nconst { selectedColor } = Palettes.stores;\n\nimport Config from '~/nesbit.config';\nimport { Toolbar } from '~/modules/spritesheet_editor/tools';\n\n\n// electron only actions \nif(globalThis.electron){\n  ActionsManager.register('window_close', _ => globalThis.electron.quit());\n  ActionsManager.register('window_minimize', _ => globalThis.electron.minimize());\n  ActionsManager.register('window_maximize', _ => globalThis.electron.maximize());\n  ActionsManager.register('window_toggle_fullscreen', _ => globalThis.electron.toggleFullscreen());\n  // external links\n  ActionsManager.register('external_link', href => globalThis.electron.externalLink(href));\n\n  // palettes\n  ActionsManager.register('palette_export', async _ => {\n    const data = palettesStore.export(true);\n    const { canceled, filePath } = await globalThis.electron.openSaveDialog([Config.filetypes.palettes.save.extension]);\n    if(!canceled && typeof filePath == 'string'){\n      await globalThis.electron.saveAs(filePath, data);\n    }\n  });\n\n  // import from file\n  ActionsManager.register('palette_import', async _ => {\n    const { canceled, filePaths } = await globalThis.electron.openFileDialog([Config.filetypes.palettes.save.extension]);\n    if(!canceled && Array.isArray(filePaths)){\n      for(const path of filePaths){\n        const { filePath, data } = await globalThis.electron.readFileDataFromPath(path, 'utf8');\n        palettesStore.import(data);\n      }\n    }\n  });\n}\n\n// webapp only actions\nif(!globalThis.electron){\n  ActionsManager.register('window_close', _ => _);\n  ActionsManager.register('window_minimize', _ => _);\n  ActionsManager.register('window_maximize', _ => ActionsManager.execute('window_toggle_fullscreen'));\n  \n  ActionsManager.register('window_toggle_fullscreen', () => {\n    if(!document.fullscreenElement){\n      document.documentElement.requestFullscreen();\n    }else{\n      document.exitFullscreen();\n    }\n  });\n\n  // palettes\n  // import file programmatically in the webversion\n  ActionsManager.register('palette_import', (e) => {\n    fileDialog([Config.filetypes.palettes.save.extension], (data) => {\n      Palettes.import(data);\n    });\n  });\n  // export\n  ActionsManager.register('palette_export', (e) => {\n    saveDialog(filename('palette', Config.filetypes.palettes.save.extension), Palettes.export(true));\n  });\n\n\n  // spritesheets\n  ActionsManager.register('spritesheet_import', (e) => {\n    fileDialog([Config.filetypes.spritesheets.save.extension], (data) => {\n      Spritesheets.import(data);\n    });\n  });\n\n  ActionsManager.register('spritesheet_export', (e) => {\n    saveDialog(filename('spritesheet', Config.filetypes.spritesheets.save.extension), Spritesheets.export(true));\n  });\n\n  ActionsManager.register('spritesheet_import_chr', (e) => {\n    fileDialog(['chr'], (data) => {\n      Spritesheets.importCHR(data);\n    }, { readAs: 'arraybuffer' });\n  });\n\n  ActionsManager.register('spritesheet_export_chr', (e) => {  \n    const { label, data } = Spritesheets.exportCHR();\n    saveDialog(filename(label, 'chr'), data);\n  });\n\n  ActionsManager.register('spritesheet_export_png', (e) => {  \n    Spritesheets.exportAsImage(({ blob, label, options }) => {\n      saveDialog(filename(label, 'png'), blob, { mimetype: blob.type });\n    });\n  });\n\n}\n\n/*\n\n  actions for both applications\n\n*/\n// noop\nActionsManager.register('noop', _ => _);\n// themes\nActionsManager.register('toggle_theme', _ => document.documentElement.dataset.theme = document.documentElement.dataset.theme == 'dark' ? 'light' : 'dark');\nActionsManager.register('light_theme', _ => document.documentElement.dataset.theme = 'light');\nActionsManager.register('dark_theme', _ => document.documentElement.dataset.theme = 'dark');\n\n// palettes\nActionsManager.register('palette_clear', _ => Palettes.stores.layers.clear());\nActionsManager.register('palette_create', _ => Palettes.createLayer());\nActionsManager.register('palette_remove', source => Palettes.removeLayer(source));\nActionsManager.register('palette_clone_layer', source => Palettes.cloneLayer(source));\nActionsManager.register('palette_clone_active_layer', _ => Palettes.cloneActiveLayer());\nActionsManager.register('palette_make_layer_active', source => Palettes.makeLayerActive(source));\nActionsManager.register('palette_swap_layers', ({ to, from }) => Palettes.stores.layers.swapLayers(to, from));\nActionsManager.register('palette_update_layer_label', ({ source, label }) => Palettes.updateLayerLabel(source, label));\nActionsManager.register('palette_active_color', n => selectedColor.setActiveColorIndex(n));\n\n// spritesheets\nActionsManager.register('spritesheet_create', _ => Spritesheets.createLayer());\nActionsManager.register('spritesheet_remove', index => Spritesheets.removeLayer(index));\nActionsManager.register('spritesheet_clone_layer', source => Spritesheets.cloneLayer(source));\nActionsManager.register('spritesheet_clone_active_layer', _ => Spritesheets.cloneActiveLayer());\nActionsManager.register('spritesheet_make_layer_active', source => Spritesheets.makeLayerActive(source));\nActionsManager.register('spritesheet_swap_layers', ({ to, from }) => Spritesheets.swapLayers(to, from));\nActionsManager.register('spritesheet_update_layer_label', ({ source, label }) => Spritesheets.updateLayerLabel(source, label));\nActionsManager.register('spritesheet_zoom', level => view.zoom(level));\nActionsManager.register('spritesheet_zoom_in', _ => view.zoom(get(spritesheetsStore).zoom+1));\nActionsManager.register('spritesheet_zoom_out', _ => view.zoom(get(spritesheetsStore).zoom-1));\nActionsManager.register('spritesheet_zoom_reset', _ => view.zoom());\nActionsManager.register('spritesheet_set_active_tool', _enum => Toolbar.activeTool.setActive(_enum));","const prepare = (base, route) => {\r\n  // prefix the base to always start with a '/' and remove trailing slash\r\n  base = '/'+base.replace(/^[\\/]+|[\\/]+$/g, '');\r\n  // strip multiple occurences of '/'\r\n  route = (`${base}/${route}`).replace(/[\\/]+/g, '/');\r\n  // remove leading and trailing slashes\r\n  route = route.replace(/^[\\/]+|[\\/]+$/g, '');\r\n  // get if it's explicit or not. could be a factor when determining route based on it's size/weight \r\n  // in terms of what has presedent when two routes would've matched the same url\r\n  const explicit = /\\*$/.test(route);\r\n  // if it's implicit or explicit\r\n  const lazy = explicit ? (route = route.replace(/[\\*]+$/g, ''), ''): '/?$';\r\n  // store parameters\r\n  const parameters = [];\r\n  let index = 0;\r\n  let regexpRoute = route.replace(/(:)?([^\\\\/]+)/g, (parameter, colonParameter, identifier) => {\r\n    const [ param, boundValue ] = identifier.split('->');\r\n    if(colonParameter){\r\n      // check for duplicates\r\n      const duplicates = parameters.filter(old => old.identifier == boundValue); \r\n      if(duplicates.length > 0){\r\n        throw new Error(`Duplicated parameter. [${duplicates.map(_=>_.identifier)}]`);\r\n      }\r\n      // store parameter reference\r\n      parameters.push({\r\n        index: index++,\r\n        parameter,\r\n        identifier: param,\r\n      });\r\n      // bound parameter\r\n      return boundValue ? `(${boundValue})` : `([^\\/]+)`;\r\n    }\r\n    return `${parameter}`;\r\n  });\r\n  regexpRoute = `^/${regexpRoute}${lazy}`;\r\n  return {\r\n    base,\r\n    route,\r\n    regexpRoute,\r\n    parameters,\r\n  }\r\n}\r\n\r\nexport default class Route{\r\n  constructor(base, route, fn, middlewares = []){\r\n    Object.assign(this, prepare(base, route));\r\n    this.callback = fn;\r\n    this.middlewares = middlewares;\r\n  }\r\n}","export class Middleware{\r\n  constructor(...props){\r\n    this.props = props;\r\n  }\r\n  use(fn){\r\n    if(typeof fn != 'function'){\r\n      throw new Error(`Invalid Middleware use argument. Expecting 'function' got : '${typeof fn}'`); \r\n    }\r\n    const f = (stack) => next => stack(fn.bind(this, ...this.props, next));\r\n    this.execute = f(this.execute);\r\n    return this;\r\n  }\r\n  execute(fn){\r\n    return fn.call(null);\r\n  }\r\n}\r\n\r\nexport class Request{\r\n  constructor(props){\r\n    Object.assign(this, {\r\n      base: '',\r\n      path: '',\r\n      route: '',\r\n      query: {},\r\n      params: {},\r\n      state: {}\r\n    }, props);\r\n  }\r\n}\r\n\r\nexport class Response{\r\n  constructor(callbacks){\r\n    Object.assign(this, callbacks);\r\n  }\r\n}\r\n","import Route from './route.js';\r\nimport { Middleware, Request, Response } from './utils.js';\r\n\r\n// router\r\nclass Router{\r\n  constructor(props){\r\n    // store properties and freeze them so not to be able to get modified\r\n    Object.freeze(this.__properties = {\r\n      initial: undefined,\r\n      base: '',\r\n      state: {},\r\n      ...props\r\n    });\r\n    // are we subscribing?\r\n    this.__subscribing = false;\r\n    // store\r\n    this.__get = new Map();\r\n    this.__catch = new Map();\r\n    this.__use = new Set();\r\n  }\r\n  _register(routes, fn, middlewares, list){\r\n    routes.map(route => {\r\n      const r = new Route(this.__properties.base, route, fn, middlewares);\r\n      if(list.has(r.regexpRoute)){\r\n        throw new Error(`Route with same endpoint already exist. [${route}, /${list.get(r.regexpRoute).route}](${r.regexpRoute})`);\r\n      }\r\n      list.set(r.regexpRoute, r);\r\n    });\r\n    return routes;\r\n  }\r\n  _props(...args){\r\n    let routes, fn, middlewares = [];\r\n    if(args.length == 1){\r\n      [ fn ] = args;\r\n      routes = '*';\r\n    }else if(args.length == 2){\r\n      [ routes, fn ] = args;\r\n    }else if(args.length > 2){\r\n      routes = args.shift();\r\n      fn = args.pop();\r\n      middlewares = args;      \r\n    }else{\r\n      throw new Error(`Invalid number prop arguments.`);\r\n    }\r\n    routes = Array.isArray(routes) ? routes : [routes];\r\n    return { routes, fn, middlewares };\r\n  }\r\n  _storeInList(fnName, list, ...args){\r\n    const { routes, fn, middlewares } = this._props(...args);\r\n    const parentRoutes = this._register(routes, fn, middlewares, list);\r\n    // enable chaining to group sub routes to a main route\r\n    // not needed since the routes are store as unique strings in the end \r\n    // but might be a nicer way to organize the implementation\r\n    const ret = {\r\n      [fnName]: (...innerArgs) => {\r\n        const { routes: innerRoutes, fn: innerFn, middlewares: innerMiddlewares } = this._props(...innerArgs);\r\n        parentRoutes.map(route => innerRoutes.map(_ => route + _).map(_ => this[fnName](_, ...[...innerMiddlewares, innerFn])));\r\n        return ret;\r\n      }\r\n    }\r\n    return ret;\r\n  }\r\n  get(...args){\r\n    return this._storeInList('get', this.__get, ...args);\r\n  }\r\n  use(...args){\r\n    const { routes, fn } = this._props(args);\r\n    routes.map(url => this.__use.add(new Route(this.__properties.base, url, ...fn)));\r\n  }\r\n  catch(...args){\r\n    return this._storeInList('catch', this.__catch, ...args);\r\n  }\r\n  _findRoute(url, list, data){\r\n    for(let [ regexpRoute, RouteInstance ] of list){\r\n      const parameters = url.match(new RegExp(regexpRoute, 'i'));\r\n      if(parameters){\r\n        const uri = parameters.shift();\r\n        // update Route with new parameters\r\n        let params = {};\r\n        if(parameters.length > 0){\r\n          // create a parameters object\r\n          params = RouteInstance.parameters.reduce((obj, value, index) => {\r\n            obj[value.identifier] = parameters[index];\r\n            return obj;\r\n          }, params);\r\n        }\r\n        // query parameters\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const queryParameters = {};\r\n        for(const [key, value] of urlParams.entries()){ \r\n          if(queryParameters[key]){\r\n            if(Array.isArray(queryParameters[key])){\r\n              queryParameters[key].push(value);\r\n            }else{\r\n              queryParameters[key] = [queryParameters[key], value];\r\n            }\r\n          }else{\r\n            queryParameters[key] = value;\r\n          }\r\n        }\r\n        // update request object\r\n        const returnObject = { \r\n          RouteInstance,\r\n          Request: new Request({\r\n            path: url,\r\n            route: '/' + RouteInstance.route,\r\n            base: RouteInstance.base,\r\n            query: queryParameters,\r\n            params: params,\r\n            state: { ...data },\r\n          })\r\n        };\r\n        return returnObject;\r\n      }\r\n    }\r\n  }\r\n  execute(url, data = {}){\r\n    if(typeof url != 'string'){\r\n      throw new Error(`Invalid 'execute' argument. Expecting 'string'`);\r\n    }\r\n    if(!this.__subscribing){\r\n      return;\r\n    }\r\n    const response = new Response({\r\n      send: (...props) => this.__router_callback.call(null, ...props),\r\n      error: (props) => {\r\n        const errorsFound = this._findRoute(url, this.__catch, data);\r\n        if(!errorsFound){\r\n          console.warn(`No route or catch fallbacks found for [${url}]`);\r\n          return;\r\n        }\r\n        errorsFound.RouteInstance.callback.call(null, errorsFound.Request, response, props);\r\n      }\r\n    });\r\n    let matchFound = this._findRoute(url, this.__get, data);\r\n    if(!matchFound){\r\n      response.error();\r\n      return;\r\n    }\r\n    let middlewares = [];\r\n    const middleware = new Middleware(matchFound.Request, response);\r\n    this.__use.forEach(middlewareRoute => {\r\n      const RouteInstance = url.match(new RegExp(middlewareRoute.regexpRoute, 'i'));\r\n      if(RouteInstance){\r\n        middlewares.push(middlewareRoute.callback);\r\n      }\r\n    });\r\n    middlewares = [...middlewares, ...matchFound.RouteInstance.middlewares, matchFound.RouteInstance.callback];\r\n    middlewares.map(fn => middleware.use(fn));\r\n    // execute middleware\r\n    middleware.execute();\r\n  }\r\n  subscribe(fn){\r\n    this.__subscribing = true;\r\n    if(typeof fn == 'function'){\r\n      this.__router_callback = fn;\r\n    }\r\n    if(this.__properties.initial){\r\n      this.execute(this.__properties.initial, this.__properties.state);\r\n    }\r\n    return () => {\r\n      this.__subscribing = false;\r\n    }\r\n  }\r\n}\r\n\r\nexport default Router;","import StandaloneRouter from 'standalone-router';\r\nexport class SvelteStandaloneRouterError extends Error{}\r\nexport default class SvelteRouter extends StandaloneRouter{}\r\n\r\n// setting a singleton class with properties for 'global' access\r\nexport let Router = new class RouterProperties{\r\n  constructor(){\r\n    this.__linkBase = '';\r\n    this.__scrollReset = true;\r\n    this.__scrollOffset = 0;\r\n  }\r\n  setLinkBase(value){\r\n    if(typeof value != 'string'){\r\n      throw new SvelteStandaloneRouterError(`Invalid 'linkBase'. Expecting value of type 'string'`);\r\n    }\r\n    return this.__linkBase = value.endsWith('/') ? value : value + '/';\r\n  }\r\n  set linkBase(value){\r\n    return this.setLinkBase(value);\r\n  }\r\n  get linkBase(){\r\n    return this.__linkBase;\r\n  }\r\n  \r\n  // handle scroll reset\r\n  setScrollReset(value){\r\n    if(typeof value != 'boolean'){\r\n      throw new SvelteStandaloneRouterError(`Invalid 'scrollReset'. Expecting value of type 'boolean'`);\r\n    }\r\n    return this.__scrollReset = value;\r\n  }\r\n  set scrollReset(value){\r\n    return this.setScrollReset(value);\r\n  }\r\n  get scrollReset(){\r\n    return this.__scrollReset;\r\n  }\r\n\r\n  // handle scroll reset\r\n  setScrollOffset(value){\r\n    if(typeof value != 'number'){\r\n      throw new SvelteStandaloneRouterError(`Invalid 'scrollOffset'. Expecting value of type 'number'`);\r\n    }\r\n    return this.__scrollOffset = value;\r\n  }\r\n  set scrollOffset(value){\r\n    return this.setScrollOffset(value);\r\n  }\r\n  get scrollOffset(){\r\n    return this.__scrollOffset;\r\n  }\r\n} ","import { Router } from './SvelteStandaloneRouter.js';\r\n\r\n// handle the linkBase in pathname\r\nexport const getPathname = (path) => {\r\n  const re = new RegExp(`^${Router.linkBase}`, 'i');\r\n  path = `/${path}/`.replace(/[\\/]+/g, '/').replace(re, '').replace(/^\\/|\\/$/g, '');\r\n  return '/' + path;\r\n}\r\n\r\n// dispatch custom event\r\nconst dispatch = ({ state }) => {\r\n  dispatchEvent(new CustomEvent('popstate', { \r\n    detail: {\r\n      ...state\r\n    } \r\n  }));\r\n}\r\n\r\n// navigate to a new page and pushing it to the History object\r\nexport const navigate = (url, state = {}) => {\r\n  url = cleanURL(url);\r\n  history.pushState(state, '', url);\r\n  dispatch({ url, state }); \r\n}\r\n\r\n// redirect to a new page and replacing it on the History object\r\nexport const redirect = (url, state = {}) => {\r\n  url = cleanURL(url);\r\n  history.replaceState(state, '', url);\r\n  dispatch({ url, state });\r\n}\r\n\r\n// change url without route change and add it to the History\r\nexport const replace = (url, state = {}) => {\r\n  history.pushState(state, '', cleanURL(url));\r\n}\r\n\r\n// change url without route change and DON'T add it to the History\r\nexport const alter = (url, state = {}) => {\r\n  history.replaceState(state, '', cleanURL(url));\r\n}\r\n\r\n// replace all duplicate '/' that might be going on\r\nexport const cleanURL = (url) => `/${Router.linkBase}/${url}`.replace(/[\\/]+/g, '/');\r\n\r\n// internal goto helper \r\nexport const internalGoTo = (path, e) => {\r\n  replace(getPathname(path));\r\n  const hash = window.location.hash.slice(1);\r\n  if(hash){\r\n    if(e){\r\n      e.preventDefault();\r\n    }\r\n    const element = document.querySelector(`a[name=\"${hash}\"], #${hash}`);\r\n    if(element){\r\n      const topPos = element.getBoundingClientRect().top + window.pageYOffset - Router.scrollOffset;\r\n      window.scrollTo({ top: topPos });\r\n    }\r\n  }\r\n}","import RouterContext from './SvelteStandaloneRouter.js';\r\nimport { internalGoTo, getPathname, cleanURL } from './helpers.js';\r\nimport { writable } from 'svelte/store';\r\n\r\nexport let prev = { location: { ...window.location }, firstLoad: false };\r\nexport let contexts = new Map();\r\nexport let location = writable();\r\n\r\nlet initialized = false;\r\nlet firstLoad = false;\r\n\r\n// handle internal # links\r\nconst internalLinksHandler = (e) => {\r\n  const target = e.target;\r\n  if(target.tagName == 'A'){\r\n    const href = target.getAttribute('href');\r\n    const isHashLink = href.indexOf('#') > -1;\r\n    if(!(/^[a-zA-Z]+\\:\\/\\/(.*)/.test(href)) && isHashLink){\r\n      // go to position\r\n      internalGoTo(href.startsWith('#') ? window.location.pathname + href : href, e);\r\n      // update the prev data\r\n      prev.location = { ...window.location };\r\n    }\r\n  }\r\n}\r\n\r\n// the popstate callback handler\r\nconst popstateHandler = async e => {\r\n  let endEarly = false;\r\n  const sameURL = cleanURL(window.location.pathname + '/') == cleanURL(prev.location.pathname + '/') && prev.location.search == window.location.search;\r\n  // don't continue if we are doing internal hash linking\r\n  if(window.location.hash != '' && sameURL && prev.firstLoad){\r\n    endEarly = true;\r\n  }\r\n\r\n  // if the hash is empty and not the same as the previous and it's on the same url we \r\n  // don't want to load a new page, then we simply end early and scroll to the top.\r\n  if(window.location.hash == '' && window.location.hash != prev.location.hash && sameURL){\r\n    endEarly = true;\r\n    window.scrollTo({ top: 0 });\r\n  }\r\n\r\n  // if we don't end early we want to update the router contexts\r\n  if(!endEarly){\r\n    // update location and execute the router contexts\r\n    location.set(getPathname(window.location.pathname));\r\n    contexts.forEach(context => context.router.execute(window.location.pathname, e.detail));\r\n  }\r\n\r\n  // update the prev data\r\n  prev.location = { ...window.location };\r\n};\r\n\r\n// if the popstate listener has been destroy 'mount' re-adds the listener \r\nexport const mount = async () => {\r\n  if(!initialized){\r\n    // mark it initialized and update the location store with the current pathname\r\n    initialized = true;\r\n    if(!firstLoad){\r\n      firstLoad = true;\r\n      location.set(getPathname(window.location.pathname));\r\n    }\r\n    window.addEventListener('popstate', popstateHandler);\r\n    window.addEventListener('click', internalLinksHandler);\r\n  }\r\n}\r\n\r\n// destroy a current listener\r\nexport const destroy = () => {\r\n  initialized = false;\r\n  window.removeEventListener('popstate', popstateHandler);\r\n  window.removeEventListener('click', internalLinksHandler);\r\n}\r\n\r\n// export the context creator \"wrapper\"\r\nexport default (options) => {\r\n  // mount on the first load to avoid having \r\n  // the user doing it manually\r\n  mount();\r\n  // creates a new context\r\n  const router = new RouterContext(options);\r\n  contexts.set(router, {\r\n    component: writable(),\r\n    router\r\n  });\r\n  return router;\r\n};","<script>\r\n  import { tick } from 'svelte';\r\n  import RouterContext, { Router, SvelteStandaloneRouterError } from './SvelteStandaloneRouter.js';\r\n  import { contexts, prev } from './router.js';\r\n  import { internalGoTo } from './helpers.js';\r\n\r\n  // as default get the first value from the contexts since a Map remembers the insertion \r\n  // order. this works as a way to fallback to the first context if none is provided\r\n  export let context = contexts.keys().next().value;\r\n  \r\n  if(!context || !(context instanceof RouterContext)){\r\n    throw new Error(`Invalid Router context. Did you initialize the component with a valid context?`);\r\n  }\r\n  const { component } = contexts.get(context);\r\n\r\n  context.subscribe(async (callback, props = {}, decorator = {}) => {\r\n    // a dirty check to see it is a \"component\". Since there is not way to check if it is a svelte component\r\n    // this would atleast force it to be a function and will catch most errors where a svelte component isn't passed\r\n    if(typeof callback != 'function'){\r\n      throw new SvelteStandaloneRouterError(`Unable to load component. Did you pass a valid svelte component to the 'send' response?`);\r\n    }\r\n    \r\n    // reset the scroll position depending on the static scrollReset value\r\n    if(Router.scrollReset){\r\n      // always start from the top of the page\r\n      window.scrollTo({ top: 0 });\r\n    }\r\n    \r\n    // update the writable store\r\n    component.set({\r\n      context: decorator ? callback : class extends callback{},\r\n      decorator: !decorator.component ? undefined : class extends decorator.component{},\r\n      decoratorProps: decorator.props || undefined,\r\n      props\r\n    });\r\n\r\n    // if we have visited a a url with a hash in it\r\n    // we need to await a tick so the component is loaded\r\n    // before we can scroll to that place in the dom\r\n    if(window.location.hash){\r\n      await tick();\r\n      // but we also have this weird behaviour where the location pathname is\r\n      // not accessible so we need to pass it manually.\r\n      setTimeout(() => {internalGoTo(window.location.pathname + window.location.hash)}, 0); \r\n    }\r\n\r\n    // flag that we have a first load\r\n    if(!prev.firstLoad){\r\n      prev.firstLoad = true;\r\n    }\r\n  });\r\n</script>\r\n\r\n{#if $component}\r\n  <slot component={$component.context} props={$component.props} decorator={$component.decorator} decoratorProps={$component.decoratorProps}>\r\n    {#if $component.decorator}\r\n      <svelte:component this={$component.decorator} {...($component.decoratorProps ? $component.decoratorProps : {})}>\r\n        <svelte:component this={$component.context} {...$component.props} />\r\n      </svelte:component>\r\n    {:else}\r\n      <svelte:component this={$component.context} {...$component.props} />\r\n    {/if}\r\n  </slot>\r\n{/if}","import { Router } from './SvelteStandaloneRouter';\r\nimport { navigate, redirect, replace, alter, getPathname, cleanURL } from './helpers.js';\r\n\r\nexport default (element, props) => {\r\n  props = {\r\n    type: 'navigate',\r\n    state: {},\r\n    title: '',\r\n    ...props\r\n  };\r\n\r\n  if(Router.linkBase){\r\n    // first we need to clean the url and add the linkbase. Thats so one can right click and\r\n    // open the page in a new tab or window and go to the right url\r\n    const clean = cleanURL(element.getAttribute('href') || '');\r\n    element.setAttribute('href', clean);\r\n  }\r\n  \r\n  const clickHandler = (e) => {\r\n    // make the check before preventing default behaviour since we should not block \r\n    // the default behaviour if we don't supply the required url string\r\n    let url = props.to || props.href || e.currentTarget.getAttribute('href') || e.currentTarget.getAttribute('data-href');\r\n    if(!url){\r\n      return;\r\n    }\r\n    // here we need to only get the pathname without any linkbase\r\n    // because that is handled in the navigational helpers\r\n    url = getPathname(url);\r\n    e.preventDefault();\r\n    if(props.type == 'navigate'){\r\n      navigate(url, props.state, props.title);\r\n    }else if(props.type == 'redirect'){\r\n      redirect(url, props.state, props.title);\r\n    }else if(props.type == 'replace'){\r\n      replace(url, props.state, props.title);\r\n    }else if(props.type == 'alter'){\r\n      alter(url, props.state, props.title);\r\n    }else{\r\n      console.warn(`Invalid 'use:link' type. Expecting 'navigate'(default), 'redirect', 'replace' or 'alter'`);\r\n      return;\r\n    }\r\n  }\r\n  element.addEventListener('click', clickHandler);\r\n  return {\r\n    update(parameters){\r\n      props = {\r\n        ...props,\r\n        ...parameters\r\n      }\r\n    },\r\n    destroy(){element.removeEventListener('click', clickHandler);}\r\n  }\r\n}","import { contexts } from './router.js';\r\nimport SvelteStandaloneRouter from './SvelteStandaloneRouter.js';\r\n\r\nexport default (context, ...middleware) => {\r\n  let decorator;\r\n  // if no context is provided\r\n  if(!(context instanceof SvelteStandaloneRouter)){\r\n    // then the context is actually the decorator\r\n    decorator = context;\r\n    // and so we get the first context from the context Map\r\n    context = contexts.keys().next().value;\r\n  }else{\r\n    // but if we have a context the decorator is located at the first position\r\n    // of the middlewares so we need to remove it and define it as the decorator\r\n    decorator = middleware.shift();\r\n  }\r\n  if(!context){\r\n    throw new Error(`Invalid Router context. Did you initialize the decorator with a valid context? or made sure to call it after one has been created?`);\r\n  }\r\n  // we need to keep track of the root url else \r\n  // everything would become nested one level deeper\r\n  let root = '';\r\n  const wrappedCall = (url, ...fns) => {\r\n    // define the root of the chaining\r\n    if(!root) root = url;\r\n    let decoratorProps;\r\n    let decoratorPropsCallback = (props) => {\r\n      decoratorProps = { ...props };\r\n    };\r\n    const callback = fns.pop();\r\n    context.get(url, ...[...middleware, ...fns], (req, res) => {\r\n      callback(req, {\r\n        send: (component, props) => {\r\n          res.send(component, props, { component: decorator, props: decoratorProps });\r\n        },\r\n        error: res.error\r\n      }, decoratorPropsCallback);\r\n    });\r\n    return {\r\n      get: (_url, ...args) => wrappedCall(`${root}/${_url}`, ...args)\r\n    };\r\n  }\r\n  return wrappedCall;\r\n}","import { Router, context } from 'svelte-standalone-router';\r\n\r\nimport GeneralError from '~/_views/GeneralError.svelte';\r\n\r\n// no sub dir for localhost\r\nif(!globalThis.electron && window.location.hostname !== 'localhost'){\r\n  Router.linkBase = '/NESBitStudio-web'\r\n}\r\n// router context\r\nconst app = context({ initial: window.location.pathname, base: Router.linkBase });\r\n\r\n// general fallback\r\napp.catch((req, res) => {\r\n  res.send(GeneralError);\r\n});\r\n\r\n\r\nexport { app as context };","class Hotkey{\r\n  constructor({keys, data, groups, options}){\r\n    if(!Array.isArray(keys)){\r\n      throw new Error(`Invalid keys. Expecting array of string representation values.`);\r\n    }\r\n    this.options = {\r\n      ...options\r\n    }\r\n    this.groups = groups || [];\r\n    this.signature = keys.toString();\r\n    this.keys = keys;\r\n    this.data = data;\r\n    // callbacks\r\n    this.__on;\r\n    this.__off;\r\n  }\r\n  get callbacks(){\r\n    return {\r\n      on: this.__on,\r\n      off: this.__off\r\n    };\r\n  }\r\n  on(fn){\r\n    if(typeof fn != 'function'){\r\n      throw new Error(`Invalid 'off' function`);\r\n    }\r\n    this.__on = fn;\r\n    return this;\r\n  }\r\n  off(fn){\r\n    if(typeof fn != 'function'){\r\n      throw new Error(`Invalid 'off' function`);\r\n    }\r\n    this.__off = fn;\r\n    return this;\r\n  }\r\n}\r\n\r\nexport default class HotkeysManager{\r\n  constructor(target, options){\r\n    this.__options = {\r\n      once: true,\r\n      preventDefault: true,\r\n      ...options\r\n    };\r\n    this.__registeredGroups = new Set();\r\n    this.__enabledGroups = '__all__';\r\n    this.__commands = new Map();\r\n    this.__target = target;\r\n  }\r\n  get target(){\r\n    return this.__target;\r\n  }\r\n  _prepare(arr){\r\n    if(!Array.isArray(arr)){\r\n      throw new Error(`Invalid '_prepare' argument. Expecting array, got : [${typeof arr}]`);\r\n    }\r\n    // sort the keys so they always end up in the same order\r\n    return [...arr].map(key => key.toLowerCase()).sort((a, b) => {\r\n      return a.toLowerCase().localeCompare(b.toLowerCase());\r\n    });\r\n  }\r\n  enableAllGroups(){\r\n    this.__enabledGroups = '__all__';\r\n  }\r\n  enableGroups(...groups){\r\n    return [...this.__enabledGroups = [...groups]];\r\n  }\r\n  _find(command){\r\n    // get all command values\r\n    const commands = Array.from(this.__commands.values());\r\n    // sort after priority\r\n    commands.sort((a, b) => b.options.priority - a.options.priority);\r\n\r\n    // filter all commands that includes any route\r\n    let found;\r\n    if(Array.isArray(this.__enabledGroups)){\r\n      found = commands.find(KeyboardShortcut => {\r\n        return KeyboardShortcut.groups.some(g => {\r\n          // find a match which matches groups and signature\r\n          if(!this.__enabledGroups || this.__enabledGroups.includes(g)){\r\n            if(KeyboardShortcut.signature == command.toString()){\r\n              return true;\r\n            }\r\n          }\r\n        });\r\n      });\r\n    // check if we have the __all__ wildcard and to simply look through every single command\r\n    }else if(this.__enabledGroups == '__all__'){\r\n      found = commands.find(KeyboardShortcut => KeyboardShortcut.signature == command.toString());\r\n    }\r\n\r\n    return found;\r\n  }\r\n  set(keySequence, { data, groups, ...props }){\r\n    // check to see if groups is an array and has a size of at least 1\r\n    // else return an array with one item which is the '*' wildcard\r\n    // this will register one global entry\r\n    groups = Array.isArray(groups) && groups.length > 0 ? groups : ['*'];\r\n    // track all registered groups\r\n    groups.map(group => this.__registeredGroups.add(group));\r\n    const keys = this._prepare(keySequence);\r\n    const shortcut = new Hotkey({\r\n      keys, \r\n      data, \r\n      groups,\r\n      options: { \r\n        priority: props.priority || 0,\r\n        once: props.once || this.__options.once, \r\n        preventDefault: props.preventDefault || this.__options.preventDefault,\r\n      }\r\n    });\r\n\r\n    // iterate over all groups and store a reference \r\n    groups.map(group => {\r\n      if(this.__commands.get(`${group},${shortcut.signature}`)){\r\n        throw new Error(`Shortcut already defined : [${group},${shortcut.signature}]`);\r\n      }\r\n      this.__commands.set(`${group},${shortcut.signature}`, shortcut);\r\n    });\r\n\r\n    return shortcut;\r\n  }\r\n  execute(command, state){\r\n    // loop through command sequence and dispatch the events\r\n    // which will execute the command like one pressed the keyboard\r\n    // handle on state\r\n    if(state == 'on' || state == undefined){\r\n      const keys = {};\r\n      command.map(key => keys[key.toLowerCase()] = true);\r\n      const e = new Event(\"keydown\");\r\n      e.customExecuteEvent = keys;\r\n      this.__target.dispatchEvent(e);\r\n    }\r\n\r\n    // handle off state\r\n    if(state == 'off' || state == undefined){\r\n      // release them\r\n      command.map(key => {\r\n        const e = new Event(\"keyup\");\r\n        e.code = key;\r\n        this.__target.dispatchEvent(e);\r\n      });\r\n    }\r\n  }\r\n  subscribe(callback){\r\n    let keys = {};\r\n    let prevCommand = {};\r\n    const keyDownHandler = (e) => {\r\n      if(e.customExecuteEvent){\r\n        keys = e.customExecuteEvent;\r\n      }else{\r\n        keys[e.code.toLowerCase()] = true;\r\n      }\r\n      // get all active keys\r\n      const currentCommand = this._prepare(Object.entries(keys).filter(([k, v]) => v).map(([k, v]) => k.toLowerCase()));\r\n      // store the previous command\r\n      const match = this._find(currentCommand);\r\n      // if we have a match go ahead and trigger the callback\r\n      if(match){\r\n        if(match.options.preventDefault){\r\n          e.preventDefault();\r\n        }\r\n        // prevent command from executing over and over again if the option 'once' is defined\r\n        if(match.options.once && currentCommand.toString() == prevCommand.signature){\r\n          return;\r\n        }\r\n        \r\n        // and store the command signature\r\n        prevCommand = {\r\n          instance: match,\r\n          signature: currentCommand.toString()\r\n        };\r\n        // if the shortcut has on callback, execute that as well\r\n        if(typeof match.callbacks.on == 'function'){\r\n          match.callbacks.on.call(null, { e, Hotkey: match, on: true });\r\n        }else{\r\n          // call the callback\r\n          if(typeof callback == 'function'){\r\n            callback.call(null, { e, Hotkey: match, on: true });\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n    const keyUpHandler = e => {\r\n      keys[e.code.toLowerCase()] = false; \r\n      if(prevCommand.instance && typeof prevCommand.instance.callbacks.off == 'function'){\r\n        prevCommand.instance.callbacks.off.call(null, { e, Hotkey: prevCommand.instance, on: false });\r\n      }else{\r\n        // call the callback\r\n        if(prevCommand.instance && typeof callback == 'function'){\r\n          callback.call(null, { e, Hotkey: prevCommand.instance, on: false });\r\n        }\r\n      }\r\n\r\n\r\n      prevCommand = {};\r\n    };\r\n    // 'keydown' since we want to trigger, shift, control, alt etc. 'keypress' does not\r\n    this.__target.addEventListener('keydown', keyDownHandler);\r\n    this.__target.addEventListener('keyup', keyUpHandler);\r\n\r\n    // return unsubscribe method which in turn returns another subscribe method\r\n    // to resubscribe with the same options if need be. \r\n    return () => {\r\n      this.__target.removeEventListener('keyup', keyUpHandler);\r\n      this.__target.removeEventListener('keydown', keyDownHandler);\r\n      return _ => this.subscribe(this.__target, callback);\r\n    }\r\n  }\r\n}","\nimport ShortcutsManager from 'hotkeys-manager';\nimport ActionsManager from \"~/application/ActionsManager\";\n\n// shortcuts manager \nexport const manager = new ShortcutsManager(window, {\n  // once: false,\n});\n\n\nmanager.set(['ControlLeft', 'KeyO'], { data: { action: ActionsManager.action('noop') } });\n\n// subscribe to events\nexport const unsubscribe = manager.subscribe(({ e, Hotkey, on }) => {\n  e.preventDefault();\n  if(on && Hotkey.data && ActionsManager.exist(Hotkey.data.action)){\n    ActionsManager.execute(Hotkey.data.action, Hotkey.data.props);\n  }\n});\n\n// const execute command\nexport const executeCommand = ({ e, Hotkey, on }) => {\n  e.preventDefault();\n  if(on && Hotkey.data && ActionsManager.exist(Hotkey.data.action)){\n    ActionsManager.execute(Hotkey.data.action);\n  }\n  // programmatically call keys up state\n  manager.execute(Hotkey.keys, 'off');\n};\n\nexport default manager;","<script>\r\n  import { link, location } from 'svelte-standalone-router';\r\n  import Tabmenu from '~/_components/Tabmenu.svelte';\r\n  const list = [\r\n    {href: '/graphics/palettes', label: 'Palettes'},\r\n    {href: '/graphics/spritesheets', label: 'Spritesheets'},\r\n    {href: '/graphics/animations', label: 'Animations'},\r\n    {href: '/graphics/metatiles', label: 'Metatiles'},\r\n    {href: '/graphics/tilemaps', label: 'Tilemaps'},\r\n  ];\r\n</script>\r\n\r\n<Tabmenu>\r\n  {#each list as prop}\r\n    <li class=\"no-drag\" class:active={prop.href == $location}>\r\n      <button href={prop.href} label={prop.label} use:link>\r\n        {prop.label}\r\n      </button>\r\n    </li>\r\n  {/each}\r\n</Tabmenu>\r\n\r\n<style>\r\n  button{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: none;\r\n    padding: 0 20px;\r\n    background-color: transparent;\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n\r\n","<script context=\"module\">\r\n  let scroll, wrapper, artboard, mouseScroll = false;\r\n  export const centerScrollAndCanvas = () => {\r\n    scroll.scrollTo((wrapper.offsetWidth / 2) - scroll.offsetWidth / 2, (wrapper.offsetHeight / 2) - scroll.offsetHeight / 2);\r\n  };\r\n</script>\r\n<script>\r\n  import { createEventDispatcher } from 'svelte';  \r\n  import { onDestroy, onMount } from 'svelte';\r\n\r\n  const dispatch = createEventDispatcher();\r\n  // any number other than 2 will displace the content on resize\r\n  let gutter = 2;\r\n\r\n  // lets use the resize handler as our way of knowing when the dom has \r\n  // finished rendered because else we have to use the setTimeout hack \r\n  // to push the centerScrollAndCanvas to the end of the queuestack\r\n  let firstLoad = false;\r\n  let active = false;\r\n  \r\n  const resizeHandler = (entries) => {\r\n    for(const entry of entries){\r\n      if(entry.contentRect){\r\n        const { width, height } = entry.contentRect;\r\n        const w = 4000;\r\n        const h = 4000;\r\n        const calc = {\r\n          x: w * gutter,\r\n          y: h * gutter\r\n        };\r\n        wrapper.style.height = (calc.y) + 'px';\r\n        wrapper.style.width = (calc.x) + 'px';\r\n        // \r\n        if(!firstLoad){\r\n          firstLoad = true;\r\n          centerScrollAndCanvas();\r\n        }\r\n      }\r\n    }\r\n  };\r\n  const resizeObserver = new ResizeObserver(entries => resizeHandler(entries));\r\n\r\n  const scrollEvent = (e) => {\r\n    dispatch('artboardScrollEvent', e);\r\n  }\r\n\r\n  let startX, startY;\r\n  let scrollLeft, scrollTop; \r\n  \r\n  let keyDowns = {};\r\n  const keyDown = (e) => {\r\n    e.preventDefault();\r\n    keyDowns [e.code] = true;\r\n  }\r\n  const keyUp = (e) => {\r\n    keyDowns[e.code] = false;\r\n  }\r\n  \r\n\r\n  const downHandler = (e) => {\r\n    if(!(e.ctrlKey || keyDowns.Space)){\r\n      if(e.which != 2){\r\n        return;\r\n      }\r\n    }\r\n    e.stopImmediatePropagation();\r\n    // if we get this far prevent default behaviour\r\n    e.preventDefault();\r\n    active = true;\r\n    startX = e.pageX - scroll.offsetLeft;\r\n    scrollLeft = scroll.scrollLeft;\r\n    startY = e.pageY - scroll.offsetTop;\r\n    scrollTop = scroll.scrollTop;\r\n  };\r\n\r\n  const upHandler = () => {\r\n    active = false;\r\n  }\r\n\r\n  const moveHandler = (e) => {\r\n    if(!active) return;\r\n    e.preventDefault();\r\n    const x = e.pageX - scroll.offsetLeft;\r\n    const walk = (x - startX) * 1; //scroll-fast\r\n    scroll.scrollLeft = scrollLeft - walk;\r\n    \r\n    const y = e.pageY - scroll.offsetTop;\r\n    const walky = (y - startY) * 1; //scroll-fast\r\n    scroll.scrollTop = scrollTop - walky;\r\n  };\r\n  \r\n  onMount(() => {\r\n    document.addEventListener('keydown', keyDown);\r\n    document.addEventListener('keyup', keyUp);\r\n    resizeObserver.observe(artboard);\r\n    // centerScrollAndCanvas();\r\n\r\n    // add events \r\n    // on:mousemove={moveHandler}\r\n    document.addEventListener('mousemove', moveHandler);\r\n    document.addEventListener('mouseup', upHandler);\r\n  });\r\n  \r\n  onDestroy(() => {\r\n    document.removeEventListener('keydown', keyDown);\r\n    document.removeEventListener('keyup', keyUp);\r\n    // unsubscribe to all elements\r\n    resizeObserver.disconnect();\r\n    document.removeEventListener('mousemove', moveHandler);\r\n    document.removeEventListener('mouseup', upHandler);\r\n  });\r\n</script>\r\n\r\n<div class:active class=\"artboard\" bind:this={artboard} on:wheel={scrollEvent}>\r\n  <div class=\"outer\" bind:this={scroll} on:mousedown={downHandler} on:wheel={e => !mouseScroll ? e.preventDefault() : '' }>\r\n    <div class=\"wrapper\" bind:this={wrapper}>\r\n      <div class=\"content\">\r\n        <slot></slot>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .outer{\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: scroll;\r\n  }\r\n  .artboard{\r\n    --size: 40;\r\n    --opacity: .08;\r\n    position: relative;\r\n    overflow: hidden;\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    background-position: 0 0, calc(var(--size)/2 * 1px) calc(var(--size)/2 * 1px);\r\n    background-size: calc(var(--size) * 1px) calc(var(--size) * 1px);\r\n    background-image: linear-gradient(45deg, rgba(0,0,0,var(--opacity)) 25%, transparent 25%, transparent 75%, rgba(0,0,0,var(--opacity)) 75%, rgba(0,0,0,var(--opacity)) 100%),linear-gradient(45deg, rgba(0,0,0,var(--opacity)) 25%, rgba(0,0,0,0) 25%, rgba(0,0,0,0) 75%, rgba(0,0,0,var(--opacity)) 75%, rgba(0,0,0,var(--opacity)) 100%);\r\n  }\r\n  .artboard .wrapper{\r\n    overflow: hidden;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  .content{\r\n    position: relative;\r\n  }\r\n</style>","<script>\r\n  export let color; \r\n  export let selected = undefined;\r\n</script>\r\n\r\n<button class=\"color-selector\" on:click class:selected>\r\n  <div style=\"--color: {color}\">&nbsp;</div>\r\n</button>\r\n\r\n<style>\r\n  button{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 28px;\r\n    height: 28px;\r\n    border-radius: 50%;\r\n    border: none;\r\n    cursor: pointer;\r\n    background-color: transparent;\r\n    box-shadow: inset 0 0px 1px rgba(230, 195, 227, 0.03), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n  }\r\n  button.selected{\r\n    background-color: rgba(255, 255, 255, 0.1);\r\n  }\r\n  button:hover{\r\n    background-color: rgba(255, 255, 255, 0.2);\r\n  }\r\n  button > div{\r\n    background-color: rgb(var(--color));\r\n    position: relative;\r\n    width: 14px;\r\n    height: 14px;\r\n    border-radius: 50%;\r\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);  \r\n    overflow: hidden;\r\n  }\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  import ColorSelectButton from '~/_singles/buttons/ColorSelectButton.svelte';\r\n  import { Palettes } from '~/stores/palettes.store.js';\r\n  const { activeLayer, selectedColor } = Palettes.stores;\r\n</script>\r\n  \r\n{#if $activeLayer}\r\n  <ul>\r\n    {#each $activeLayer.colors as color, i}\r\n      <li>\r\n        <ColorSelectButton color={color.rgb} on:click={_ => ActionsManager.execute('palette_active_color', i)} selected={$selectedColor === i} />\r\n      </li>\r\n    {/each}\r\n  </ul>\r\n{/if}","<script>\r\n  export let selected;\r\n</script>\r\n\r\n<button on:dblclick on:click class:selected><slot></slot></button>\r\n\r\n<style>\r\n  button{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 5px;\r\n    height: 100%;\r\n    border: none;\r\n    border-top: 1px solid rgba(255, 83, 241, 0);\r\n    border-bottom: 1px solid rgba(255, 83, 241, 0);\r\n    background-color: rgba(255, 255, 255, .8);\r\n    box-shadow: inset 0 0px 14px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n    border-radius: 4px;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: 55%;\r\n    opacity: 1;\r\n    cursor: pointer;\r\n    transition: background.2s, opacity .2s;\r\n  }\r\n\r\n  button:hover{\r\n    border-top: 1px solid rgba(255, 83, 241, 0);\r\n    background-color: rgba(218, 218, 218, 0.8);\r\n  }\r\n\r\n  button.selected{\r\n    border-top: 1px solid rgba(83, 147, 255, 0.95);\r\n    background-color: rgb(44, 96, 252);\r\n  }\r\n\r\n  button :global(svg){\r\n    fill: rgb(20, 20, 20);\r\n    width: 14px;\r\n    image-rendering: pixelated;\r\n  }\r\n  \r\n  button.selected :global(svg){\r\n    fill: #fff;\r\n  }\r\n\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  import ToolButton from '~/_singles/buttons/ToolButton.svelte';\r\n  \r\n  import { Toolbar } from '~/modules/spritesheet_editor/tools.js';\r\n  const { tools, activeTool } = Toolbar;\r\n  \r\n  // get the values and sort after weight \r\n  const toolsList = Object.values(tools);\r\n  toolsList.sort((a,b) => b.weight - a.weight);\r\n</script>\r\n\r\n<ul>\r\n  {#each toolsList as tool}\r\n    {#if tool.visible_in_toolbar}\r\n      <li>\r\n        <ToolButton on:dblclick={_ => ActionsManager.execute('noop')} on:click={_ => ActionsManager.execute('spritesheet_set_active_tool', tool.enum)} selected={$activeTool === tool}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"{tool.icon}\" /></svg>\r\n        </ToolButton>\r\n      </li>\r\n    {/if}\r\n  {/each}\r\n</ul>\r\n\r\n<style>\r\n  li{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin: 2px 0;\r\n    width: 28px;\r\n    height: 28px;\r\n  }\r\n</style>","<script>\r\n  import { createEventDispatcher } from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n  export let variant = undefined;\r\n  const click = (e) => {\r\n    if(variant == 'danger' && !(e.ctrlKey || e.altKey)){\r\n      return;\r\n    }\r\n    dispatch('click');\r\n  };\r\n</script>\r\n\r\n<button class:danger={variant == 'danger'} role=\"button\" {...$$props} on:click={click}><slot>placeholder</slot></button>\r\n\r\n<style>\r\n  \r\n  button{\r\n    margin: 0;\r\n    padding: 0;\r\n    border: none;\r\n    background: transparent;\r\n    cursor: pointer;\r\n    font-size: 11rem;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  [role=\"button\"]{\r\n    display: flex;\r\n    padding: 0 10px;\r\n    min-height: 25px;\r\n    border: none;\r\n    cursor: pointer;\r\n    border-radius: 3px;\r\n    background: rgb(44, 96, 252);\r\n    color: rgba(255, 255, 255, 0.95);\r\n    border: 1px solid rgba(255, 255, 255, 0);\r\n    transition: background .13s;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  [role=\"button\"]:hover{\r\n    background: rgb(29, 77, 221);\r\n    color: rgba(255, 255, 255, 0.95);\r\n    border: 1px solid rgba(255, 255, 255, 0.095);\r\n  }\r\n\r\n  button.danger{\r\n    background-color: rgb(192, 24, 69);\r\n  }\r\n  button.danger:hover{\r\n    background-color: rgb(162, 23, 60);\r\n  }\r\n</style>","  /*\r\n    Shorten string to max amount of characters at nearest space\r\n\r\n    @param String\r\n    @param Number\r\n    @param String\r\n    @param Function\r\n\r\n    @return String\r\n\r\n    // Usage: \r\n    // const string = \"Lorem ipsum dolor sit amet consectetur adipisicing elit.\";\r\n    // const paragraph = slim(string, 40, ' ', _ => _ + '...');\r\n    // console.log(paragraph);\r\n  */\r\n export const slim = (s, n, char, fn) => {\r\n  const o = s;\r\n  if(n < o.length){\r\n    const max = s.slice(0, n);\r\n    s = max.slice(0, max.lastIndexOf(char));\r\n  }\r\n  if(typeof fn === 'function'){\r\n    s = fn.call(null, s, o, char);\r\n  }\r\n  return s;\r\n}","<script>\r\n  import { createEventDispatcher } from 'svelte';\r\n\r\n  import { slim } from '~/utils/strings';\r\n  \r\n  export let active;\r\n  export let label;\r\n  export let iconIndicator;\r\n\r\n  const dispatch = createEventDispatcher();\r\n  \r\n  // local properties\r\n  let element;\r\n  let previous = null;\r\n  \r\n  // on click\r\n  export const edit = (e) => {\r\n    e.preventDefault();\r\n    let once = false;\r\n    // handle single and doubleclicks. if detail is undefined assume it's called programatically\r\n    if(e.detail == 1 && e.target == element){\r\n      dispatch('makeActive');\r\n      if(!once){\r\n        once = true;\r\n        setTimeout(_ => once = false, 60);\r\n      }\r\n    }else{\r\n      iconIndicator = false;\r\n      element.contentEditable = true;\r\n      element.focus();\r\n    }\r\n  };\r\n\r\n  // on focusing label heading\r\n  const focus = _ => {\r\n    _.target.textContent = label;\r\n    const range = document.createRange();\r\n    const selection = window.getSelection();\r\n    range.selectNodeContents(_.target);\r\n    selection.removeAllRanges();\r\n    selection.addRange(range);\r\n  }\r\n\r\n  // on key down validate input\r\n  const validateInput = (e) => {\r\n    if(!previous){\r\n      previous = e.currentTarget.textContent;\r\n    }\r\n    e.stopPropagation();\r\n    e.stopImmediatePropagation();\r\n\r\n    // escape\r\n    if(e.which == 27){\r\n      e.currentTarget.textContent = previous;\r\n      e.preventDefault();\r\n      element.blur();\r\n      return;\r\n    }\r\n    \r\n    // enter\r\n    if(e.which == 13){\r\n      e.preventDefault();\r\n      element.blur();\r\n    }\r\n\r\n    // backspace, delete, left arrow, right arrow\r\n    if(e.which == 8 || e.which == 46 || e.which == 37 || e.which == 39){\r\n      return;\r\n    }\r\n\r\n    // check valid character\r\n    const isValidCharacter = /^[a-z\\s]$/i.test(e.key);\r\n    if(!isValidCharacter && e.key !== 'Backspace'){\r\n      e.preventDefault();\r\n      return;\r\n    }\r\n\r\n    // prevent to long labels\r\n    if(e.currentTarget.textContent.length > 20){\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  // on blurring\r\n  const blur = _ => {\r\n    previous = null;\r\n    iconIndicator = true;\r\n    const v = _.target.textContent;\r\n    _.target.textContent = slim(v, 15, '', (n, o) => n != o ? n + '...' : n);\r\n    window.getSelection().removeAllRanges();\r\n    _.target.contentEditable = false;\r\n    // update the store entry with the new heading\r\n    dispatch('change', v);\r\n  };\r\n</script>\r\n\r\n<div class=\"heading\" spellcheck=\"false\" on:click={edit} on:focus={focus} on:blur={blur} on:keydown={validateInput} class:active bind:this={element}>\r\n  <slot>Label</slot>\r\n</div>\r\n\r\n<style>\r\n  .heading{\r\n    display: flex;\r\n    cursor: pointer;\r\n    align-items: center;\r\n    line-height: 33px;\r\n    padding: 0 5px;\r\n    height: 100%;\r\n    width: 100%;\r\n    font-weight: normal;\r\n  }\r\n\r\n  .heading.active{\r\n    font-style: italic;\r\n  }\r\n  .heading{\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    width: 100%;\r\n  }\r\n  .heading::selection{\r\n    padding: 0 5px;\r\n    background: white;\r\n    color: black;\r\n  }\r\n</style>","<script>\r\n  export let variant = undefined;\r\n</script>\r\n\r\n<button on:click class:danger={variant == 'danger'}>\r\n  <slot></slot>\r\n</button>\r\n\r\n<style>\r\n  button:hover :global(svg){\r\n    fill: rgba(255, 255, 255, 1);\r\n  }\r\n  button{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-right: 1px;\r\n    width: 24px;\r\n    padding: 5px;\r\n    height: 100%;\r\n    border: none;\r\n    border-radius: 4px;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: 55%;\r\n    opacity: 1;\r\n    cursor: pointer;\r\n    border-top: 1px solid rgba(83, 147, 255, 0.95);\r\n    background-color: rgb(44, 96, 252);\r\n    box-shadow: inset 0 0px 2px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n  }\r\n\r\n  .danger{\r\n    border-top: 1px solid rgba(255, 83, 83, 0.95);\r\n    background-color: rgb(192, 24, 69);\r\n  }\r\n</style>","// drag directive\r\nexport const drag = (node, props) => {\r\n  if(!props || typeof props.type != 'string'){\r\n    throw new Error(`Invalid 'drag' actions properties. Expecting 'type' of type 'string'`)\r\n  }\r\n\r\n  if(!props.value){\r\n    throw new Error(`Invalid 'drag' actions value.`)\r\n  }\r\n\r\n  // enable the drag and drop api\r\n  node.draggable = true;\r\n  node.classList.add('draggable');\r\n  const dragStart = (e) => {\r\n    // don't let event propagate if we have possible nested drags\r\n    e.stopImmediatePropagation();\r\n    e.dataTransfer.setData(props.type, JSON.stringify(props.value || ''));\r\n    // this is some hacky stuff. since on the canvas we listen for windows mouse events but dragdrop never fires\r\n    // mouseup on release. so force it here if we start dragging something.\r\n    window.dispatchEvent(new Event('mouseup'));\r\n  };\r\n  node.addEventListener('dragstart', dragStart);\r\n  \r\n\treturn {\r\n    destroy() {\r\n      // remove listener\r\n      node.removeEventListener('dragstart', dragStart);\r\n    }\r\n\t};\r\n}\r\n\r\n\r\n// drop directive\r\nexport const drop = (node, props) => {\r\n  if(!props){\r\n    throw new Error(`Invalid 'drop' actions props.`);\r\n  }\r\n  const callback = (key, pass) => {\r\n    if(!props[key] && typeof props[key] != 'function'){\r\n      if(!pass){\r\n        throw new Error(`Invalid 'drop' callback : [${key}]`);\r\n      }\r\n      return;\r\n    }\r\n    return props[key];\r\n  }\r\n  // handle dragover\r\n  const dragOver = (e) => {\r\n    e.preventDefault();\r\n    callback('over', true).call(null, e, node);\r\n  };\r\n  node.addEventListener('dragover', dragOver);\r\n  const dragLeave = (e) => {\r\n    callback('leave', true).call(null, e, node);    \r\n  };\r\n  node.addEventListener('dragleave', dragLeave);\r\n  // handle dropping of items\r\n  const drop = (e) => {\r\n    callback('drop').call(null, { e, node, value: props.value });\r\n  };\r\n  node.addEventListener('drop', drop);\r\n\r\n\treturn {\r\n\t\tdestroy() {\r\n      // remove listener\r\n      node.removeEventListener('dragover', dragOver);\r\n      node.removeEventListener('drop', drop);\r\n    }\r\n\t};\r\n}","<script>\r\n  import { createEventDispatcher } from 'svelte';\r\n  import LabelHeading from '~/_components/LabelHeading.svelte';\r\n  import ActionButton from '~/_singles/buttons/ActionButton.svelte';\r\n  \r\n  import { slim } from '~/utils/strings';\r\n  import { drag, drop } from '~/actions/dragdrop';\r\n  \r\n  export let source = undefined;\r\n  export let activeLayer = undefined;\r\n  export let showEditButtons = true;\r\n  export let layerIndex = undefined;\r\n\r\n  let iconIndicator = true;\r\n  \r\n  // edit heading \r\n  let label, heading;\r\n  const dispatch = createEventDispatcher();\r\n\r\n  // don't allow left-click remove\r\n  const removeLayer = (e) => {\r\n    if(e.ctrlKey || e.altKey){\r\n      dispatch('remove', source);\r\n    }else{\r\n      // send notification modal that one has to use right-click or ctrl + click\r\n      console.warn(`Dispatch tooltip to let user know he has to hold down ctr or alt key`);\r\n    }\r\n  };\r\n\r\n  // dispatch clone event\r\n  const cloneLayer = (e) => dispatch('clone', source);\r\n\r\n  let over;\r\n  const dropDirective = {\r\n    over: _ => over = true,\r\n    leave: _ => over = false,\r\n    drop: ({ e, value }) => {\r\n      over = false;\r\n      const flip = e.dataTransfer.getData('flipPalette');\r\n      if(flip){\r\n        const n = Number(JSON.parse(flip).layerIndex);\r\n        dispatch('swapLayers', { to: n, from: value.layerIndex });\r\n      }\r\n    }\r\n  };\r\n\r\n  // reactive statements\r\n  $: label = slim(source.label, 15, '', (n, o) => n != o ? n + '...' : n);\r\n  $: active = source == $activeLayer;\r\n</script>\r\n\r\n<div class=\"layer-item\" class:over class:active use:drag={{ type: 'flipPalette', value: {layerIndex} }} use:drop={{ ...dropDirective, value: { layerIndex }}}>\r\n  <div class=\"panel-header\">\r\n    <LabelHeading \r\n      {active} \r\n      label={source.label} \r\n      bind:iconIndicator \r\n      bind:this={heading} \r\n      on:makeActive={ e => dispatch('makeActive', source)}\r\n      on:change={e => dispatch('updateLabel', { source, value: e.detail })}>\r\n      {label}\r\n    </LabelHeading>\r\n    {#if iconIndicator}\r\n      <div class=\"icon-indicator\">\r\n        <ActionButton on:click={e => heading.edit(e)}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\"><path d=\"M19.769 9.923l-12.642 12.639-7.127 1.438 1.438-7.128 12.641-12.64 5.69 5.691zm1.414-1.414l2.817-2.82-5.691-5.689-2.816 2.817 5.69 5.692z\"/></svg>\r\n        </ActionButton>\r\n          {#if showEditButtons}\r\n            <ActionButton on:click={cloneLayer}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\"><path d=\"M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14zm-3-8h-3v-3h-2v3h-3v2h3v3h2v-3h3v-2z\"/></svg>\r\n            </ActionButton>\r\n            <ActionButton on:click={removeLayer} variant=\"danger\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\"><path d=\"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z\"/></svg>\r\n            </ActionButton>\r\n          {/if}\r\n        </div>\r\n      {/if}\r\n  </div>\r\n  <slot></slot>\r\n</div>\r\n\r\n<style>\r\n  .layer-item.active *{\r\n    color: var(--active-color);\r\n  }\r\n  .layer-item.active{\r\n    filter: brightness(110%);\r\n  }\r\n  .panel-header{\r\n    position: relative;\r\n    background: linear-gradient(0deg, rgba(69, 28, 78, 1) 40%, transparent);\r\n    height: 33px;\r\n    box-shadow: 0 3px 20px rgba(0, 0, 0, 1);\r\n    border-bottom: 1px solid rgba(89, 53, 98, .81);\r\n    /* font-size: 9rem; */\r\n    text-align: left;\r\n    border-radius: 2px 2px 0 0;\r\n    overflow: hidden;\r\n    /* color: rgb(250, 170, 14); */\r\n  }\r\n\r\n  .panel-header::before{\r\n    content: '';\r\n    position: absolute;\r\n    top: 2px;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 5px;\r\n    background: rgba(234, 187, 250, 0.25);\r\n    filter: blur(3px);\r\n  }\r\n\r\n  .panel-header::after{\r\n    content: '';\r\n    position: absolute;\r\n    top: 5px;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 1px;\r\n    background: rgba(215, 130, 255, 0.25);\r\n    filter: blur(1px);\r\n  }\r\n\r\n  .panel-header :global([contenteditable]:focus){\r\n    background-color: rgb(44, 96, 252);\r\n    color: rgba(255, 255, 255, 0.8);\r\n    outline: none;\r\n  }\r\n\r\n\r\n  .icon-indicator{\r\n    padding: 5px 0;\r\n    display: flex;\r\n    align-items: center;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 5px;\r\n    height: 100%;\r\n    z-index: 10;\r\n    cursor: pointer;\r\n  }\r\n  .icon-indicator > :global(button){\r\n    margin-left: 2px;\r\n  }\r\n  .icon-indicator svg{\r\n    fill: rgba(255, 255, 255, 0.699);\r\n    transition: fill .4s;\r\n  }\r\n\r\n  svg{\r\n    fill: #fff;\r\n  }\r\n\r\n  :global(.selected){\r\n    background-color: var(--accent-blue);\r\n    color: rgb(255, 255, 255);\r\n    font-style: italic;\r\n  }\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  import { Spritesheets } from '~/stores/spritesheets.store.js';\r\n  import Layer from '~/_components/Layer.svelte';\r\n\r\n  const removeLayer = (e) => ActionsManager.execute('spritesheet_remove', e.detail);\r\n  const updateLabel = e => ActionsManager.execute('spritesheet_update_layer_label', { source: e.detail.source, label: e.detail.value });\r\n  const makeLayerActive = e => ActionsManager.execute('spritesheet_make_layer_active', e.detail);\r\n  const cloneLayer = e => ActionsManager.execute('spritesheet_clone_layer', e.detail);\r\n  const swapLayers = e => ActionsManager.execute('spritesheet_swap_layers', e.detail);\r\n</script>\r\n\r\n<Layer {...$$restProps} on:swapLayers={swapLayers} on:remove={removeLayer} on:updateLabel={updateLabel} on:makeActive={makeLayerActive} on:clone={cloneLayer}>\r\n  <slot></slot>\r\n</Layer>","<script>\r\n  import { onMount } from \"svelte\";\r\n  export let source;\r\n  let wrapper;\r\n  onMount(() => {\r\n    wrapper.appendChild(source.element);\r\n  });\r\n</script>\r\n\r\n<div class=\"canvas-wrapper\" bind:this={wrapper}></div> \r\n\r\n<style>\r\n  .canvas-wrapper{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 30rem 10rem;\r\n    width: 100%;\r\n    background: rgba(0, 0, 0, 0.481);\r\n    border: 1px solid rgba(255, 255, 255, 0.097);\r\n  }\r\n  .canvas-wrapper > :global(canvas){\r\n    width: 128px;\r\n    height: 128px;\r\n    background-color: black;\r\n    image-rendering: -moz-crisp-edges;\r\n    image-rendering: -webkit-crisp-edges;\r\n    image-rendering: pixelated;\r\n    image-rendering: crisp-edges;\r\n  }\r\n</style>","<script>\r\n  import Button from '~/_singles/buttons/Button.svelte';\r\n  import Layer from '~/_components/graphics/SpritesheetLayer.svelte';\r\n  import CanvasPreview from '~/_components/graphics/CanvasPreview.svelte';\r\n  \r\n  import ActionsManager from '~/application/ActionsManager';  \r\n  import { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\n  const { activeLayer, layers } = Spritesheets.stores;\r\n</script>\r\n\r\n<div class=\"palette-layer\">\r\n\r\n  <div class=\"layers\">\r\n    {#if $layers.length}\r\n      {#each $layers as canvas, layerIndex (canvas.uuid)}\r\n        <Layer source={canvas} activeLayer={activeLayer} {layerIndex}>\r\n          <CanvasPreview source={canvas} />\r\n        </Layer>\r\n      {/each}\r\n    {:else}\r\n      <div class=\"center\">\r\n        No spritesheets\r\n      </div>\r\n    {/if}\r\n  </div>\r\n\r\n  <div class=\"center\">\r\n    <Button on:click={_ => ActionsManager.execute('spritesheet_create')}>Create spritesheet</Button>\r\n  </div>\r\n\r\n</div>\r\n\r\n<style>\r\n  .center{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    padding: 15rem;\r\n  }\r\n\r\n  .palette-layer{\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: calc(100% - 40px) 40px;\r\n    height: 100%;\r\n  }\r\n  .layers{\r\n    overflow-y: auto;\r\n  }\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  import Layer from '~/_components/Layer.svelte';\r\n\r\n  const removeLayer = (e) => ActionsManager.execute('palette_remove', e.detail);\r\n  const updateLabel = e => ActionsManager.execute('palette_update_layer_label', { source: e.detail.source, label: e.detail.value });\r\n  const makeLayerActive = e => ActionsManager.execute('palette_make_layer_active', e.detail);\r\n  const cloneLayer = e => ActionsManager.execute('palette_clone_layer', e.detail);\r\n  const swapLayers = e => ActionsManager.execute('palette_swap_layers', e.detail);\r\n</script>\r\n\r\n<Layer {...$$restProps} on:swapLayers={swapLayers} on:remove={removeLayer} on:updateLabel={updateLabel} on:makeActive={makeLayerActive} on:clone={cloneLayer}>\r\n  <slot></slot>\r\n</Layer>","<script>\r\n  import { Palettes } from '~/stores/palettes.store.js';\r\n  import { drag } from '~/actions/dragdrop';\r\n\r\n  export let rgb;\r\n  export let hex;\r\n  export let type;\r\n  export let layerIndex = undefined;\r\n  export let colorIndex = undefined;\r\n\r\n  const { selectedColor, activeLayer } = Palettes.stores;\r\n</script>\r\n\r\n<div \r\n  class=\"color\" \r\n  data-hex={hex} \r\n  style=\"--rgb: rgb({rgb.join(',')});\"  \r\n  on:click \r\n  class:active={$activeLayer && colorIndex == $selectedColor && layerIndex == Palettes.layerIndexFromSource($activeLayer)} \r\n  use:drag={{ type, value: { rgb, hex, type, layerIndex, colorIndex } }}>\r\n  <span style=\"pointer-events: none;\">\r\n    <slot>0x{hex}</slot>\r\n  </span>\r\n</div>\r\n\r\n<style>\r\n  @keyframes bounce{\r\n    from{\r\n      box-shadow: 0 0 6px var(--rgb);\r\n    }\r\n    to{\r\n      box-shadow: 0 0 18px var(--rgb);\r\n    }\r\n  }\r\n  .active::after{\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    animation-name: bounce;\r\n    animation-duration: 1.5s;\r\n    animation-timing-function: linear;\r\n    animation-fill-mode: both;\r\n    animation-iteration-count: infinite;\r\n    animation-direction: alternate;\r\n    filter:brightness(1.5);\r\n    pointer-events: none;\r\n  }\r\n  .color{\r\n    --rgb: red;\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: var(--rgb);\r\n    font-variant-numeric: tabular-nums;\r\n    border-radius: 2px;\r\n    border: 1px solid rgba(0, 0, 0, 0);\r\n    opacity: 1;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .color > span{\r\n    position: absolute;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    opacity: 1;\r\n    padding: 2px 5px;\r\n    top: 2px;\r\n    left: 2px;\r\n    border-radius: 2px;\r\n    background-color: rgba(0, 0, 0, .3);\r\n    color: white;\r\n    min-width: 20px;\r\n    min-height: 20px;\r\n  }\r\n\r\n  .color:hover{\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5), inset 0 0 10px rgba(255, 255, 255, .4);\r\n    border: 1px solid rgba(255, 255, 255, 0.025);\r\n    filter: brightness(1.1);\r\n  }\r\n</style>","<script>\r\n  import { Palettes } from '~/stores/palettes.store.js';\r\n  import Button from '~/_singles/buttons/Button.svelte';\r\n  import Layer from '~/_components/graphics/PaletteLayer.svelte';\r\n  import Color from '~/_singles/Color.svelte';\r\n\r\n  import ActionsManager from '~/application/ActionsManager';\r\n\r\n  // actions\r\n  import { drop } from '~/actions/dragdrop';\r\n  \r\n  export let showEditButtons = true;\r\n  \r\n  const { activeLayer, layers } = Palettes.stores;\r\n\r\n  let over;\r\n  const colorDirective = {\r\n    over: _ => over = true,\r\n    leave: _ => over = false,\r\n    drop: ({ e, value }) => {\r\n      over = false;\r\n      const swap = e.dataTransfer.getData('swap');\r\n      if(swap){\r\n        layers.swapColors({ ...JSON.parse(swap), to: {...value} });\r\n      }\r\n\r\n      // handle replacement\r\n      const replace = e.dataTransfer.getData('replace');\r\n      if(replace){\r\n        layers.replaceColor({ ...JSON.parse(replace), ...value });\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<div class=\"palette-layer\">\r\n  <div class=\"layers\">\r\n    {#if $layers && $layers.length}\r\n      {#each $layers as palette, layerIndex}\r\n        <Layer source={palette} {showEditButtons} activeLayer={activeLayer} {layerIndex}>\r\n          <ul>\r\n            {#each palette.colors as color, colorIndex (colorIndex)}\r\n              <li use:drop={{ ...colorDirective, value: { layerIndex, colorIndex }}}>\r\n                <Color hex={color.hex} rgb={color.rgb} {layerIndex} {colorIndex} type=\"swap\">0x{color.hex}</Color>\r\n              </li>\r\n            {/each}\r\n          </ul>\r\n        </Layer>\r\n      {/each}\r\n    {:else}\r\n      <div class=\"center\">\r\n        No palettes\r\n      </div>\r\n    {/if}\r\n  </div>\r\n  <div class=\"center\">\r\n    {#if showEditButtons}\r\n      <Button on:click={_ => ActionsManager.execute('palette_create')}>Create palette</Button>\r\n    {/if}\r\n  </div>\r\n\r\n</div>\r\n\r\n<style>\r\n  .center{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    padding: 15rem;\r\n  }\r\n\r\n  .palette-layer{\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: calc(100% - 40px) 40px;\r\n    height: 100%;\r\n  }\r\n\r\n  .layers{\r\n    overflow-y: auto;\r\n  }\r\n  ul{\r\n    padding: 2px 0;\r\n    display: grid;\r\n    grid-template-columns: repeat(4, 1fr);\r\n    gap: 2px;\r\n  }\r\n  li{\r\n    --color: #000;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: flex-start;\r\n    justify-content: left;\r\n    background-color: var(--color);\r\n    width: 100%;\r\n    height: 40px;\r\n    cursor: move;\r\n  }\r\n</style>","export default (element, fn) => {\r\n  const handler = (e) => {\r\n    if(!element.contains(e.target)){\r\n      e.preventDefault();\r\n      fn.call(null);\r\n    }\r\n  }\r\n  window.addEventListener('click', handler);\r\n  return {\r\n    destroy(){\r\n      window.removeEventListener('click', handler);\r\n    }\r\n  }\r\n}","<script>\r\n  import clickOutside from '~/actions/clickoutside.js'; \r\n  import CircularPillButton from '~/_singles/buttons/CircularPillButton.svelte';\r\n  let active = false;\r\n</script>\r\n\r\n<div class=\"select-button\" class:active use:clickOutside={_ => active = false}>\r\n  <slot></slot>\r\n  <CircularPillButton on:click={_ => active = !active}>\r\n    <slot name=\"icon\"></slot>\r\n  </CircularPillButton>\r\n  <div class=\"dropdown\">\r\n    <slot name=\"list\"></slot>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .select-button{\r\n    position: relative;\r\n  }\r\n  .active .dropdown{\r\n    opacity: 1 !important;\r\n    pointer-events: all !important;\r\n  }\r\n  .dropdown{\r\n    opacity: 0;\r\n    position: absolute;\r\n    top: 35px;\r\n    left: -5px;\r\n    background-color: rgba(0, 0, 0, 0.09);\r\n    border-radius: 4px;\r\n    padding: 0 5px;\r\n    pointer-events: none;\r\n    transition: opacity .2s;\r\n  }\r\n  .dropdown :global(*){\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 5px 0;\r\n  }\r\n  .dropdown :global(* > *){\r\n    margin: 2px 0;\r\n  }\r\n</style>\r\n\r\n\r\n","<script>\r\n  import { createEventDispatcher } from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n</script>\r\n\r\n<div id=\"buttons\">\r\n  <div class=\"group\">\r\n    <slot></slot>\r\n  </div>  \r\n  <div class=\"group\">\r\n    <button on:click={_ => dispatch('centerArtboard')}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 24 24\"><path d=\"M10.573 3.021h7.427v-3.021l6 5.39-6 5.61v-3h-7.427c-3.071 0-5.561 2.356-5.561 5.427 0 3.071 2.489 5.573 5.561 5.573h7.427v5h-7.427c-5.84 0-10.573-4.734-10.573-10.573s4.733-10.406 10.573-10.406z\"/></svg></button>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  #buttons{\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    padding: 14px 10px;\r\n    width: 100%;\r\n    color: white;\r\n    z-index: 100;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    flex-direction: row;\r\n    pointer-events: none;\r\n  }\r\n  #buttons > .group{\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n  #buttons button{\r\n    margin: 4px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    fill: white;\r\n    width: 29px;\r\n    height: 29px;\r\n    border-radius: 50%;\r\n    border: 1px solid rgba(0, 0, 0, 0);\r\n    border-top: 1px solid rgba(83, 147, 255, 0.95);\r\n    border-bottom: 1px solid rgba(0, 0, 0, .3);\r\n    background-color: rgb(44, 96, 252);\r\n    box-shadow: inset 0 0px 2px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n    /* opacity: .85; */\r\n    opacity: 1;\r\n    pointer-events: all;\r\n    cursor: pointer;\r\n    transition: opacity .13s;\r\n  }\r\n\r\n  #buttons button:hover{\r\n    opacity: 1;\r\n  }\r\n  /* .flip{\r\n    transform: scaleX(-1);\r\n  } */\r\n  svg{\r\n    display: inline-block;\r\n  }\r\n\r\n\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  \r\n  import SelectButton from '~/_components/SelectButton.svelte';\r\n  import Button from '~/_singles/buttons/Button.svelte';\r\n  import ArtboardOptions from '~/_components/ArtboardOptions.svelte';\r\n</script>\r\n\r\n<ArtboardOptions on:centerArtboard>\r\n  <SelectButton>\r\n    <slot slot=\"icon\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 24 24\"><path d=\"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z\"/></svg>\r\n    </slot>\r\n    <slot slot=\"list\">      \r\n      <div>\r\n        <Button on:click={_ => ActionsManager.execute('spritesheet_import')}>Import spritesheet</Button>\r\n        <Button on:click={_ => ActionsManager.execute('spritesheet_import_chr')}>Import CHR</Button>\r\n      </div>\r\n      <div>\r\n        <Button on:click={_ => ActionsManager.execute('spritesheet_export')}>Export spritesheet</Button>\r\n        <Button on:click={_ => ActionsManager.execute('spritesheet_export_chr')}>Export CHR</Button>\r\n        <Button on:click={_ => ActionsManager.execute('spritesheet_export_png')}>Export PNG</Button>\r\n      </div>\r\n      <div>\r\n        <Button variant=\"danger\" on:click={_ => ActionsManager.execute('spritesheet_clear')}>Clear all</Button>\r\n      </div>\r\n    </slot>\r\n  </SelectButton>\r\n</ArtboardOptions>","<script>\r\n  import { onMount } from \"svelte\";\r\n  import { Palettes } from '~/stores/palettes.store.js';\r\n  import { Spritesheets } from '~/stores/spritesheets.store.js';\r\n  import SpritesheetEditor from './SpritesheetEditor';\r\n  import { primary, secondary, move, mouseup } from '~/modules/spritesheet_editor/tools.js';\r\n\r\n  export let zoom;\r\n\r\n  const { activeLayer, layers, width, height } = Spritesheets.stores;\r\n  const activePaletteLayer = Palettes.stores.activeLayer;\r\n\r\n  let canvas;\r\n  \r\n  let editor = new SpritesheetEditor({\r\n    width, \r\n    height \r\n  }); \r\n\r\n  // bind events\r\n  editor.on('primary', (e) => primary(e));\r\n  editor.on('secondary', (e) => secondary(e));\r\n  editor.on('move', (e) => move(e));\r\n  editor.on('mouseup', (e) => mouseup(e));\r\n\r\n\r\n  $: if(canvas){\r\n    // editor\r\n    editor.defineCanvas(canvas);\r\n  }\r\n\r\n  onMount(() => {\r\n    // clean up\r\n    return () => {\r\n      if(editor){\r\n        editor.destroy();\r\n      }\r\n    }\r\n  });\r\n</script>\r\n\r\n{#if $activeLayer && $layers.length && $activePaletteLayer}\r\n  <div style=\"--zoom: {zoom};\">\r\n    <canvas bind:this={canvas} width={128} height={128}>\r\n      <slot></slot>\r\n    </canvas>\r\n  </div>\r\n{:else}\r\n  Please select a spritesheet and palette\r\n{/if}\r\n\r\n<style>\r\n  div{\r\n    --zoom: 3;\r\n    transform: scale(var(--zoom));\r\n    transition-timing-function: linear;\r\n    transition: transform .15s;\r\n    padding: 4px;\r\n    border-radius: 1px;\r\n    background-color: rgba(0, 0, 0, .25);\r\n    transform-origin: center center;\r\n    box-shadow: 0 0 5px rgba(0, 0, 0, .2);\r\n  }\r\n\r\n  canvas{\r\n    display: block;\r\n    cursor: var(--canvas-cursor, none);\r\n    position: relative;\r\n    image-rendering: -moz-crisp-edges;\r\n    image-rendering: -webkit-crisp-edges;\r\n    image-rendering: pixelated;\r\n    image-rendering: crisp-edges;\r\n    \r\n    /* border: 1px solid rgba(255, 255, 255, .02); */\r\n    /* transitions for when the canvas zooms */\r\n    /*\r\n    cursor: url(\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='220px' y='200px' width='16px' height='16px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E %3Cpath fill='white' d='M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z'/%3E %3C/svg%3E\"), pointer;\r\n    */\r\n  }\r\n</style>","<script>\r\n  import Canvas from \"~/modules/spritesheet_editor/Canvas.svelte\";\r\n  export let zoom;\r\n</script>\r\n\r\n<Canvas {zoom} />","<script>\r\n  import Artboard, { centerScrollAndCanvas } from '~/_components/Artboard.svelte';\r\n  import SpritesheetToolbar from '~/_components/graphics/SpritesheetToolbar.svelte';\r\n  import SpritesheetLayers from '~/_components/graphics/SpritesheetLayers.svelte';\r\n  import PaletteLayers from '~/_components/graphics/PaletteLayers.svelte';\r\n  import SpritesheetOptions from '~/_components/graphics/SpritesheetOptions.svelte';\r\n  import SpritesheetEditor from '~/modules/spritesheet_editor/SpritesheetEditor.svelte';\r\n  \r\n  // this should be refactored to be an action \r\n  let zoom = 4;\r\n  const changeZoomLevel = (e) => {\r\n    // TODO: find out the x,y of the cursor position and update the canvas origin\r\n    // so it zooms where the cursor is located. will perhaps give a nicer feel\r\n    // update zoom\r\n    zoom = Math.max(1, zoom + (zoom - e.detail.deltaY > 0 ? 1 : -1));\r\n  };\r\n</script>\r\n\r\n<section class=\"main-artboard\">\r\n  <!-- <ToolOptions>Placeholder</ToolOptions> -->\r\n  <div></div>\r\n  <div class=\"inner-artboard\">\r\n    <SpritesheetOptions on:centerArtboard={centerScrollAndCanvas} />\r\n    <Artboard on:artboardScrollEvent={changeZoomLevel}>\r\n      <SpritesheetEditor {zoom} />\r\n    </Artboard>\r\n  </div>\r\n</section>\r\n\r\n<section class=\"toolbar-layer\">\r\n  <SpritesheetToolbar />\r\n</section>\r\n\r\n<section class=\"spritesheets-layer\">\r\n  <SpritesheetLayers />\r\n</section>\r\n\r\n<section class=\"palettes-layer\">\r\n  <PaletteLayers showEditButtons={false} />\r\n</section>\r\n\r\n<style>\r\n  .main-artboard{\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: 40px auto !important;\r\n  }\r\n  .inner-artboard{\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  .toolbar-layer{\r\n    background-color: rgba(0, 0, 0, .3);\r\n  }\r\n  .spritesheets-layer{\r\n    background-color: rgba(0, 0, 0, .2);\r\n  }\r\n  .palettes-layer{\r\n    background-color: rgba(0, 0, 0, .3);\r\n  }\r\n  section{\r\n    overflow: hidden;\r\n  }\r\n</style>","<script>\r\n  export let label = undefined;\r\n</script>\r\n\r\n<div class=\"labeled\">\r\n  {#if label}\r\n    <div class=\"label\">{label}</div>\r\n  {/if}\r\n  <slot></slot>\r\n</div>\r\n\r\n\r\n<style>\r\n  .labeled{\r\n    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.13);\r\n  }\r\n  div{\r\n    position: relative;\r\n    padding: 3px;\r\n    border: 1px dashed rgb(44, 96, 252);\r\n    border-radius: 4px;\r\n    line-height: 0;\r\n    background-color: rgba(0, 0, 0, .2);\r\n  }\r\n  div.label{\r\n    position: absolute;\r\n    top: 0;\r\n    left: -1px;\r\n    background: rgb(44, 96, 252);\r\n    transform: translate(0, -100%);\r\n    padding: 12px 8px;\r\n    border-radius: 2px 2px 0 0;\r\n    color: white;\r\n    /* cursor: url('data:image/svg+xml,%3Csvg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 13 13\"%3E,path d=\"M11.75 3.092v8.538c0 .383.688.391.688 0v-7.17c0-1.357 2.395-1.399 2.395 0v8.125c0 .5.491.573.676.197.176-.361.908-1.974.917-1.991.735-1.541 3.193-.605 2.429 1.209-.19.492-2.544 5.832-3.144 7.179-.629 1.411-1.857 2.821-4.126 2.821h-3.94c-2.388 0-3.645-1.417-3.645-3.895v-10.812c0-1.434 1.976-1.362 1.976-.066v4.741c0 .391.715.389.715 0v-7.618c0-1.475 2.208-1.435 2.208 0v7.192c0 .397.664.378.664-.008v-8.442c0-1.435 2.187-1.477 2.187 0zm-1.081-3.092c-1.055 0-1.972.499-2.53 1.277-1.833-.2-3.391 1.146-3.446 2.972-1.554.143-2.693 1.403-2.693 3.044v10.812c0 3.636 2.163 5.895 5.645 5.895h3.94c2.686 0 4.8-1.423 5.953-4.006.437-.981 2.873-6.496 3.17-7.24.464-1.119.373-2.297-.25-3.236-.761-1.146-2.233-1.75-3.624-1.41v-3.649c0-1.914-1.646-3.203-3.53-3.017-.532-.879-1.492-1.442-2.635-1.442z\"/%3E,/svg%3E'), pointer; */\r\n    /* cursor: url(\"data:image/svg+xml,%3Csvg  id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='32px' height='32px' viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;' xml:space='preserve'%3E %3Cpath d='M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z'/%3E %3C/svg%3E\"), pointer; */\r\n  }\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  \r\n  import SelectButton from '~/_components/SelectButton.svelte';\r\n  import Button from '~/_singles/buttons/Button.svelte';\r\n  import ArtboardOptions from '~/_components/ArtboardOptions.svelte';\r\n</script>\r\n\r\n<ArtboardOptions on:centerArtboard>\r\n  <SelectButton>\r\n    <slot slot=\"icon\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 24 24\"><path d=\"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z\"/></svg>\r\n    </slot>\r\n    <slot slot=\"list\">\r\n      <div>\r\n        <Button on:click={_ => ActionsManager.execute('palette_import')}>Import palette</Button>\r\n        <Button on:click={_ => ActionsManager.execute('palette_export')}>Export palette</Button>\r\n      </div>\r\n      <div>\r\n        <Button variant=\"danger\" on:click={_ => ActionsManager.execute('palette_clear')}>Clear all</Button>\r\n      </div>\r\n    </slot>\r\n  </SelectButton>\r\n</ArtboardOptions>","<script>\r\n  import Color from '~/_singles/Color.svelte';\r\n  import { NESPalette } from '~/application/project';\r\n  const click = (e) => {\r\n    console.log(e)\r\n  };\r\n</script>\r\n\r\n<ul>\r\n  {#each NESPalette as color}\r\n    <li><Color on:click={click} rgb={color.rgb} hex={color.hex} type=\"replace\" /></li>\r\n  {/each}\r\n</ul>","<script>\r\n  // components\r\n  import Color from '~/_singles/Color.svelte';\r\n  import Artboard, { centerScrollAndCanvas } from '~/_components/Artboard.svelte';\r\n  import Labeled from '~/components/general/labeledartboarditem.svelte';\r\n  import PaletteLayers from '~/_components/graphics/PaletteLayers.svelte';\r\n  \r\n  import PaletteOptions from '~/_components/graphics/PaletteOptions.svelte';\r\n\r\n  import { Palettes } from '~/stores/palettes.store.js';\r\n  const { activeLayer, layers } = Palettes.stores;\r\n\r\n  // actions\r\n  import { drop } from '~/actions/dragdrop';\r\n  import SwatchList from '~/_components/graphics/SwatchList.svelte';\r\n\r\n  let over;\r\n  const colorDirective = {\r\n    over: _ => over = true,\r\n    leave: _ => over = false,\r\n    drop: ({ e, value }) => {\r\n      over = false;\r\n      const swap = e.dataTransfer.getData('swap');\r\n      if(swap){\r\n        layers.swapColors({ ...JSON.parse(swap), to: {...value} });\r\n      }\r\n\r\n      // handle replacement\r\n      const replace = e.dataTransfer.getData('replace');\r\n      if(replace){\r\n        layers.replaceColor({ ...JSON.parse(replace), ...value });\r\n      }\r\n    }\r\n  };\r\n</script>\r\n        \r\n<section class=\"main-artboard\">\r\n  <!-- <ToolOptions>Placeholder</ToolOptions> -->\r\n  <div></div>\r\n  <div class=\"inner-artboard\">\r\n    <PaletteOptions on:centerArtboard={centerScrollAndCanvas} />\r\n    <Artboard>\r\n      {#if $activeLayer}\r\n        {#key $activeLayer}\r\n          <Labeled label={$activeLayer.label}>\r\n            <ul class=\"active-color-group\">\r\n              {#each $activeLayer.colors as color, colorIndex}\r\n                <li use:drop={{ ...colorDirective, value: { layerIndex: Palettes.layerIndexFromSource($activeLayer), colorIndex} }}>\r\n                  <Color hex={color.hex} rgb={color.rgb} layerIndex={Palettes.layerIndexFromSource($activeLayer)} {colorIndex}  type=\"swap\" />\r\n                </li>\r\n              {/each}\r\n            </ul>\r\n          </Labeled>\r\n        {/key}\r\n      {:else}\r\n        No layer selected\r\n      {/if}\r\n    </Artboard>\r\n  </div>\r\n</section>\r\n\r\n<section class=\"swatchlist\">\r\n  <SwatchList />\r\n</section>\r\n\r\n<section class=\"palettes-layers\">\r\n  <PaletteLayers showEditButtons />\r\n</section>\r\n\r\n<style>\r\n  .main-artboard{\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: 40px auto !important;\r\n  }\r\n  .inner-artboard{\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  section{\r\n    overflow: hidden;\r\n  }\r\n  \r\n  .swatchlist{\r\n    overflow-y: auto;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, .3);\r\n  }\r\n  .palettes-layers{\r\n    position: relative;\r\n    background-color: rgba(0, 0, 0, .2);\r\n  }\r\n  .swatchlist :global(ul){\r\n    display: grid;\r\n    grid-template-columns: repeat(3, auto);\r\n    grid-gap: 2rem;\r\n  }\r\n  .swatchlist :global(li){\r\n    height: 40px;\r\n  }\r\n\r\n  .active-color-group{\r\n    display: grid;\r\n    gap: 2px;\r\n    grid-template-columns: repeat(4, 1fr);\r\n    background-color: rgba(0, 0, 0, 0.741);\r\n  }\r\n\r\n  .active-color-group li{\r\n    width: 90px; \r\n    height: 90px;\r\n  }\r\n</style>","import { navigate, decorator } from 'svelte-standalone-router';\r\nimport KeyboardManager from '~/keyboard_shortcuts/manager';\r\n\r\n// decorator\r\nimport _Spritesheets from '~/_decorators/_Spritesheets.svelte';\r\nimport _Palettes from '~/_decorators/_Palettes.svelte';\r\n\r\n// pages\r\nimport Spritesheets from '~/_views/graphics/Spritesheets.svelte';\r\nimport Palettes from '~/_views/graphics/Palettes.svelte';\r\n\r\n// sections \r\nconst spritesheets = decorator(_Spritesheets);\r\nspritesheets('/graphics', _ => navigate('/graphics/spritesheets'))\r\n  // catch all /gfx/:section subroutes\r\nspritesheets('/graphics/spritesheets', (req, res) => {\r\n  // send the component to the view\r\n  try{\r\n    // enable the right shortcuts group for this page\r\n    KeyboardManager.enableGroups('*', 'spritesheets');\r\n    res.send(Spritesheets);\r\n  }catch(error){\r\n    res.error();\r\n  }\r\n});\r\n\r\n// palettes section\r\nconst palettes = decorator(_Palettes);\r\n  // catch all /gfx/:section subroutes\r\npalettes('/graphics/palettes', (req, res) => {\r\n  // send the component to the view\r\n  try{\r\n    // enable the right shortcuts group for this page\r\n    KeyboardManager.enableGroups('*', 'palettes');\r\n    res.send(Palettes);\r\n  }catch(error){\r\n    res.error();\r\n  }\r\n});","import { context } from '~/router/router';\r\n\r\n// home\r\ncontext.get('/', (req, res) => {\r\n  console.log('home')\r\n});","import manager from './manager';\r\nimport ActionsManager from \"~/application/ActionsManager\";\r\n\r\n// global commands\r\n// toggle fullscreen on f11 and altleft + enter combo. \r\nmanager.set(['f11'], { data: { action: ActionsManager.action('window_toggle_fullscreen') } });\r\nmanager.set(['altleft', 'enter'], { data: { action: ActionsManager.action('window_toggle_fullscreen') } });","import manager, { executeCommand } from './manager';\r\nimport ActionsManager from \"~/application/ActionsManager\";\r\n\r\nconst groups = ['palettes'];\r\n// global commands\r\n// toggle fullscreen on f11 and altleft + enter combo. \r\nmanager.set(['insert'], { data: { action: ActionsManager.action('palette_create') }, groups });\r\nmanager.set(['ControlLeft', 'KeyD'], { data: { action: ActionsManager.action('palette_clone_active_layer') }, groups });\r\n\r\n// update active layers name\r\nmanager.set(['f2'], { data: { action: ActionsManager.action('palette_focus_rename_active_layer') }, groups });\r\n\r\n// special cases since in elctron if a dialog is spawned the keyup event never triggers. so for some events it has to \r\n// be handled manually where the dialog modal gets focus on the screen\r\nconst _import = manager.set(['ControlLeft','KeyI'], { data: { action: ActionsManager.action('palette_import') }, groups });\r\n_import.on((args) => executeCommand(args));\r\nconst _export = manager.set(['ControlLeft', 'KeyE'], { data: { action: ActionsManager.action('palette_export') }, groups });\r\n_export.on((args) => executeCommand(args));\r\n\r\n","import manager, { executeCommand } from './manager';\r\nimport ActionsManager from \"~/application/ActionsManager\";\r\nimport { ToolTypes } from '~/modules/spritesheet_editor/tools';\r\n\r\n// register to groups\r\nconst groups = ['spritesheets'];\r\n\r\n// global commands\r\n// toggle fullscreen on f11 and altleft + enter combo. \r\nmanager.set(['insert'], { data: { action: ActionsManager.action('spritesheet_create')}, groups });\r\nmanager.set(['ControlLeft', 'KeyD'], { data: { action: ActionsManager.action('spritesheet_clone_active_layer') }, groups });\r\n\r\n// update active layers name\r\nmanager.set(['f2'], { data: { action: ActionsManager.action('spritesheet_focus_rename_active_layer')}, groups });\r\n\r\n// special cases since in elctron if a dialog is spawned the keyup event never triggers. so for some events it has to \r\n// be handled manually where the dialog modal gets focus on the screen\r\nconst _import = manager.set(['ControlLeft','KeyI'], { data: {action: ActionsManager.action('spritesheet_import')}, groups });\r\n_import.on((args) => executeCommand(args));\r\nconst _export = manager.set(['ControlLeft', 'KeyE'], { data: {action: ActionsManager.action('spritesheet_export')}, groups });\r\n_export.on((args) => executeCommand(args));\r\n\r\n// set active color\r\nmanager.set(['Digit1'], { data: {action: ActionsManager.action('palette_active_color'), props: 0}, groups });\r\nmanager.set(['Digit2'], { data: {action: ActionsManager.action('palette_active_color'), props: 1}, groups });\r\nmanager.set(['Digit3'], { data: {action: ActionsManager.action('palette_active_color'), props: 2}, groups });\r\nmanager.set(['Digit4'], { data: {action: ActionsManager.action('palette_active_color'), props: 3}, groups });\r\n\r\n// zoom\r\nmanager.set(['NumpadAdd'], { data: {action: ActionsManager.action('spritesheet_zoom_in')}, groups });\r\nmanager.set(['NumpadSubtract'], { data: {action: ActionsManager.action('spritesheet_zoom_out')}, groups });\r\nmanager.set(['Numpad0'], { data: {action: ActionsManager.action('spritesheet_zoom_reset')}, groups });\r\n\r\n// toolbar\r\nmanager.set(['KeyV'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: ToolTypes.get('pointer')}, groups });\r\nmanager.set(['KeyB'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: ToolTypes.get('pen')}, groups });\r\nmanager.set(['KeyG'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: ToolTypes.get('paintbucket')}, groups });\r\nmanager.set(['KeyM'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: ToolTypes.get('marquee')}, groups });\r\nmanager.set(['KeyC'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: ToolTypes.get('preview')}, groups });\r\nmanager.set(['KeyE'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: ToolTypes.get('eyedropper')}, groups });\r\n\r\n\r\n","<script>\n  import ActionsManager from '~/application/ActionsManager.js';\n  const { href } = $$props;\n</script>\n{#if !globalThis.electron}\n  <button {...$$props} on:click={_ => window.open(href)}><slot /></button>\n{:else}\n  <button {...$$props} on:click|preventDefault={_ => ActionsManager.execute('external_link', href)}><slot /></button>\n{/if}","<script>\n  import { onDestroy, onMount } from 'svelte';\n  import { link } from 'svelte-standalone-router';\n\n  import ActionsManager from '~/application/ActionsManager.js';\n  \n  import External from '~/components/external.svelte';\n\n  // Could we clean this up a bit? or simply just not bother?\n  let isActive = false;\n  let topLevelElements = [];\n  const clearActive = (e) => {\n    topLevelElements.forEach(_ => _.classList.remove('show'));\n    isActive = false;\n  }\n  window.addEventListener('click', clearActive);\n\n  // toplevel handlers\n  const toplevelClickHandler = e => {\n    e.stopPropagation();\n    // NOTE: this will toggle active menu and close menu if a sublink is clicked as well\n    isActive = !isActive;\n    e.currentTarget.classList.toggle('show');\n  };\n  const toplevelOverHandler = e => {\n    topLevelElements.forEach(_ => _.classList.remove('show'));\n    if(isActive){\n      e.currentTarget.classList.add('show');\n    }\n  };\n\n  onMount(() => {\n    // top level menu\n    topLevelElements = document.querySelectorAll('nav > ul > li');\n    topLevelElements.forEach(li => li.addEventListener('click', toplevelClickHandler));\n    topLevelElements.forEach(li => li.addEventListener('mouseover', toplevelOverHandler));\n  });\n\n  onDestroy(() => {\n    // clear active \n    window.removeEventListener('click', clearActive);\n    // clear toplevel\n    topLevelElements.forEach(li => li.removeEventListener('click', toplevelClickHandler));\n    topLevelElements.forEach(li => li.removeEventListener('mouseover', toplevelOverHandler));\n  });\n</script>\n\n<nav id=\"main-nav\" class=\"no-drag\">\n  <ul id=\"filemenu\">\n    <li class:show={false}>\n      <span>file</span>\n      <ul>\n        <li><button href=\"/\" on:click|preventDefault={_ => ActionsManager.execute('create_blank_project')}><span>new project</span></button></li>\n        <li><button href=\"/\" on:click|preventDefault={_ => ActionsManager.execute('open_project')}><span>open</span></button></li>\n        <li><button href=\"/\" on:click|preventDefault={_ => ActionsManager.execute('save_project')}><span>save</span></button></li>\n        <li><button href=\"/\" on:click|preventDefault={_ => ActionsManager.execute('save_dialog_project')}><span>save as</span></button></li>\n        {#if globalThis.electron}\n          <li><button href=\"/\" on:click={_ => ActionsManager.execute(`window_close`)}><span>quit</span></button></li>\n        {/if}\n      </ul>\n    </li>\n    <li>\n      <span>edit</span>\n    </li>\n    <li>\n      <span>build</span>\n    </li>\n    <li>\n      <span>window</span>\n      <ul>\n        <li><button href=\"/\" on:click|preventDefault={_ => ActionsManager.execute('window_toggle_fullscreen')}><span>toggle fullscreen</span></button></li>\n      </ul>\n    </li>\n    <li>\n      <span>help</span>\n      <ul>\n        <li>\n          <External href=\"https://github.com/hjalmar/nesbit-studio\">Visit github page</External>\n        </li>\n        <li>\n          <External href=\"https://discord.gg/WM8ZEnwbSd\">Join discord community</External>\n        </li>\n      </ul>\n    </li>\n  </ul>\n</nav>\n\n<style>\n  .show{\n    color: white;\n    background-color: rgba(255, 255, 255, 0.035);\n    box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.15);\n    border-left: 1px solid rgba(255, 255, 255, 0.385);  \n    border-right: 1px solid rgba(255, 255, 255, .385);  \n  }\n  #filemenu{\n    text-transform: capitalize;\n    color: white;\n    font-size: 11rem;\n    font-weight: normal;\n    color: rgba(255, 255, 255, .6);\n  }\n  \n  #filemenu li > ul{\n    box-shadow: 10px 10px 60px rgba(0, 0, 0, 1);\n    background: rgb(31, 21, 30);\n  }\n  #filemenu > li{\n    border-left: 1px solid rgba(255, 255, 255, 0);  \n    border-right: 1px solid rgba(255, 255, 255, 0);  \n  }\n  #filemenu li :global(button){\n    display: flex;\n    align-items: center;\n    align-content: center;\n    justify-content: space-between;\n    padding: 15px 20px;\n    border: none;\n    border-top: 1px solid rgba(255, 255, 255, 0);\n    width: 100%;\n    background: transparent;\n    transition: padding .3s, color .3s, box-shadow .5s;\n    color: rgba(255, 255, 255, .6);\n    text-decoration: none;\n    cursor: pointer;\n  }\n  #filemenu li :global(button > *::first-letter){\n    text-transform: uppercase;\n  }\n  \n  #filemenu li :global(button:hover){\n    border-top: 1px solid rgba(255, 255, 255, 0.055);\n    color: var(--active-color);\n    padding-left: 25px;\n    background: rgba(60, 43, 66, .41);\n    box-shadow: inset 0 0 16px rgba(0, 0, 0, 0.15);\n  }\n</style>","<script>\r\n  import { navigate, location } from 'svelte-standalone-router';\r\n  \r\n  export let area = null;\r\n  let _self;\r\n\r\n  // update active state\r\n  $: active = $location.startsWith(`/${area}`);\r\n  const click = _ => {\r\n    if(area){\r\n      navigate('/' + area);\r\n    }\r\n  };\r\n</script>\r\n\r\n<button class=\"no-drag\" bind:this={_self} on:click={ click } class:active><slot></slot></button>\r\n\r\n<style>\r\n  button{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-right: 1px;\r\n    width: 26px;\r\n    padding: 5px;\r\n    height: 100%;\r\n    border: none;\r\n    border-top: 1px solid rgba(255, 83, 241, 0);\r\n    background-color: rgba(255, 255, 255, .8);\r\n    box-shadow: inset 0 0px 14px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n    border-radius: 4px;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: 55%;\r\n    opacity: 1;\r\n    cursor: pointer;\r\n  }\r\n\r\n  button:hover{\r\n    opacity: 1;\r\n    border-top: 1px solid rgba(255, 83, 241, 0.95);\r\n    background-color: rgba(197, 36, 149, 0.8);\r\n    box-shadow: inset 0 0px 2px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n  }\r\n  /* yea, what can you do with sottet content??? */\r\n  button:hover :global(svg){\r\n    fill: white !important;\r\n  }\r\n  button.active :global(svg){\r\n    fill: white !important;\r\n  }\r\n  button.active{\r\n    border-top: 1px solid rgba(83, 147, 255, 0.95);\r\n    background-color: rgb(44, 96, 252);\r\n    box-shadow: inset 0 0px 2px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n  }\r\n</style>","<script>\r\n  import AreaButton from '~/_singles/buttons/AreaButton.svelte';\r\n  import ActionsManager from '~/application/ActionsManager.js';  \r\n</script>\r\n\r\n<ul class=\"area\">\r\n  <li>\r\n    <AreaButton area=\"game\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M6 2l1.171.203c-.355 2.245.791 2.519 2.699 2.874 1.468.273 3.13.622 3.13 3.284v.639h-1.183v-.639c0-1.556-.48-1.809-2.164-2.122-2.583-.48-4.096-1.391-3.653-4.239zm18 14c0 3.312-2.607 6-5.825 6-1.511 0-2.886-.595-3.921-1.565-1.311-1.229-3.278-1.132-4.55.038-1.03.948-2.389 1.527-3.879 1.527-3.217 0-5.825-2.688-5.825-6s2.608-6 5.825-6l12.563.007c3.118.116 5.612 2.755 5.612 5.993zm-15-1h-2v-2h-2v2h-2v2h2v2h2v-2h2v-2zm4 1h-2v1h2v-1zm4-2c0 .552.447 1 1 1s1-.448 1-1-.447-1-1-1-1 .448-1 1zm0 2c0-.552-.447-1-1-1s-1 .448-1 1 .447 1 1 1 1-.448 1-1zm2 2c0-.552-.447-1-1-1s-1 .448-1 1 .447 1 1 1 1-.448 1-1zm2-2c0-.552-.447-1-1-1s-1 .448-1 1 .447 1 1 1 1-.448 1-1z\"/></svg>\r\n    </AreaButton>\r\n  </li>\r\n  <li>\r\n    <AreaButton area=\"graphics\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M0 21.398c5.504.456 3.533-5.392 8.626-5.445l2.206 1.841c.549 6.645-7.579 8.127-10.832 3.604zm16.878-8.538c1.713-2.687 7.016-11.698 7.016-11.698.423-.747-.515-1.528-1.17-.976 0 0-7.887 6.857-10.213 9.03-1.838 1.719-1.846 2.504-2.441 5.336l2.016 1.681c2.67-1.098 3.439-1.248 4.792-3.373z\"/></svg>\r\n    </AreaButton>\r\n  </li>\r\n  <li>\r\n    <AreaButton area=\"audio\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M13 0h-2v15.676c-3.379-.667-7 1.915-7 4.731 0 2.367 1.881 3.593 3.919 3.593 2.423 0 5.077-1.728 5.081-5.24v-12.76c3.009 2.223 5.623 3.243 5.059 7 1.431-1.727 1.941-2.817 1.941-4.051 0-4.446-7-5.915-7-8.949z\"/></svg>\r\n    </AreaButton>\r\n  </li>\r\n  <li>\r\n    <AreaButton area=\"code\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M23 10.826v2.349c-1.562 0-3 1.312-3 2.857 0 2.181 1.281 5.968-6 5.968v-2.002c4.917 0 3.966-1.6 3.966-3.967 0-2.094 1.211-3.5 2.278-4.031-1.067-.531-2.278-1.438-2.278-3.312 0-2.372.94-4.692-3.966-4.686v-2.002c7.285 0 6 4.506 6 6.688 0 1.544 1.438 2.138 3 2.138zm-19-2.138c0-2.182-1.285-6.688 6-6.688v2.002c-4.906-.007-3.966 2.313-3.966 4.686 0 1.875-1.211 2.781-2.278 3.312 1.067.531 2.278 1.938 2.278 4.031 0 2.367-.951 3.967 3.966 3.967v2.002c-7.281 0-6-3.787-6-5.969 0-1.545-1.438-2.857-3-2.857v-2.349c1.562.001 3-.593 3-2.137z\"/></svg>\r\n    </AreaButton>\r\n  </li>\r\n  {#if globalThis.electron}\r\n    <li on:click={_ => ActionsManager.execute('buildandrun_project')} class=\"last\">\r\n      <AreaButton>\r\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"><path d=\"M24 19h-1v-2.2c-1.853 4.237-6.083 7.2-11 7.2-6.623 0-12-5.377-12-12h1c0 6.071 4.929 11 11 11 4.66 0 8.647-2.904 10.249-7h-2.249v-1h4v4zm-11.036 0h-1.886c-.34-.957-.437-1.571-1.177-1.878h-.001c-.743-.308-1.251.061-2.162.494l-1.333-1.333c.427-.899.804-1.415.494-2.163-.308-.74-.926-.839-1.878-1.177v-1.886c.954-.339 1.57-.437 1.878-1.178.308-.743-.06-1.248-.494-2.162l1.333-1.333c.918.436 1.421.801 2.162.494l.001-.001c.74-.307.838-.924 1.177-1.877h1.886c.34.958.437 1.57 1.177 1.877l.001.001c.743.308 1.252-.062 2.162-.494l1.333 1.333c-.435.917-.801 1.421-.494 2.161v.001c.307.739.915.835 1.878 1.178v1.886c-.953.338-1.571.437-1.878 1.178-.308.743.06 1.249.494 2.162l-1.333 1.333c-.92-.438-1.42-.802-2.157-.496-.746.31-.844.926-1.183 1.88zm-.943-4.667c-1.289 0-2.333-1.044-2.333-2.333 0-1.289 1.044-2.334 2.333-2.334 1.289 0 2.333 1.045 2.333 2.334 0 1.289-1.044 2.333-2.333 2.333zm-8.021-5.333h-4v-4h1v2.2c1.853-4.237 6.083-7.2 11-7.2 6.623 0 12 5.377 12 12h-1c0-6.071-4.929-11-11-11-4.66 0-8.647 2.904-10.249 7h2.249v1z\"/></svg>\r\n      </AreaButton>\r\n    </li>\r\n  {/if}\r\n</ul>\r\n\r\n<style>\r\n  .area{\r\n    display: flex;\r\n    margin-left: 7px;\r\n    padding-top: 4px;\r\n    height: 35px;\r\n  }\r\n  .area svg{\r\n    display: flex;\r\n    object-fit: contain;\r\n    pointer-events: none;\r\n    /* need to force height here else it wont be centered */\r\n    height: 20px;\r\n    fill: rgb(54, 54, 54);\r\n  }\r\n  li{\r\n    margin-right: 2px;\r\n  }\r\n  .last{\r\n    margin-left: 60px;\r\n  }\r\n</style>","<script>\n  import ActionsManager from '~/application/ActionsManager.js';\n  const windowCommand = (command) => ActionsManager.execute(`window_${command}`);\n</script>\n\n<button class=\"minimize\" on:click={_ => windowCommand('minimize')}></button>\n<button class=\"maximize\" on:click={_ => windowCommand('maximize')}></button>\n<button class=\"close\" on:click={_ => windowCommand('close')}></button>\n\n<style>  \n  button{\n    display: block;\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    cursor: pointer;\n    border: none;\n    /* transition: box-shadow .3s; */\n  }\n\n  .minimize{\n    background-color: rgb(21, 197, 159);\n  }\n  .maximize{\n    background-color: rgb(212, 192, 13);\n  }\n  .close{\n    background-color: hsl(345, 81%, 43%);\n  }\n</style>","<script>\r\n  import Filemenu from '~/_components/header/Navigation.svelte';\r\n  import SectionNavigation from '~/_components/header/SectionNavigation.svelte';\r\n  import WindowButtons from '~/_components/header/WindowButtons.svelte';\r\n  import { projectStore } from '~/application/project';\r\n</script>\r\n\r\n<header id=\"masthead\">\r\n  <div class=\"drag app-region\"></div>\r\n  <div class=\"inner\">\r\n    <div class=\"titlebar\">\r\n      [<span class=\"no-paint\">{$projectStore.name}</span>]{$projectStore.saved ? '' : '*'} \r\n    </div>\r\n    <div id=\"top-navigation\">\r\n      <Filemenu />\r\n      <SectionNavigation />\r\n    </div>\r\n    <!-- {#if globalThis.electron}\r\n    {/if} -->\r\n    <div id=\"window-buttons\">\r\n      <WindowButtons />\r\n    </div>\r\n  </div>\r\n</header>\r\n\r\n<style>\r\n  .inner{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    padding: 0 13px;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 200;\r\n    -webkit-user-drag: none;\r\n  }\r\n  .drag{\r\n    position: absolute;\r\n    top: 5px;\r\n    left: 5px;\r\n    width: calc(100% - 95px);\r\n    height: calc(100% - 5px);\r\n  }\r\n  #masthead{\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    z-index: 1564;\r\n    padding: 0 25px;\r\n    background: linear-gradient(0deg, rgba(69, 28, 78, 1) 30%, rgb(34, 18, 26));\r\n    height: 100%;\r\n    box-shadow: 0 3px 20px rgba(0, 0, 0, 1);\r\n    border-bottom: 1px solid rgba(89, 53, 98, .81);\r\n    line-height: 44px;\r\n    text-align: center;\r\n  }\r\n\r\n  #masthead::before{\r\n    content: '';\r\n    position: absolute;\r\n    top: 2px;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 5px;\r\n    background: rgba(234, 187, 250, 0.25);\r\n    filter: blur(3px);\r\n    pointer-events: none;\r\n  }\r\n\r\n  #masthead::after{\r\n    content: '';\r\n    position: absolute;\r\n    top: 5px;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 1px;\r\n    background: rgba(215, 130, 255, 0.25);\r\n    filter: blur(1px);\r\n    pointer-events: none;\r\n  }\r\n  \r\n  .titlebar{\r\n    position: absolute !important;\r\n    pointer-events: none;\r\n    z-index: 10;\r\n    top: 0;\r\n    left: 50%;\r\n    font-style: normal;\r\n    color: rgba(255, 255, 255, .6);\r\n  }\r\n\r\n  .titlebar > span{\r\n    font-style: italic;\r\n    color: rgba(255, 255, 255, 0.95);\r\n  }\r\n\r\n  #top-navigation{\r\n    display: flex;\r\n    height: 100%;\r\n  }\r\n  #window-buttons{\r\n    display: grid;\r\n    align-items: center;\r\n    grid-template-columns: repeat(3, auto);\r\n    gap: 10px;\r\n  }\r\n</style>","<script>\r\n  import { onDestroy, tick } from 'svelte';\r\n  import { log } from '~/application/project';\r\n  let element;\r\n  let errors = [];\r\n  const unsubscribe = log.subscribe(async (store) => {\r\n    errors = [...store];\r\n    await tick();\r\n    if(element){\r\n      element.scrollTo({\r\n        top: 1000000000,\r\n        left: 0,\r\n        behavior: 'smooth'\r\n      });\r\n    }\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n  });\r\n</script>\r\n\r\n<ul bind:this={element}>\r\n  {#each errors as { error, date }}\r\n    {#if error}\r\n      <li>\r\n        [{date}] ( {error.message} )\r\n        <div class=\"details\">\r\n          some extra hidden details\r\n        </div>\r\n      </li>  \r\n    {/if}\r\n  {/each}\r\n</ul>\r\n\r\n<style>\r\n  ul{\r\n    padding: 4rem 10rem;\r\n    width: 100%;\r\n    height: 100%;\r\n    color: var(--color);\r\n    overflow-y: auto;\r\n  }\r\n  li:last-child{\r\n    color: white;\r\n  }\r\n\r\n  .details{\r\n    display: none;\r\n  }\r\n</style>","<script>\n  import { onMount, tick } from 'svelte';\n  import { redirect, location } from 'svelte-standalone-router';\n\n  import { meta as _meta, projectStore } from '~/application/project';\n  import { application } from '~/nesbit.config';\n\n  import App from './App.svelte';  \n\n  // electron specific initializations\n  if(globalThis.electron){\n    // if we are in electron context add a class to the body element\n    // of electron to be able to distinguish between webapp and electron\n    document.body.classList.add('electron');  \n    // we only want to redirect on an electron application\n    // this only if you need to get the correct location of the startup page \n    // since the initial pathname is the filepath to the local file and not '/' as we expect.\n    redirect('/');\n  }\n\n  // force entry at startPage during development\n  onMount(async () => {\n    // wait tick just to be sure things have been properly executed\n    await tick();\n    if(application.startPage !== $location){\n      redirect(application.startPage);\n    }\n  });\n</script>\n\n<svelte:head>\n  <title>[{$projectStore.name}{$projectStore.save ? '' : '*'}]</title>\n  <!-- during development we want to inject liverealod. so we set this csp here so electron doesn't complain -->\n  <!-- could scripts from other source be executed before? maybe, probably, but whatever. Maybe should be removed all together since livereload is not bundled on build? -->\n  <meta http-equiv=\"Content-Security-Policy\" content=\"script-src 'self'\">\n</svelte:head>\n\n<App {...$$props} />","import '~/bootstrap';\nimport '~/application/actions.js';\nimport '~/router/router';\nimport './router/**/*.route.js';\nimport './keyboard_shortcuts/**/*.shortcut.js';\n\n// initialize svelte\nimport Init from './Init.svelte';\nimport AdBlock from './Adblock.svelte';\n\n// shift depending on if adblock or not\nlet component = window.not_adblocked ? Init : AdBlock;\nconst app = new component({\n  target: document.querySelector('body')\n});\n\nexport default app;"],"names":["this","global","saveAs","NESPalette","get","writable","_writable","array.chunk","colorPlaceholder","id","ColorPaletteGroup","json","layers","chr.parse","chr.generateExport","Cursor","selectedColor","ActionsManager","StandaloneRouter","Router","location","RouterContext","SvelteStandaloneRouter","ShortcutsManager","_Spritesheets","KeyboardManager","Spritesheets","_Palettes","Palettes","context","groups","_import","_export","AdBlock","app"],"mappings":"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AC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC9B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC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"}