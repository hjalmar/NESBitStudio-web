{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../src/application/palettes/nespalette.js","../../src/application/project.js","../../src/utils/numbers.js","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../../node_modules/svelte/animate/index.mjs","../../src/_components/ToastNotifications.svelte","../../src/bootstrap.js","../../src/_components/Artboard.svelte","../../node_modules/enums-manager/main.js","../../src/application/ActionsManager.js","../../node_modules/hotkeys-manager/main.js","../../src/keyboard_shortcuts/manager.js","../../src/utils/store.js","../../src/_components/Draggable.svelte","../../src/_singles/buttons/ActionButton.svelte","../../src/_components/ModalWindow.svelte","../../src/nesbit.config.js","../../src/utils/array.js","../../src/utils/chr.js","../../src/utils/canvas.js","../../src/modules/spritesheet_editor/CanvasLayer.js","../../src/stores/spritesheets.store.js","../../src/stores/palettes.store.js","../../src/modules/tilemap_editor/TilemapLayer.js","../../src/stores/tilemaps.store.js","../../src/stores/project.store.js","../../src/modules/spritesheet_editor/tools/tool.js","../../src/modules/spritesheet_editor/tools/pointer.js","../../src/modules/spritesheet_editor/layers/layer.js","../../src/modules/spritesheet_editor/layers/grid.layer.js","../../src/modules/spritesheet_editor/layers/cursor.layer.js","../../src/modules/spritesheet_editor/layers/tile.layer.js","../../src/modules/spritesheet_editor/layers/marquee.layer.js","../../src/modules/spritesheet_editor/layers/colorattributes.layer.js","../../src/modules/spritesheet_editor/layers/brush.layer.js","../../src/modules/spritesheet_editor/layers/shape.layer.js","../../src/modules/spritesheet_editor/SpritesheetEditor.js","../../src/modules/spritesheet_editor/tools/pen.js","../../src/modules/spritesheet_editor/tools/eyedropper.js","../../src/modules/spritesheet_editor/tools/paintbucket.js","../../src/modules/spritesheet_editor/tools/colorswap.js","../../src/modules/spritesheet_editor/tools/tileswap.js","../../src/modules/spritesheet_editor/tools/transform.js","../../src/modules/spritesheet_editor/layers/canvasportion.layer.js","../../src/modules/spritesheet_editor/tools/marquee.js","../../src/modules/spritesheet_editor/tools/colorattribute.js","../../src/_components/graphics/CanvasPreview.svelte","../../src/_components/graphics/SpritesheetPreview.svelte","../../src/modules/spritesheet_editor/tools/preview.js","../../src/modules/spritesheet_editor/tools/brush.js","../../src/modules/spritesheet_editor/tools/zoom.js","../../src/modules/spritesheet_editor/tools/text.js","../../src/utils/vector.js","../../src/modules/spritesheet_editor/tools/line.js","../../src/modules/spritesheet_editor/tools/circle.js","../../src/modules/spritesheet_editor/tools.js","../../src/application/actions/electron.js","../../node_modules/file-saver/dist/FileSaver.min.js","../../src/utils/file.js","../../src/application/actions/web.js","../../src/application/actions.js","../../node_modules/standalone-router/route.js","../../node_modules/standalone-router/utils.js","../../node_modules/standalone-router/main.js","../../node_modules/svelte-standalone-router/SvelteStandaloneRouter.js","../../node_modules/svelte-standalone-router/helpers.js","../../node_modules/svelte-standalone-router/router.js","../../node_modules/svelte-standalone-router/router.svelte","../../node_modules/svelte-standalone-router/link.js","../../node_modules/svelte-standalone-router/decorator.js","../../src/router/router.js","../../src/_components/documentation/SectionNavigation.svelte","../../src/_singles/buttons/ToolButton.svelte","../../src/_views/documentation/Spritesheets.md","../../src/router/routes/documentation.route.js","../../src/_components/graphics/SectionNavigation.svelte","../../src/_singles/buttons/ColorSelectButton.svelte","../../src/_components/graphics/ColorSelection.svelte","../../src/_components/graphics/ToolbarSelection.svelte","../../src/_singles/buttons/Button.svelte","../../src/utils/strings.js","../../src/_components/LabelHeading.svelte","../../src/actions/dragdrop.js","../../src/_components/Layer.svelte","../../src/_components/graphics/SpritesheetLayer.svelte","../../src/_components/graphics/SpritesheetLayers.svelte","../../src/_components/graphics/PaletteLayer.svelte","../../src/_singles/Color.svelte","../../src/_components/graphics/PaletteLayers.svelte","../../src/actions/clickoutside.js","../../src/_components/SelectButton.svelte","../../src/_components/ArtboardOptions.svelte","../../src/_components/graphics/SpritesheetOptions.svelte","../../src/modules/spritesheet_editor/Canvas.svelte","../../src/modules/spritesheet_editor/SpritesheetEditor.svelte","../../src/_views/graphics/Spritesheets.svelte","../../src/_components/LabelWrapper.svelte","../../src/_components/graphics/PaletteOptions.svelte","../../src/_components/graphics/SwatchList.svelte","../../src/_views/graphics/Palettes.svelte","../../src/stores/spritesets.store.js","../../src/_singles/form/Select.svelte","../../src/_views/graphics/Spritesets.svelte","../../src/_components/graphics/TilemapsLayer.svelte","../../src/_components/graphics/TilemapsLayers.svelte","../../src/_components/graphics/TilemapOptions.svelte","../../src/modules/tilemap_editor/TilemapEditor.js","../../src/modules/tilemap_editor/tools/tool.js","../../src/modules/tilemap_editor/tools/pointer.js","../../src/modules/tilemap_editor/tools/tile.js","../../src/modules/tilemap_editor/tools.js","../../src/modules/tilemap_editor/Canvas.svelte","../../src/modules/tilemap_editor/TilemapEditor.svelte","../../src/_views/graphics/Tilemaps.svelte","../../src/router/routes/graphics.route.js","../../src/_singles/buttons/ExternalLinkButton.svelte","../../src/_views/Support.svelte","../../src/router/routes/home.route.js","../../src/keyboard_shortcuts/application.shortcut.js","../../src/keyboard_shortcuts/palettes.shortcut.js","../../src/keyboard_shortcuts/project.shortcut.js","../../src/keyboard_shortcuts/spritesheets.shortcut.js","../../src/dev.init.js","../../src/public.init.js","../../src/_components/header/Navigation.svelte","../../src/_singles/buttons/AreaButton.svelte","../../src/_components/header/SectionNavigation.svelte","../../src/_components/header/WindowButtons.svelte","../../src/_components/header/Header.svelte","../../src/_components/console.svelte","../../src/_components/Popup.svelte","../../src/App.svelte","../../src/Init.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot_spread(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_spread_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_spread_changes_fn(dirty) | get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : context || []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : options.context || []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.38.2' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to seperate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_custom_elements_slots, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_await_block_branch, update_keyed_each, update_slot, update_slot_spread, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","// convert rgb to hsl\r\nexport const rgbToHsl = (c) => {\r\n  var r = c[0]/255, g = c[1]/255, b = c[2]/255;\r\n  var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n  var h, s, l = (max + min) / 2;\r\n\r\n  if(max == min) {\r\n    h = s = 0; // achromatic\r\n  } else {\r\n    var d = max - min;\r\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n    switch(max){\r\n      case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n      case g: h = (b - r) / d + 2; break;\r\n      case b: h = (r - g) / d + 4; break;\r\n    }\r\n    h /= 6;\r\n  }\r\n  return new Array(h * 360, s * 100, l * 100);\r\n}\r\n\r\n// nes color palette\r\nconst nespalette = [\r\n  {hex: '00', rgb: [124,124,124]},\r\n  {hex: '01', rgb: [0,0,252]},\r\n  {hex: '02', rgb: [0,0,188]},\r\n  {hex: '03', rgb: [68,40,188]},\r\n  {hex: '04', rgb: [148,0,132]},\r\n  {hex: '05', rgb: [168,0,32]},\r\n  {hex: '06', rgb: [168,16,0]},\r\n  {hex: '07', rgb: [136,20,0]},\r\n  {hex: '08', rgb: [80,48,0]},\r\n  {hex: '09', rgb: [0,120,0]},\r\n  {hex: '0A', rgb: [0,104,0]},\r\n  {hex: '0B', rgb: [0,88,0]},\r\n  {hex: '0C', rgb: [0,64,88]},\r\n  {hex: '0D', rgb: [0,0,0]},\r\n  {hex: '0E', rgb: [0,0,0]},\r\n  {hex: '0F', rgb: [0,0,0]},\r\n  {hex: '10', rgb: [188,188,188]},\r\n  {hex: '11', rgb: [0,120,248]},\r\n  {hex: '12', rgb: [0,88,248]},\r\n  {hex: '13', rgb: [104,68,252]},\r\n  {hex: '14', rgb: [216,0,204]},\r\n  {hex: '15', rgb: [228,0,88]},\r\n  {hex: '16', rgb: [248,56,0]},\r\n  {hex: '17', rgb: [228,92,16]},\r\n  {hex: '18', rgb: [172,124,0]},\r\n  {hex: '19', rgb: [0,184,0]},\r\n  {hex: '1A', rgb: [0,168,0]},\r\n  {hex: '1B', rgb: [0,168,68]},\r\n  {hex: '1C', rgb: [0,136,136]},\r\n  {hex: '1D', rgb: [0,0,0]},\r\n  {hex: '1E', rgb: [0,0,0]},\r\n  {hex: '1F', rgb: [0,0,0]},\r\n  {hex: '20', rgb: [248,248,248]},\r\n  {hex: '21', rgb: [60,188,252]},\r\n  {hex: '22', rgb: [104,136,252]},\r\n  {hex: '23', rgb: [152,120,248]},\r\n  {hex: '24', rgb: [248,120,248]},\r\n  {hex: '25', rgb: [248,88,152]},\r\n  {hex: '26', rgb: [248,120,88]},\r\n  {hex: '27', rgb: [252,160,68]},\r\n  {hex: '28', rgb: [248,184,0]},\r\n  {hex: '29', rgb: [184,248,24]},\r\n  {hex: '2A', rgb: [88,216,84]},\r\n  {hex: '2B', rgb: [88,248,152]},\r\n  {hex: '2C', rgb: [0,232,216]},\r\n  {hex: '2D', rgb: [120,120,120]},\r\n  {hex: '2E', rgb: [0,0,0]},\r\n  {hex: '2F', rgb: [0,0,0]},\r\n  {hex: '30', rgb: [252,252,252]},\r\n  {hex: '31', rgb: [164,228,252]},\r\n  {hex: '32', rgb: [184,184,248]},\r\n  {hex: '33', rgb: [216,184,248]},\r\n  {hex: '34', rgb: [248,184,248]},\r\n  {hex: '35', rgb: [248,164,192]},\r\n  {hex: '36', rgb: [240,208,176]},\r\n  {hex: '37', rgb: [252,224,168]},\r\n  {hex: '38', rgb: [248,216,120]},\r\n  {hex: '39', rgb: [216,248,120]},\r\n  {hex: '3A', rgb: [184,248,184]},\r\n  {hex: '3B', rgb: [184,248,216]},\r\n  {hex: '3C', rgb: [0,252,252]},\r\n  {hex: '3D', rgb: [216,216,216]},\r\n  {hex: '3E', rgb: [0,0,0]},\r\n  {hex: '3F', rgb: [0,0,0]},\r\n];\r\n\r\n// sort after hue\r\nconst sorted = nespalette.map((c, i) => ({rgb: rgbToHsl(c.rgb), index: i}))\r\n  .sort((a, b) => b.rgb[0] - a.rgb[0] || a.rgb[2] - b.rgb[2])\r\n  .map((data) => nespalette[data.index]);\r\n\r\n\r\nclass NESColor{\r\n  constructor(hex, rgb){\r\n    this.hex = hex;\r\n    this.rgb = rgb;\r\n    Object.freeze(this);\r\n  }\r\n}\r\n\r\n// create color objects to be easier to deal with throughout the application\r\nconst mappedColorList = sorted.map(color => new NESColor(color.hex, color.rgb));\r\n\r\nexport default mappedColorList;","import { writable } from 'svelte/store';\r\nimport NESPalette from '~/application/palettes/nespalette';\r\n\r\n// export the nespalette\r\nexport { NESPalette };\r\n\r\n\r\n// meta config\r\nexport const meta = {\r\n  startPage: '/graphics'\r\n};\r\n\r\n// console store\r\nexport const log = (() => {\r\n  const store = writable([]);\r\n  const { subscribe, update } = store;\r\n  return {\r\n    subscribe,\r\n    push(e){\r\n      if(e instanceof ErrorEvent){\r\n        const d = new Date();\r\n        const date = `${String(d.getHours()).padStart(2, '0')}:${String(d.getMinutes()).padStart(2, '0')}:${String(d.getSeconds()).padStart(2, '0')}`;\r\n        e.date = date;\r\n        update((store) => {\r\n          // don't let the array get to big so let's reset it  \r\n          // when it reaches a size of 20\r\n          if(store.length > 20){\r\n            store = [];\r\n          }\r\n          store.push(e);\r\n          return store;\r\n        });\r\n      }\r\n    }\r\n  }\r\n})();\r\n\r\n// project store\r\nexport const projectStore = (() => {\r\n  const { subscribe, set, update } = writable({\r\n    name: undefined,\r\n    saved: null,\r\n  });\r\n  return {\r\n    subscribe,\r\n    name: (name) => {\r\n      if(typeof name != 'string'){\r\n        throw new Error(`Invalid project name.`);\r\n      }\r\n      update(obj => ({...obj, name}));\r\n    },\r\n    save: (location) => {\r\n      console.log('saving to location:', location);\r\n    }\r\n  }\r\n})();","/*\r\n  create a random uuid\r\n  @param Int(default: 4) (how many parts)\r\n  @return String\r\n\r\n  @usage:\r\n  const id = uuid(6);\r\n*/\r\nexport const uuid = (p = 4) => `${Date.now().toString(36)}-${(new Array(p-1).fill(0).map(_ => (Math.random().toString(36).substr(2, 8)))).join('-')}`;\r\n\r\n\r\n// number -> hex\r\nexport const dec2hex = (n, p = 6) => {\r\n  if(typeof n !== 'number'){\r\n    throw new Error(`Invalid argument, expecting number got : [${typeof n}]`);\r\n  }\r\n  if(typeof p !== 'number'){\r\n    throw new Error(`Invalid padding argument, expecting number got : [${typeof p}]`);\r\n  }\r\n  const hex = (n >>> 0).toString(16);\r\n  return p ? hex.padStart(p, 0) : hex;\r\n}\r\n\r\n// constrain a value between a min, max\r\n// constrain(x, 0, 100);\r\nexport const constrain = (n, _min, _max) => Math.max(Math.min(n, _max), _min);\r\n\r\n// map one range -> another\r\n// map(x, 0, 100, 500, 600);\r\nexport const map = (n, start1, stop1, start2, stop2, withinBounds = true) => {\r\n  const newval = ((n - start1)/(stop1 - start1)) * (stop2 - start2) + start2;\r\n  if(!withinBounds){\r\n    return newval;\r\n  }\r\n  return constrain(newval, start2, stop2);\r\n}","export { identity as linear } from '../internal/index.mjs';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing/index.mjs';\nimport { is_function, assign } from '../internal/index.mjs';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut } = {}) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","import { cubicOut } from '../easing/index.mjs';\nimport { is_function } from '../internal/index.mjs';\n\nfunction flip(node, animation, params = {}) {\n    const style = getComputedStyle(node);\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const scaleX = animation.from.width / node.clientWidth;\n    const scaleY = animation.from.height / node.clientHeight;\n    const dx = (animation.from.left - animation.to.left) / scaleX;\n    const dy = (animation.from.top - animation.to.top) / scaleY;\n    const d = Math.sqrt(dx * dx + dy * dy);\n    const { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n    return {\n        delay,\n        duration: is_function(duration) ? duration(d) : duration,\n        easing,\n        css: (_t, u) => `transform: ${transform} translate(${u * dx}px, ${u * dy}px);`\n    };\n}\n\nexport { flip };\n","<script context=\"module\">\r\n  import { flip } from 'svelte/animate';\r\n  import { fly } from 'svelte/transition';\r\n  import { writable } from \"svelte/store\";\r\n  \r\n  import { uuid } from '~/utils/numbers.js';\r\n  let duration = 5000;\r\n  \r\n  const notifications = writable([]);\r\n  const queueForDeletion = [];\r\n  \r\n  export const remove = (notification) => {\r\n    notifications.update((store) => store.filter(n => n !== notification));\r\n  };\r\n  \r\n  export const push = (props) => notifications.update((store) => {\r\n    let item = {uuid: uuid(), message: `Invalid toast properties.`, variant: 'danger' };\r\n    if(props.message){\r\n      item = {...item, ...props}; \r\n    }\r\n    store.push(item);\r\n\r\n    setTimeout(() => {\r\n      // queueForDeletion.push({ item, duration: 4000, timestamp: Date.now() });\r\n      remove(item);\r\n    }, duration);\r\n    \r\n    return store;\r\n  });\r\n  // TODO: check queue in an interval for which notifications to remove so we can pause it while hovering. \r\n</script>\r\n\r\n{#if $notifications.length}\r\n  <div class=\"toast-notifications\">\r\n    {#each $notifications as notification (notification.uuid)}\r\n      <div class=\"notification\" data-variant=\"{notification.variant}\" animate:flip in:fly={{x: 500, duration: 300}} out:fly={{x: 0, duration: 300}}>\r\n        <button on:click={_ => remove(notification)}>\r\n          <svg width=\"24\" height=\"24\" xmlns=\"http://www.w3.org/2000/svg\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"><path d=\"M12 11.293l10.293-10.293.707.707-10.293 10.293 10.293 10.293-.707.707-10.293-10.293-10.293 10.293-.707-.707 10.293-10.293-10.293-10.293.707-.707 10.293 10.293z\"/></svg>\r\n        </button>\r\n        <p>\r\n          {notification.message}\r\n        </p>\r\n      </div>\r\n    {/each}\r\n  </div>\r\n{/if}\r\n\r\n<style>\r\n  .toast-notifications{\r\n    position: fixed;\r\n    top: 42px;\r\n    right: 1px;\r\n    z-index: 999999999999999999999999;\r\n  }\r\n\r\n  .notification{\r\n    display: grid;\r\n    grid-template-columns: 60px auto;\r\n    margin: 0 0 3px;\r\n    background-color: royalblue;\r\n    background-image: linear-gradient(180deg, transparent 6%, rgba(0, 0, 0, 0.09), transparent 40%), \r\n                      linear-gradient(180deg, rgba(0, 0, 0, 0.344) 10%, rgba(61, 61, 61, 0.145) 90%);\r\n    width: 340px;\r\n    color: white; \r\n    border-radius: 4px;\r\n    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.645), inset 0 6px 24px rgba(0, 0, 0, 0.13);\r\n    border-top: 1px solid rgba(255, 255, 255, 0.111);\r\n  }\r\n\r\n  button{\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 0 20px;\r\n    border-right: 1px solid rgba(255, 255, 255, 0.111);\r\n  }\r\n\r\n  svg{\r\n    fill: white;\r\n    transform: scale(.8);\r\n  }\r\n\r\n  p{\r\n    text-shadow: none;\r\n    padding: 0 20px;\r\n    font-size: 12px;\r\n  }\r\n\r\n  [data-variant=success]{\r\n    background-color: rgb(65, 225, 177);\r\n  }\r\n  [data-variant=warning]{\r\n    background-color: rgb(225, 214, 65);\r\n  }\r\n  [data-variant=danger]{\r\n    background-color: rgb(225, 65, 65);\r\n  }\r\n</style>","import { log } from '~/application/project';\r\nimport { push } from '~/_components/ToastNotifications.svelte';\r\n\r\n// disable context menu \r\nwindow.addEventListener('contextmenu', _ => _.preventDefault());\r\n\r\nwindow.addEventListener(\"error\", function (e) {\r\n  log.push(e);\r\n  push({message: e.message, variant: 'danger'});\r\n});\r\n\r\n// for debugging. remove in production\r\nwindow.addEventListener('keydown', (e) => {\r\n  // console.log('keydown debugging. remove in production.')\r\n  // console.log(e.code);\r\n});","<script context=\"module\">\r\n  let scroll, wrapper, artboard, mouseScroll = false;\r\n  export const getCurrentOffset = () => {\r\n    return {x: scroll.scrollLeft, y: scroll.scrollTop};\r\n  }\r\n  export const centerScrollAndCanvas = () => {\r\n    const center = {\r\n      x: (wrapper.offsetWidth / 2) - scroll.offsetWidth / 2, \r\n      y: (wrapper.offsetHeight / 2) - scroll.offsetHeight / 2\r\n    };\r\n    scroll.scrollTo(center.x, center.y);\r\n    return center;\r\n  };\r\n</script>\r\n<script>\r\n  import { createEventDispatcher } from 'svelte';  \r\n  import { onDestroy, onMount } from 'svelte';\r\n\r\n  const dispatch = createEventDispatcher();\r\n  // any number other than 2 will displace the content on resize\r\n  let gutter = 2;\r\n\r\n  // lets use the resize handler as our way of knowing when the dom has \r\n  // finished rendered because else we have to use the setTimeout hack \r\n  // to push the centerScrollAndCanvas to the end of the queuestack\r\n  let firstLoad = false;\r\n  let active = false;\r\n  \r\n  export let x = 0;\r\n  export let y = 0;\r\n\r\n  const resizeHandler = (entries) => {\r\n    for(const entry of entries){\r\n      if(entry.contentRect){\r\n        const { width, height } = entry.contentRect;\r\n        const w = 4000;\r\n        const h = 4000;\r\n        const calc = {\r\n          x: (w * gutter),\r\n          y: (h * gutter)\r\n        };\r\n        wrapper.style.height = (calc.y) + 'px';\r\n        wrapper.style.width = (calc.x) + 'px';\r\n        // \r\n        if(!firstLoad){\r\n          firstLoad = true;\r\n          const { x: _x, y: _y } = centerScrollAndCanvas();\r\n          // offset the artboard\r\n          scroll.scrollTo(x || _x, y || _y);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  const resizeObserver = new ResizeObserver(entries => resizeHandler(entries));\r\n\r\n  const scrollEvent = (e) => dispatch('artboardScrollEvent', e);\r\n\r\n  let startX, startY;\r\n  let scrollLeft, scrollTop; \r\n  \r\n  let keyDowns = {};\r\n  const keyDown = (e) => {\r\n    e.preventDefault();\r\n    keyDowns [e.code] = true;\r\n  }\r\n  const keyUp = (e) => {\r\n    keyDowns[e.code] = false;\r\n  }\r\n\r\n  const downHandler = (e) => {\r\n    if(!keyDowns.Space){\r\n      // NOTE: allow middle mousebutton to drag window\r\n      if(e.which != 2){\r\n        return;\r\n      }\r\n    }\r\n    e.stopPropagation();\r\n    e.stopImmediatePropagation();\r\n    // if we get this far prevent default behaviour\r\n    e.preventDefault();\r\n    active = true;\r\n    startX = e.pageX - scroll.offsetLeft;\r\n    scrollLeft = scroll.scrollLeft;\r\n    startY = e.pageY - scroll.offsetTop;\r\n    scrollTop = scroll.scrollTop;\r\n  };\r\n\r\n  const upHandler = () => {\r\n    active = false;\r\n    dispatch('artboardOffsetEvent', { x, y });\r\n  }\r\n\r\n  const moveHandler = (e) => {\r\n    if(!keyDowns.Space){\r\n      // NOTE: allow middle mousebutton to drag window\r\n      if(e.which != 2){\r\n        return;\r\n      }\r\n    }\r\n    e.stopPropagation();\r\n    e.stopImmediatePropagation();\r\n\r\n    const _x = e.pageX - scroll.offsetLeft;\r\n    const walk = (_x - startX) * 1; //scroll-fast\r\n    \r\n    const _y = e.pageY - scroll.offsetTop;\r\n    const walky = (_y - startY) * 1; //scroll-fast\r\n    // TODO: store x, y and move canvas to that point on scroll\r\n    // also change the canvas origin so it zooms at the current position\r\n    // the cursor is pointing at \r\n    // console.log(x, y)\r\n    const offset = getCurrentOffset();\r\n    x = offset.x;\r\n    y = offset.y;\r\n\r\n    if(!active) return;\r\n    e.preventDefault();\r\n    scroll.scrollLeft = scrollLeft - walk;\r\n    scroll.scrollTop = scrollTop - walky;\r\n  };\r\n  \r\n  onMount(() => {\r\n    document.addEventListener('keydown', keyDown);\r\n    document.addEventListener('keyup', keyUp);\r\n    resizeObserver.observe(artboard);\r\n    // centerScrollAndCanvas();\r\n\r\n    // add events \r\n    // on:mousemove={moveHandler}\r\n    document.addEventListener('mousemove', moveHandler, true);\r\n    document.addEventListener('mouseup', upHandler);\r\n  });\r\n  \r\n  onDestroy(() => {\r\n    document.removeEventListener('keydown', keyDown);\r\n    document.removeEventListener('keyup', keyUp);\r\n    // unsubscribe to all elements\r\n    resizeObserver.disconnect();\r\n    document.removeEventListener('mousemove', moveHandler, true);\r\n    document.removeEventListener('mouseup', upHandler);\r\n  });\r\n</script>\r\n\r\n<div class:active class=\"artboard\" bind:this={artboard} on:wheel={scrollEvent}>\r\n  <div class=\"outer\" bind:this={scroll} on:mousedown|capture={downHandler} on:wheel={e => !mouseScroll ? e.preventDefault() : '' }>\r\n    <div class=\"wrapper\" bind:this={wrapper}>\r\n      <div class=\"content\">\r\n        <slot></slot>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .outer{\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: scroll;\r\n  }\r\n  .artboard{\r\n    --size: 40;\r\n    --opacity: .08;\r\n    position: relative;\r\n    overflow: hidden;\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    background-position: 0 0, calc(var(--size)/2 * 1px) calc(var(--size)/2 * 1px);\r\n    background-size: calc(var(--size) * 1px) calc(var(--size) * 1px);\r\n    background-image: linear-gradient(45deg, rgba(0,0,0,var(--opacity)) 25%, transparent 25%, transparent 75%, rgba(0,0,0,var(--opacity)) 75%, rgba(0,0,0,var(--opacity)) 100%),linear-gradient(45deg, rgba(0,0,0,var(--opacity)) 25%, rgba(0,0,0,0) 25%, rgba(0,0,0,0) 75%, rgba(0,0,0,var(--opacity)) 75%, rgba(0,0,0,var(--opacity)) 100%);\r\n  }\r\n  .artboard .wrapper{\r\n    overflow: hidden;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  .content{\r\n    position: relative;\r\n  }\r\n</style>","/*\r\n  Enum\r\n*/\r\nexport class Enum extends Number{\r\n  constructor(value, key){\r\n    if(typeof value != 'number' || typeof key != 'string'){\r\n      throw new Error(`Invalid Enumerable arguments`);\r\n    }\r\n    super(value);\r\n    this.key = key;\r\n    this.value = value;\r\n    Object.freeze(this);\r\n  }\r\n}\r\n\r\n/*\r\n  EnumerableList\r\n\r\n  Usage:\r\n  const types = new EnumerableList('designer', 'programmer', 'webdeveloper');\r\n  console.log(types.get('programmer'));\r\n*/\r\nexport class EnumerableList extends Map{\r\n  constructor(...props){\r\n    super();\r\n    props.forEach((key, i) => {\r\n      if(this.has(key)){\r\n        throw new Error(`enum key : '${key}' already exists`);\r\n      }\r\n      if(typeof key !== 'string'){\r\n        throw new Error(`Invalid key. Expecting string, got : [${typeof key}](${key})`);\r\n      }\r\n      const EnumerableItem = new Enum(i+1, key);\r\n      this.set(key, EnumerableItem);\r\n    });\r\n    Object.freeze(this);\r\n  }\r\n}","import { EnumerableList, Enum } from 'enums-manager';\r\n\r\nexport class ActionsManager{\r\n  constructor(...actions){\r\n    // define\r\n    this.__actions = this.define(...actions);\r\n    this.__binds = new Map();\r\n  }\r\n  define(...args){\r\n    const list = new EnumerableList(...args);\r\n    this.__actions = list; \r\n    return list;\r\n  }\r\n  action(key){\r\n    if(!this.__actions.has(key)){\r\n      throw new Error(`Action is not defined for key '${key}'`);\r\n    } \r\n    return this.__actions.get(key);\r\n  }\r\n  register(k, f){\r\n    if(typeof k === 'string'){\r\n      this.register(this.action(k), f);\r\n      return;\r\n    }\r\n    if(!(k instanceof Enum)){\r\n      throw new Error(`Invalid key value '${k}'. Expecting instance of 'Enum'`);\r\n    }\r\n    if(this.__binds.has(k)){\r\n      throw new Error(`Action already defined : [${k.key}]`);\r\n    }\r\n    if(typeof f !== 'function'){\r\n      throw new Error(`Invalid callback function`);\r\n    }\r\n    this.__binds.set(k, f);\r\n  }\r\n  exist(value){\r\n    return this.__binds.has(value);\r\n  }\r\n  call(k, ...args){\r\n    if(typeof k === 'string'){\r\n      this.call(this.action(k), ...args);\r\n      return;\r\n    }\r\n    if(!(k instanceof Enum)){\r\n      throw new Error(`Invalid key '${k}'. Expecting 'Enum'`);\r\n    }\r\n    \r\n    if(!this.__binds.has(k)){\r\n      throw new Error(`Action for '${k.key}'(${k}) does not exist`);\r\n    }\r\n    // handle promises to allow for chaining\r\n    return new Promise((resolve, reject) => {\r\n      try{\r\n        resolve(this.__binds.get(k).call(null, ...args));\r\n      }catch(error){\r\n        reject(error.message);\r\n      }\r\n    });\r\n  }\r\n  execute(...args){\r\n    return this.call(...args);\r\n  }\r\n}\r\n\r\n// create actions\r\nconst actions = new ActionsManager(\r\n  'noop', // a blank command\r\n  // application\r\n  'application_log',\r\n  'notification',\r\n  \r\n  // window\r\n  'window_close',\r\n  'window_minimize',\r\n  'window_maximize',\r\n  'window_toggle_fullscreen',\r\n  'external_link',\r\n  \r\n  // project\r\n  'project_create',\r\n  'project_open',\r\n  'project_save',\r\n  'project_save_as',\r\n  \r\n  // build\r\n  'project_build',\r\n  'project_run',\r\n  'project_build_run',\r\n\r\n  // graphics general actions\r\n  'graphics_center_artboard',\r\n\r\n  // palettes\r\n  'palette_clear',\r\n  'palette_create',\r\n  'palette_remove',\r\n  'palette_clone_layer',\r\n  'palette_clone_active_layer',\r\n  'palette_make_layer_active',\r\n  'palette_swap_layers',\r\n  'palette_update_layer_label',\r\n  'palette_focus_rename_active_layer',\r\n  'palette_export',\r\n  'palette_import',\r\n  'palette_active_color',\r\n  \r\n  // spritesheets\r\n  'spritesheet_clear',\r\n  'spritesheet_create',\r\n  'spritesheet_remove',\r\n  'spritesheet_clone_layer',\r\n  'spritesheet_clone_active_layer',\r\n  'spritesheet_update_layer_label',\r\n  'spritesheet_make_layer_active',\r\n  'spritesheet_swap_layers',\r\n  'spritesheet_focus_rename_active_layer',\r\n  'spritesheet_zoom_in',\r\n  'spritesheet_zoom_out',\r\n  'spritesheet_zoom_reset',\r\n  'spritesheet_set_active_tool',\r\n  'spritesheet_tool_dblclick',\r\n  'spritesheet_import',\r\n  'spritesheet_export',\r\n  'spritesheet_import_chr',\r\n  'spritesheet_export_chr',\r\n  'spritesheet_export_png',\r\n\r\n  'spritesheet_undo',\r\n  'spritesheet_redo',\r\n\r\n  'spritesheet_set_selected_tile',\r\n\r\n  // tilemaps\r\n  'tilemap_clear',\r\n  'tilemap_create',\r\n  'tilemap_remove',\r\n  'tilemap_clone_layer',\r\n  'tilemap_clone_active_layer',\r\n  'tilemap_update_layer_label',\r\n  'tilemap_make_layer_active',\r\n  'tilemap_swap_layers',\r\n  'tilemap_focus_rename_active_layer',\r\n  'tilemap_zoom',\r\n  'tilemap_zoom_in',\r\n  'tilemap_zoom_out',\r\n  'tilemap_zoom_reset',\r\n  'tilemap_import',\r\n  'tilemap_export',\r\n  'tilemap_export_nametable',\r\n  'tilemap_export_png',\r\n\r\n  // tool\r\n  'tool_action',\r\n\r\n  // themes\r\n  'toggle_theme',\r\n  'light_theme',\r\n  'dark_theme',\r\n);\r\n\r\nexport default actions;","class Hotkey{\r\n  constructor({keys, data, groups, options}){\r\n    if(!Array.isArray(keys)){\r\n      throw new Error(`Invalid keys. Expecting array of string representation values.`);\r\n    }\r\n    this.options = {\r\n      ...options\r\n    }\r\n    this.groups = groups || [];\r\n    this.signature = keys.toString();\r\n    this.keys = keys;\r\n    this.data = data;\r\n    // callbacks\r\n    this.__on;\r\n    this.__off;\r\n  }\r\n  get callbacks(){\r\n    return {\r\n      on: this.__on,\r\n      off: this.__off\r\n    };\r\n  }\r\n  on(fn){\r\n    if(typeof fn != 'function'){\r\n      throw new Error(`Invalid 'off' function`);\r\n    }\r\n    this.__on = fn;\r\n    return this;\r\n  }\r\n  off(fn){\r\n    if(typeof fn != 'function'){\r\n      throw new Error(`Invalid 'off' function`);\r\n    }\r\n    this.__off = fn;\r\n    return this;\r\n  }\r\n}\r\n\r\nexport default class HotkeysManager{\r\n  constructor(target, options){\r\n    this.__options = {\r\n      once: true,\r\n      preventDefault: true,\r\n      ...options\r\n    };\r\n    this.__registeredGroups = new Set();\r\n    this.__enabledGroups = '__all__';\r\n    this.__commands = new Map();\r\n    this.__target = target;\r\n  }\r\n  get target(){\r\n    return this.__target;\r\n  }\r\n  _prepare(arr){\r\n    if(!Array.isArray(arr)){\r\n      throw new Error(`Invalid '_prepare' argument. Expecting array, got : [${typeof arr}]`);\r\n    }\r\n    // sort the keys so they always end up in the same order\r\n    return [...arr].map(key => key.toLowerCase()).sort((a, b) => {\r\n      return a.toLowerCase().localeCompare(b.toLowerCase());\r\n    });\r\n  }\r\n  enableAllGroups(){\r\n    this.__enabledGroups = '__all__';\r\n  }\r\n  enableGroups(...groups){\r\n    return [...this.__enabledGroups = [...groups]];\r\n  }\r\n  _find(command){\r\n    // get all command values\r\n    const commands = Array.from(this.__commands.values());\r\n    // sort after priority\r\n    commands.sort((a, b) => b.options.priority - a.options.priority);\r\n\r\n    // filter all commands that includes any route\r\n    let found;\r\n    if(Array.isArray(this.__enabledGroups)){\r\n      found = commands.find(KeyboardShortcut => {\r\n        return KeyboardShortcut.groups.some(g => {\r\n          // find a match which matches groups and signature\r\n          if(!this.__enabledGroups || this.__enabledGroups.includes(g)){\r\n            if(KeyboardShortcut.signature == command.toString()){\r\n              return true;\r\n            }\r\n          }\r\n        });\r\n      });\r\n    // check if we have the __all__ wildcard and to simply look through every single command\r\n    }else if(this.__enabledGroups == '__all__'){\r\n      found = commands.find(KeyboardShortcut => KeyboardShortcut.signature == command.toString());\r\n    }\r\n\r\n    return found;\r\n  }\r\n  set(keySequence, { data, groups, ...props }){\r\n    // check to see if groups is an array and has a size of at least 1\r\n    // else return an array with one item which is the '*' wildcard\r\n    // this will register one global entry\r\n    groups = Array.isArray(groups) && groups.length > 0 ? groups : ['*'];\r\n    // track all registered groups\r\n    groups.map(group => this.__registeredGroups.add(group));\r\n    const keys = this._prepare(keySequence);\r\n    const shortcut = new Hotkey({\r\n      keys, \r\n      data, \r\n      groups,\r\n      options: { \r\n        priority: props.priority || 0,\r\n        once: typeof props.once == 'boolean' ? props.once : this.__options.once, \r\n        preventDefault: typeof props.preventDefault == 'boolean' ? props.preventDefault : this.__options.preventDefault,\r\n      }\r\n    });\r\n\r\n    // iterate over all groups and store a reference \r\n    groups.map(group => {\r\n      if(this.__commands.get(`${group},${shortcut.signature}`)){\r\n        throw new Error(`Shortcut already defined : [${group},${shortcut.signature}]`);\r\n      }\r\n      this.__commands.set(`${group},${shortcut.signature}`, shortcut);\r\n    });\r\n\r\n    return shortcut;\r\n  }\r\n  execute(command, state){\r\n    // loop through command sequence and dispatch the events\r\n    // which will execute the command like one pressed the keyboard\r\n    // handle on state\r\n    if(state == 'on' || state == undefined){\r\n      const keys = {};\r\n      command.map(key => keys[key.toLowerCase()] = true);\r\n      const e = new Event(\"keydown\");\r\n      e.customExecuteEvent = keys;\r\n      this.__target.dispatchEvent(e);\r\n    }\r\n\r\n    // handle off state\r\n    if(state == 'off' || state == undefined){\r\n      // release them\r\n      command.map(key => {\r\n        const e = new Event(\"keyup\");\r\n        e.code = key;\r\n        this.__target.dispatchEvent(e);\r\n      });\r\n    }\r\n  }\r\n  subscribe(callback){\r\n    let keys = {};\r\n    let prevCommand = {};\r\n    const keyDownHandler = (e) => {\r\n      if(e.customExecuteEvent){\r\n        keys = e.customExecuteEvent;\r\n      }else{\r\n        keys[e.code.toLowerCase()] = true;\r\n      }\r\n      // get all active keys\r\n      const currentCommand = this._prepare(Object.entries(keys).filter(([k, v]) => v).map(([k, v]) => k.toLowerCase()));\r\n      // store the previous command\r\n      const match = this._find(currentCommand);\r\n      // if we have a match go ahead and trigger the callback\r\n      if(match){\r\n        if(match.options.preventDefault){\r\n          e.preventDefault();\r\n        }\r\n        // prevent command from executing over and over again if the option 'once' is defined\r\n        if(match.options.once && currentCommand.toString() == prevCommand.signature){\r\n          return;\r\n        }\r\n        \r\n        // and store the command signature\r\n        prevCommand = {\r\n          instance: match,\r\n          signature: currentCommand.toString()\r\n        };\r\n        // if the shortcut has on callback, execute that as well\r\n        if(typeof match.callbacks.on == 'function'){\r\n          match.callbacks.on.call(null, { e, Hotkey: match, on: true });\r\n        }else{\r\n          // call the callback\r\n          if(typeof callback == 'function'){\r\n            callback.call(null, { e, Hotkey: match, on: true });\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n    const keyUpHandler = e => {\r\n      keys[e.code.toLowerCase()] = false; \r\n      if(prevCommand.instance && typeof prevCommand.instance.callbacks.off == 'function'){\r\n        prevCommand.instance.callbacks.off.call(null, { e, Hotkey: prevCommand.instance, on: false });\r\n      }else{\r\n        // call the callback\r\n        if(prevCommand.instance && typeof callback == 'function'){\r\n          callback.call(null, { e, Hotkey: prevCommand.instance, on: false });\r\n        }\r\n      }\r\n\r\n\r\n      prevCommand = {};\r\n    };\r\n    // 'keydown' since we want to trigger, shift, control, alt etc. 'keypress' does not\r\n    this.__target.addEventListener('keydown', keyDownHandler);\r\n    this.__target.addEventListener('keyup', keyUpHandler);\r\n\r\n    // return unsubscribe method which in turn returns another subscribe method\r\n    // to resubscribe with the same options if need be. \r\n    return () => {\r\n      this.__target.removeEventListener('keyup', keyUpHandler);\r\n      this.__target.removeEventListener('keydown', keyDownHandler);\r\n      return _ => this.subscribe(this.__target, callback);\r\n    }\r\n  }\r\n}","\nimport ShortcutsManager from 'hotkeys-manager';\nimport ActionsManager from \"~/application/ActionsManager\";\n\n// shortcuts manager \nexport const manager = new ShortcutsManager(window);\n\n// subscribe to events\nexport const unsubscribe = manager.subscribe(({ e, Hotkey, on }) => {\n  e.preventDefault();\n  if(on && Hotkey.data){\n    if(ActionsManager.exist(Hotkey.data.action)){\n      ActionsManager.execute(Hotkey.data.action, Hotkey.data.props);\n    }else if(typeof Hotkey.data.action == 'function'){\n      Hotkey.data.action.call(null, { e, Hotkey, on });\n    }\n  }\n});\n\n// const execute command\nexport const executeCommand = ({ e, Hotkey, on }) => {\n  e.preventDefault();\n  if(on && Hotkey.data && ActionsManager.exist(Hotkey.data.action)){\n    ActionsManager.execute(Hotkey.data.action);\n  }\n  // programmatically call keys up state\n  manager.execute(Hotkey.keys, 'off');\n};\n\nexport default manager;","import { writable as _writable, get, derived, readable } from 'svelte/store';\r\n\r\nexport { derived, readable };\r\n\r\nexport const writable = (value, fn) => {\r\n  const store = _writable(value);\r\n  let ret = { ...store, get: _ => get(store) };\r\n  if(fn){\r\n    ret = { ...ret, ...(fn.call(null, { value, store, get: ret.get } || { ...ret })) };\r\n  }\r\n  return Object.freeze(ret);\r\n}","<script context=\"module\">\r\n  let zindex = 9999;\r\n  let stack = [];\r\n  const focus = (ref) => {\r\n    ref.zindex = zindex++;\r\n    ref.style.setProperty('--zindex', zindex);\r\n  };\r\n  const add = (ref) => {\r\n    focus(ref);\r\n    stack.push(ref);\r\n  };\r\n  const remove = (ref) => {\r\n    stack = stack.filter(r => r !== ref);\r\n  };\r\n  export const getActiveWindow = () => stack.reduce((value, acc) =>  acc > value.zindex ? acc : value);\r\n</script>\r\n<script>\r\n  import { onMount } from \"svelte\";\r\n\r\n  export let clamp = undefined;\r\n\texport let top = 0;\r\n  export let left = 0;\r\n\r\n  export let minLeft = 0;\r\n  export let minTop = 0;\r\n  \r\n  top = Math.max(top, minTop);\r\n  left = Math.max(left, minLeft);\r\n\r\n  let wrapper;\r\n\tlet moving = false; \r\n\t\r\n  const start = e => {\r\n    focus(wrapper);\r\n    moving = true;\r\n  };\r\n\tconst stop = _ => moving = false;\r\n\tconst move = (e) => {\r\n    if (moving) {\r\n      left += e.movementX;\r\n      top += e.movementY;\r\n\r\n      if(clamp){\r\n        // clamp to top left\r\n        const w = window.innerWidth;\r\n        const h = window.innerHeight;\r\n        left = Math.min(Math.max(left, minLeft), w - wrapper.clientWidth - 2);\r\n        top = Math.min(Math.max(top, minTop), h - wrapper.clientHeight - 2);\r\n      }\r\n    }\r\n\t};\r\n\r\n  onMount(() => {\r\n    add(wrapper);\r\n    return () => {\r\n      remove(wrapper);\r\n    }\r\n  });\r\n\r\n</script>\r\n\r\n<svelte:window on:mouseup={stop} on:mousemove|capture={move} />\r\n<div class=\"draggable\" on:mousedown={start} style=\"left: {left}px; top: {top}px;\" bind:this={wrapper}>\r\n  <slot focus={_ => focus(wrapper)} />\r\n</div>\r\n\r\n<style>\r\n  .draggable {\r\n    --zindex: 999;\r\n\t\tuser-select: none;\r\n    position: fixed;\r\n    top: var(--top);\r\n    left: var(--left);\r\n\t\tborder: solid 1px var(--bg-dark);\r\n\t\tcursor: move;\r\n    z-index: var(--zindex);\r\n\t}\r\n</style>","<script>\r\n  export let variant = undefined;\r\n</script>\r\n\r\n<button on:click class:danger={variant == 'danger'}>\r\n  <slot></slot>\r\n</button>\r\n\r\n<style>\r\n  button:hover :global(svg){\r\n    fill: rgba(255, 255, 255, 1);\r\n  }\r\n  button{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-right: 1px;\r\n    width: 24px;\r\n    padding: 5px;\r\n    height: 100%;\r\n    border: none;\r\n    border-radius: 4px;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: 55%;\r\n    opacity: 1;\r\n    cursor: pointer;\r\n    border-top: 1px solid rgba(83, 147, 255, 0.95);\r\n    background-color: rgb(44, 96, 252);\r\n    box-shadow: inset 0 0px 2px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n  }\r\n\r\n  .danger{\r\n    border-top: 1px solid rgba(255, 83, 83, 0.95);\r\n    background-color: rgb(192, 24, 69);\r\n  }\r\n</style>","<script context=\"module\">\r\n  import ActionButton from '~/_singles/buttons/ActionButton.svelte';\r\n  import PanelHeader from '~/_components/PanelHeader.svelte';\r\n  import Draggable, { getActiveWindow } from '~/_components/Draggable.svelte';\r\n  import { writable } from 'svelte/store';\r\n\r\n  const windows = writable([]);\r\n  export const push = (component, props = {}) => {\r\n    props = {\r\n      width: 128, \r\n      height: 128, \r\n      zoom: 2,\r\n      ...props\r\n    };\r\n    windows.update((store) => {\r\n      return [...store, { component, props }];\r\n    });\r\n  };\r\n  export const clear = _ => windows.set([]);\r\n  export const close = (obj) => {\r\n    windows.update((store) => store.filter(_obj => _obj !== obj));\r\n  };\r\n  \r\n  const max = 5;\r\n  const min = 2;\r\n\r\n  const scrollBehaviour = (e, target, focus) => {\r\n    if(focus) focus();\r\n    windows.update((store) => {\r\n      const index = store.indexOf(target);\r\n      const match = store[index];\r\n      match.props.zoom = Math.min(Math.max(match.props.zoom + (e.deltaY > 0 ? -1 : 1), min), max);\r\n      return store;\r\n    });\r\n  };\r\n</script>\r\n\r\n{#each $windows as _window (_window)}\r\n  <Draggable minTop=\"40\" clamp let:focus>\r\n    <div class=\"window\" on:wheel|preventDefault={e => scrollBehaviour(e, _window, focus)} style=\"--scale: {_window.props.zoom}; --width: {_window.props.width}; --height: {_window.props.height};\">\r\n      <div class=\"controls\">\r\n        <PanelHeader>\r\n          <span class=\"label\">\r\n            {_window.props.label}\r\n          </span>\r\n          <div class=\"actions\">\r\n            <ActionButton on:click={_ => close(_window)}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 24 24\"><path d=\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\"/></svg>\r\n            </ActionButton>\r\n          </div>\r\n        </PanelHeader>\r\n      </div>\r\n      <div class=\"content-window\">\r\n        {#if _window.component}\r\n          <svelte:component this={_window.component} {..._window.props} />\r\n        {:else}\r\n          No component\r\n        {/if}\r\n      </div>\r\n    </div>\r\n  </Draggable>\r\n{/each}  \r\n<style>\r\n  .window{\r\n    --scale: 4;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-color: var(--bg-dark);\r\n    box-shadow: 0 2px 18px rgba(0, 0, 0, .6);\r\n    overflow: hidden;\r\n  }\r\n  .label{\r\n    overflow-x: hidden;\r\n  }\r\n  .controls{\r\n    position: relative;\r\n    z-index: 10;\r\n  }\r\n\r\n  .content-window{\r\n    padding: 0;\r\n    display: flex;\r\n    width: calc(var(--scale) * (var(--width) * 1px));\r\n    height: calc(var(--scale) * (var(--height) * 1px));\r\n  }\r\n  .content-window > :global(*){\r\n    background-color: transparent;\r\n    transform-origin: top left;\r\n    /* transform: scale(var(--scale)); */\r\n  }\r\n</style>","export const application = {\r\n  startPage: '/graphics/spritesheets',\r\n  // startPage: '/documentation',\r\n  isDev: location.hostname == 'localhost' || globalThis.electron,\r\n  initWithDemoProject: true,\r\n  showSupportPopup: false,\r\n}\r\n\r\nexport const subDir = !application.isDev ? '/NESBitStudio-web' : '/'; \r\n\r\nexport const filetypes = {\r\n  // project \r\n  project: {\r\n    save: {\r\n      mimetype: \"nesbit/project\",\r\n      extension: \"nesbitproject\",\r\n      version: 3\r\n    }\r\n  },\r\n  // palettes \r\n  palettes: {\r\n    save: {\r\n      mimetype: \"nesbit/palette\",\r\n      extension: \"nesbitpalette\",\r\n      version: 2,\r\n    },\r\n    export: {\r\n      mimetype: \"text/plain\",\r\n      extension: \"\",\r\n      version: 1\r\n    }\r\n  },\r\n  // spritesheets \r\n  spritesheets: {\r\n    save: {\r\n      mimetype: \"nesbit/spritesheet\",\r\n      extension: \"nesbitspritesheet\",\r\n      version: 3\r\n    },\r\n    export: {\r\n      mimetype: \"text/plain\",\r\n      extension: \"\",\r\n      version: 2\r\n    }\r\n  },\r\n  // tilemaps \r\n  tilemaps: {\r\n    save: {\r\n      mimetype: \"nesbit/tilemap\",\r\n      extension: \"nesbittilemap\",\r\n      version: 1\r\n    },\r\n    export: {\r\n      mimetype: \"text/plain\",\r\n      extension: \"s\",\r\n      version: 1\r\n    }\r\n  },\r\n\r\n  // settings\r\n  settings: {\r\n    save: {\r\n      mimetype: \"nesbit/settings\",\r\n      extension: \"nesbitsettings\",\r\n      version: 2\r\n    }\r\n  }\r\n}\r\n\r\nexport default { \r\n  application,\r\n  filetypes\r\n};","// shuffel an array\r\n// https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\r\nexport const shuffle = (array) => {\r\n  for(let i = array.length - 1; i > 0; i--){\r\n    let j = Math.floor(Math.random() * (i + 1));\r\n    [array[i], array[j]] = [array[j], array[i]];\r\n  }\r\n  return array;\r\n}\r\n\r\n// split array into chunks\r\nexport const chunk = (array, size) => {\r\n  const length = array ? array.length : 0;\r\n  if(length < 1){\r\n    return [];\r\n  }\r\n  const result = new Array(Math.ceil(length / size));\r\n  let index = 0, resIndex = 0;\r\n  while(index < length){\r\n    result[resIndex++] = array.slice(index, (index += size));\r\n  }\r\n  return result;\r\n}","import * as array from './array.js';\r\n\r\n// convert the number to a binary string\r\nconst getBinaryStringFromNumber = (n) => {\r\n  // convert to binary\r\n  n = Number(n >>> 0).toString(2);\r\n  // force it's length to be 8 by padding 0's\r\n  return '00000000'.substring(n.length)+n;\r\n}\r\n\r\n/*\r\n  Get color definition from high low\r\n\r\n  the chr can have 4 values. 0-3. \r\n  'a' has a weight of 1 and 'b' has a weight of 2. \r\n  a, b, result\r\n  0, 0, 0, // both a and b are 0 so the result is 0\r\n  1, 0, 1, // a is set to 1 so it becomes one\r\n  0, 1, 2, // a is set to 0 and b is 1 so it becomes 2. (because b has a weight of 2)\r\n  1, 1, 3, // a and b is set to 1 so the result becomes 3. a(1) + b(2) = 3\r\n\r\n  @param String (binary string)\r\n  @param String (binary string)\r\n\r\n  @return Array\r\n*/\r\nfunction getColorDefinitionFromHighLow(low, high){\r\n  // this will be 0 or 1 if it does not get \r\n  // replaced in the following if statements\r\n  let n = Number(low);\r\n  // if high != 0. it's 2. since thats either 0 or 1. \r\n  // and if its not 0(which would be false) its 1. meaning it's 2\r\n  if(Number(high)){\r\n    n = 2;\r\n  }\r\n  // if low + high > 1(if both a and b is set. it's larger than 1. then we know it has to be 3. 1 + 2 = 3)\r\n  if((Number(low) + Number(high)) > 1){\r\n    n = 3;\r\n  }\r\n  return n;\r\n}\r\n\r\n/* \r\n  parse contents of a NES chr file \r\n\r\n  @param ArrayBuffer\r\n  @return Array\r\n\r\n  This function will return a 16x16 2d array of 8x8 2d array representing each tile \r\n*/\r\nexport const parse = (data) => {\r\n  // split the byte array in chunks of 16. 1 row = 16 tiles.\r\n  // a tile is 8x8. which means you have 64 pixels in each tile. \r\n  // each pixel has 4 available color values which ends up to (8x8) x 4(color value from 0-3) = 256.\r\n  const chunks = array.chunk(new Uint8Array(data), 16);\r\n  let tiles = [];\r\n  for(let chunk of chunks){\r\n    let low, high, tile = [];\r\n    // handle all 16 bits. \r\n    // the first 8 bits is the low \r\n    // and the second 8 bits is the high\r\n    for(let i = 8; i < 16; i++){\r\n      low = getBinaryStringFromNumber(chunk[i-8]);\r\n      high = getBinaryStringFromNumber(chunk[i]);\r\n      // create the pixel definition from the low and high bits\r\n      // this would be a row of 8 pixels. the loop will do \r\n      // this 8 times to form a 8x8 tile\r\n      const pixelRow = [];\r\n      for(let i = 0; i < 8; i++){\r\n        const pixel = getColorDefinitionFromHighLow(low[i], high[i]);\r\n        pixelRow.push(pixel);  \r\n      }\r\n      tile.push(pixelRow);\r\n    }\r\n    tiles.push(tile);\r\n  }\r\n  // split the tiles array by 16. \r\n  // 16 8x8 tiles per each row\r\n  tiles = array.chunk(tiles, 16);\r\n  // split the CHR data in parts of size(16 for the nes) for giving 16x16 per page\r\n  return array.chunk(tiles, 16);\r\n}\r\n\r\nconst colorMap = (pixel) => {\r\n  const rgb = Math.floor((pixel[0] + pixel[1] + pixel[2]) / 3);\r\n  return [0x00, 0x55, 0xAA, 0xFF].reduce((prev, curr) => {\r\n    return (Math.abs(curr - rgb) < Math.abs(prev - rgb) ? curr : prev);\r\n  });\r\n}\r\n\r\n/*\r\n  generate chr export\r\n  from the pixel definition we can get the corresponding low and high bits. this could be done manually or \r\n  by doing a bitwise AND and right shift the high bits by 1 to get the opposite values implemented below.\r\n\r\n  n: 0\r\n  0x00 & 0x01 = 0\r\n  00000000\r\n  00000001\r\n\r\n  n: 1\r\n  0x55 & 0x01 = 1\r\n  ‭01010101‬\r\n  00000001\r\n\r\n  n: 2\r\n  0xAA & 0x01 = 0\r\n  ‭10101010\r\n  00000001\r\n  ‬\r\n  n: 3\r\n  0xFF & 0x01 = 1\r\n  ‭11111111\r\n  00000001\r\n\r\n*/\r\nexport const generateExport = (data) => {\r\n  // mappings of 4 parts of hex value up to 255. \r\n  // this to be able to implement colors later \r\n  const map = [0x00, 0x55, 0xAA, 0xFF];\r\n  // 4kb buffer\r\n  const buff = new ArrayBuffer(4096);\r\n  const output = new Uint8Array(buff);\r\n  // store the binary string\r\n  let bin = '';\r\n  // loop through the nested 2d arrays\r\n  for(let h of data){\r\n    for(let w of h){\r\n      // store low and high bits\r\n      let low = '', high = '';\r\n      for(let x of w){\r\n        for(let n of x){\r\n          // map current value for numbers 0-4\r\n          const v = map[n];\r\n          low += v & 0x01;\r\n          high += (v >> 1) & 0x01;\r\n        }\r\n      }\r\n      // add the low and high values to binary\r\n      bin += low + high;\r\n    }\r\n  }\r\n  // split binary string in 8's and append each 8 bits to the buffer\r\n  bin.match(/.{8}/g).map((_, i) => output[i] = parseInt(_, 2));\r\n  return output;\r\n}","\r\nexport const createCanvas = ({ width, height }) => {\r\n  const element = document.createElement('canvas');\r\n  const context = element.getContext('2d');\r\n  element.width = width;\r\n  element.height = height;\r\n  return { element, context, width, height };\r\n} \r\n\r\n\r\n// generate a new pattern\r\nexport const createCanvasPattern = ({ background, source, x, y, width, height }) => {\r\n  // general canvas placeholder\r\n  const canvas = createCanvas({\r\n    width,\r\n    height\r\n  });\r\n  canvas.context.clearRect(0, 0, width, height);\r\n  if(background){\r\n    canvas.context.fillStyle = background;\r\n    canvas.context.fillRect(0, 0, canvas.width, canvas.height);\r\n  }\r\n  canvas.context.drawImage(source.element, x, y, width, height, 0, 0, width, height);\r\n  const pattern = _ => source.context.createPattern(canvas.element, 'repeat');\r\n  return { pattern, ...canvas };\r\n}\r\n\r\n\r\n/*\r\n  requestanimationframe loop\r\n  \r\n  @param callback (Function)\r\n  @param fps (Number) (optional)\r\n  \r\n  @return cancel (Function)\r\n\r\n  Usage:\r\n  const stop = AnimationLoop((delta, framecount, stop, time) => {\r\n    console.log(delta, framecount);\r\n    if(framecount > 99){\r\n      stop();\r\n    }\r\n  }, 30);\r\n*/\r\nexport const AnimationLoop = (fn, fps = null) => {\r\n  if(typeof fn !== 'function'){\r\n    throw new Error(`Invalid callback function.`);\r\n  }\r\n  let paused = false;\r\n  let framecount = 0;\r\n  let animation;\r\n  let lastTime = performance.now();\r\n  const cancel = _ => cancelAnimationFrame(animation);\r\n  const pause = _ => paused = true;\r\n  const play = _ => paused = false;\r\n  const toggle = _ => paused = !paused;\r\n  const loop = (time) => {\r\n    animation = requestAnimationFrame(loop);\r\n    if(paused){\r\n      return;\r\n    }\r\n    const delta = time - lastTime;\r\n    const now = performance.now();\r\n    if(!fps || now - lastTime > 1000 / fps){\r\n      fn.call(null,{ delta: delta / 1000, frame: ++framecount, cancel, time, pause, play });\r\n      lastTime = time;\r\n    }\r\n  };\r\n  animation = requestAnimationFrame(loop);\r\n  return {\r\n    unsubscribe: cancel,\r\n    pause,\r\n    play,\r\n    toggle,\r\n  };\r\n};\r\n","import { Palettes } from '~/stores/palettes.store.js';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nclass HistoryManager{\r\n  constructor(){\r\n    this.future = [];\r\n    this.past = [];\r\n    this.present;\r\n  }\r\n  get last(){\r\n    return this.present;\r\n  }\r\n  setPresent(data){\r\n    this.future = [];\r\n    this.present = JSON.parse(JSON.stringify(data));\r\n  }\r\n  push(data){\r\n    this.past.push(JSON.parse(JSON.stringify(data)));\r\n  }\r\n  undo(){\r\n    if(this.past.length){\r\n      const past = this.past.pop();\r\n      this.future.push(this.present);\r\n      this.present = past;\r\n    }\r\n    return this.present;\r\n  }\r\n  redo(){\r\n    if(this.future.length){\r\n      const future = this.future.pop();\r\n      this.push(this.present);\r\n      this.present = future;\r\n    }\r\n    return this.present;\r\n  } \r\n}\r\n\r\nconst AttributeTable = _ => new Array(16).fill().map(_ => new Array(16).fill().map(_ => null));\r\n\r\nexport default class CanvasLayer{\r\n  constructor({ label, width, height, data, colorAttributes, uuid } = {}){\r\n    this._isInitialized = false;\r\n    this.uuid = uuid || Math.random() + Date.now();\r\n    this.width = width || 128;\r\n    this.height = height || 128;\r\n    this.label = label || ''\r\n    this.element = document.createElement('canvas');\r\n    this.element.width = this.width;\r\n    this.element.height = this.height;\r\n    this.context = this.element.getContext('2d');\r\n    this.image = new Image();\r\n    this.data = data;\r\n    \r\n    // store history\r\n    this.history = new HistoryManager();\r\n    // attributes tables\r\n    // TODO: make canvas layer be able to switch between multiple attribute tables. \r\n    this.colorAttributes = colorAttributes;\r\n    if(!this.colorAttributes){\r\n      this.colorAttributes = AttributeTable();\r\n    }\r\n\r\n    // generate a double nested array list. 16x16 column then inside each tile they are 8x8 pixels wide\r\n    if(!this.data){\r\n      this.data = new Array(16).fill().map(_ => new Array(16).fill().map(_ => new Array(8).fill().map(_ => new Array(8).fill().map(_ => 0))));\r\n    }else{\r\n      if(!this._isInitialized){\r\n        // draw it on first instantiation else imports wont reveal themselves unless becoming active layers\r\n        this.drawFromSource(Palettes.stores.activeLayer.get());\r\n      }\r\n    }\r\n    \r\n  }\r\n  updateImageSource(){\r\n    // a bt dodgy when there already is a function wrapper\r\n    // tho it only returns a blob. refactor it later.\r\n    return this.image.src = this.element.toDataURL('image/png', .1);\r\n  }\r\n  setPresent(data){\r\n    this.history.setPresent(data || this.data);\r\n  }\r\n\r\n  forceUpdate(source){\r\n    this.drawFromSource(Palettes.stores.activeLayer.get(), source);\r\n  }\r\n\r\n  async toDataURL(mimetype = 'image/png', quality){\r\n    const blob = await fetch(this.element.toDataURL(mimetype, quality)).then(res => res.blob());\r\n    return blob;\r\n  }\r\n  // get palette info from x y \r\n  colorIndexAtPosition(x, y){\r\n    const data = this.data;\r\n    const rc = {x: Math.floor(x / 8), y: Math.floor(y / 8)};\r\n    const tile = {x: x % 8, y: y % 8};\r\n    const colorIndex = data[rc.y][rc.x][tile.y][tile.x];\r\n    return colorIndex;\r\n  }\r\n  setColorIndexAtPosition(x, y, colorIndex){\r\n    const data = this.data;\r\n    const rc = {x: Math.floor(x / 8), y: Math.floor(y / 8)};\r\n    const tile = {x: x % 8, y: y % 8};\r\n    data[rc.y][rc.x][tile.y][tile.x] = colorIndex;\r\n  }\r\n  saveHistory(){\r\n    this.history.push(this.data); \r\n  }\r\n  undo(){\r\n    const present = this.history.undo();\r\n    if(present){\r\n      this.data = present;\r\n      this.drawFromSource(Palettes.stores.activeLayer.get());\r\n    } \r\n  }\r\n  redo(){\r\n    const removed = this.history.redo();\r\n    if(removed){\r\n      this.data = removed;\r\n      this.drawFromSource(Palettes.stores.activeLayer.get());\r\n    } \r\n  }\r\n\r\n  drawFromSource(palette, source){\r\n    if(!palette) return;\r\n    if(!this._isInitialized){\r\n      this._isInitialized = true;\r\n    }\r\n    // one line list of tiles... split on % 16 for new row\r\n    this.data.map((trow, tr) => {\r\n      trow.map((tcol, tc) => {\r\n        this.context.save();\r\n        this.context.translate(tc*8, tr*8);\r\n        let attributeOverlayPalette = (source || Spritesheets.stores.activeLayer.get())?.colorAttributes[tc][tr];\r\n        let _palette;\r\n        if(attributeOverlayPalette){\r\n          _palette = attributeOverlayPalette;\r\n        }\r\n        tcol.map((col, c) => {\r\n          this.context.save()\r\n          this.context.translate(0, c)\r\n          \r\n          col.map((row, r) => {\r\n            this.context.save();\r\n            this.context.translate(r, 0);\r\n            \r\n            let color = (_palette || palette).colors[row];\r\n            if(!color){\r\n              return;\r\n            }\r\n            this.context.fillStyle = `rgb(${color.rgb})`;\r\n            this.context.fillRect(0,0,1,1);\r\n            this.context.restore();\r\n            \r\n          });\r\n          \r\n            this.context.restore();\r\n          });\r\n\r\n        this.context.restore();      \r\n      });\r\n    });\r\n  }\r\n  clear(){\r\n    this.context.clearRect(0, 0, this.element.width, this.element.height);\r\n  }\r\n}","import { writable, derived } from '~/utils/store.js';\r\nimport * as chr from '~/utils/chr.js';\r\nimport * as array from '~/utils/array.js';\r\nimport * as numbers from '~/utils/numbers.js';\r\nimport * as canvas from '~/utils/canvas.js';\r\nimport CanvasLayer from '~/modules/spritesheet_editor/CanvasLayer.js';\r\n\r\nimport Config from '~/nesbit.config.js';\r\n\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\n\r\n// general placeholder canvas\r\nconst placeholderCanvas = canvas.createCanvas({ width: 128, height: 128 });\r\n\r\n// handle color attributes overlay on the sprites layer\r\n// const activePalette = derived(Palettes.stores.activeLayer, ($al, set) => set($al));\r\n// const ColorAttributes = writable({ activePalette, activeLayer: writable(), layers: writable([new AttributeTable()])}, ({ store, value, get }) => {\r\n//   return {\r\n//     stores: value,\r\n//     updateAttribute({ x, y, data }){\r\n//       // TODO: should dependable palettes be created? since the serialized data does not\r\n//       // know anything about the actual palette instance. or should there be a button which \r\n//       // lets you click and 'create palettes from color attributes'.\r\n//       ColorAttributes.stores.activeLayer.get().data[x][y] = data;\r\n//     }\r\n//   }\r\n// });\r\n// ColorAttributes.stores.activeLayer.set(ColorAttributes.stores.layers.get()[0]);\r\n\r\n// { x: 0, y: 0 }\r\nconst current = writable(undefined, ({ store, value, get}) => {\r\n  return {\r\n    set(v){\r\n      if(!(Number.isInteger(v.x) && Number.isInteger(v.y))){\r\n        return;\r\n      }\r\n      // set the new value\r\n      store.set(v);\r\n    }\r\n  }\r\n});\r\nconst fallback = writable(undefined, ({ store, value, get}) => {\r\n  return {\r\n    set(v){\r\n      if(!(Number.isInteger(v.x) && Number.isInteger(v.y))){\r\n        return;\r\n      }\r\n      // set the new value\r\n      store.set(v);\r\n    }\r\n  }\r\n});\r\n\r\nconst selectedTile = writable({ current, fallback }, ({ store, value, get }) => {\r\n  return {\r\n    stores: value\r\n  }\r\n});\r\n\r\nconst layers = writable([], ({ store, value, get }) => {\r\n  return {\r\n    // swap layers\r\n    swapLayers(i, j){\r\n      store.update(_store => {\r\n        if(!_store[i] || !_store[j]){\r\n          return _store;\r\n        }\r\n        [_store[i], _store[j]] = [_store[j], _store[i]]; \r\n        Spritesheets.stores.activeLayer.set(_store[j]);\r\n        return _store;  \r\n      });\r\n    },\r\n  }\r\n});\r\n\r\nconst activeLayer = writable(undefined);\r\nconst artboard = writable({ defaultZoom: 4, zoom: 4, offset: { x: 0, y: 0 }}, ({ store, value, get }) => {\r\n  return {\r\n    zoom(v){\r\n      v = value.zoom + v;\r\n      if(v <= 0){\r\n        v = Math.max(1, v);\r\n      }\r\n      artboard.update((store) => {\r\n        store.zoom = v;\r\n        return store;\r\n      })\r\n    },\r\n    zoomReset(){\r\n      artboard.update((store) => {\r\n        store.zoom = store.defaultZoom;\r\n        return store;\r\n      })\r\n    }\r\n  }\r\n}); \r\nexport const Spritesheets = writable({ activeLayer, layers, selectedTile, artboard }, ({ store, value, get }) => {\r\n  const findLayerFromIndex = (index) => {\r\n    const layers = Spritesheets.stores.layers.get();\r\n    if(!layers[index]){\r\n      throw new Error(`Could not find layer by index : [${index}]`);\r\n    }\r\n    return layers[index];\r\n  };\r\n\r\n  const findLayerIndexFromInstance = (CanvasLayerInstance) => {\r\n    const index = Spritesheets.stores.layers.get().indexOf(CanvasLayerInstance)\r\n    if(!index){\r\n      throw new Error(`Could not find layer by index : [${index}]`);\r\n    }\r\n    return index;\r\n  };\r\n\r\n  const getPixelDataFromXY = (x, y, CanvasLayerInstance) => {\r\n    // if(!(CanvasLayerInstance instanceof CanvasLayer)){\r\n    //   throw new Error(`Invalid 'CanvasLayer' instance while trying to get pixelData from x, y`);\r\n    // }\r\n\r\n    const row = {\r\n      x: Math.floor(x / 8),\r\n      y: Math.floor(y / 8)\r\n    }\r\n    const pixelData = CanvasLayer.data;\r\n  };\r\n  getPixelDataFromXY(10, 10);\r\n  return {\r\n    data: {\r\n      width: 128,\r\n      height: 128,\r\n    },\r\n    stores: value,\r\n    // create a new spritesheet layer\r\n    createLayer({ label, data, colorAttributes, uuid } = {}){\r\n      Spritesheets.stores.layers.update(_store => {\r\n        label = label || 'spritesheet_' + (_store.length+1);\r\n        const CanvasLayerInstance = new CanvasLayer({ label, data, colorAttributes, uuid });\r\n        const _store_copy = [CanvasLayerInstance, ..._store];\r\n        // _store = [..._store, CanvasLayerInstance];\r\n        // do we always want to make the new layer active?\r\n        // if(_store.length <= 1){\r\n        //   Spritesheets.makeLayerActive(CanvasLayerInstance);\r\n        // }\r\n        // make new layer active\r\n        Spritesheets.makeLayerActive(CanvasLayerInstance);\r\n        return _store_copy;\r\n      });\r\n    },\r\n\r\n    // remove layer \r\n    removeLayer(CanvasLayerInstance){\r\n      Spritesheets.stores.layers.update((_store) => {\r\n        let _store_copy = [..._store];\r\n        const index = _store_copy.indexOf(CanvasLayerInstance);\r\n        if(CanvasLayerInstance == Spritesheets.stores.activeLayer.get()){\r\n          // if there is a palette/layer after the currently removed, make that one the active one \r\n          if(_store_copy[index+1]){\r\n            Spritesheets.makeLayerActive(_store_copy[index+1]);\r\n          }else if(_store_copy[index-1]){\r\n            Spritesheets.makeLayerActive(_store_copy[index-1]);\r\n          }else{\r\n            Spritesheets.stores.activeLayer.set(undefined);\r\n          }\r\n        }\r\n        // remove object\r\n        _store_copy = _store_copy.filter(instance => instance != CanvasLayerInstance);\r\n        return _store_copy;\r\n      });\r\n    },\r\n\r\n    // clone layer \r\n    cloneLayer(CanvasLayerInstance){\r\n      // TODO: make so the index position is right above the clones layer. currently\r\n      // it gets added to the top of the stack as the first array element, which is not ideal.\r\n      Spritesheets.stores.layers.update((_store) => {\r\n        let { width, height, label, data, colorAttributes } = CanvasLayerInstance;\r\n        // we need to serialize the data else it will reference the same data\r\n        if(Array.isArray(data)){\r\n          data = JSON.parse(JSON.stringify(data));\r\n          colorAttributes = JSON.parse(JSON.stringify(colorAttributes));\r\n        }\r\n        label = label + ' copy';\r\n        const newLayer = new CanvasLayer({ width, height, label, data, colorAttributes });\r\n        _store = [ newLayer, ..._store];\r\n        Spritesheets.makeLayerActive(newLayer);\r\n        return _store;  \r\n      });\r\n    },\r\n    \r\n    // clone active layer \r\n    cloneActiveLayer(){\r\n      const active = Spritesheets.stores.activeLayer.get();\r\n      if(active){\r\n        Spritesheets.cloneLayer(active);\r\n      }else{\r\n        Spritesheets.createLayer();\r\n      }\r\n    },\r\n    // make a layer active\r\n    makeLayerActive(CanvasLayerInstance){\r\n      if(!(CanvasLayerInstance instanceof CanvasLayer)){\r\n        throw new Error(`Invalid 'CanvasLayerInstance' while setting 'activeLayer'`);\r\n      }\r\n      Spritesheets.stores.activeLayer.set(CanvasLayerInstance);\r\n      CanvasLayerInstance.forceUpdate();\r\n    },\r\n\r\n    // update label\r\n    updateLayerLabel(CanvasLayerInstance, label){\r\n      Spritesheets.stores.layers.update((_store) => {\r\n        CanvasLayerInstance.label = label;\r\n        return _store;\r\n      });\r\n    },\r\n\r\n    // import \r\n    import(data, isSerialized){\r\n      const unserializedData = isSerialized ? data : JSON.parse(data);\r\n      if(unserializedData.version != Config.filetypes.spritesheets.save.version){\r\n        console.warn(`Invalid file version.`)\r\n        return;  \r\n      }\r\n\r\n      // import spritesheets\r\n      for(const _spritesheet of [...unserializedData.data.spritesheets.layers].reverse()){\r\n        Spritesheets.createLayer({ ..._spritesheet })\r\n      }\r\n    },\r\n\r\n    // export \r\n    export(serialize){\r\n      // get all layers\r\n      const spritesheetsLayers = JSON.parse(JSON.stringify(Spritesheets.stores.layers.get())).map(layer => {\r\n        return { label: layer.label, data: layer.data, colorAttributes: layer.colorAttributes, uuid: layer.uuid };\r\n      });\r\n      \r\n      // build the data\r\n      let data = { \r\n        version: Config.filetypes.spritesheets.save.version, \r\n        data: { \r\n          spritesheets: {\r\n            layers: spritesheetsLayers,\r\n          },\r\n        }\r\n      };\r\n\r\n      if(serialize){\r\n        data = JSON.stringify(data);\r\n      }\r\n      return data;\r\n    },\r\n\r\n    // import chr\r\n    importCHR(filedata){\r\n      const result = chr.parse(filedata);\r\n      result.forEach(page => Spritesheets.createLayer({ data: page }));\r\n    },\r\n\r\n    // export chr\r\n    exportCHR(){\r\n      const activeLayer = Spritesheets.stores.activeLayer.get();\r\n      if(!activeLayer || !activeLayer.data){\r\n        throw new Error(`Unable to export CHR. No 'activeLayer'`);  \r\n      }\r\n      const bytearray = chr.generateExport(activeLayer.data);\r\n      return { label: activeLayer.label, data: bytearray };\r\n    },\r\n    \r\n    // export image\r\n    exportAsImage(callback, mimetype = 'image/png', quality = 1){\r\n      const activeLayer = Spritesheets.stores.activeLayer.get();\r\n      if(!(activeLayer instanceof CanvasLayer)){\r\n        throw new Error(`Unable to export Image. No 'activeLayer'`);\r\n      }\r\n      const fn = (blob) => {\r\n        const reader = new FileReader();\r\n        reader.readAsArrayBuffer(blob);\r\n        reader.onloadend = _ => {\r\n          callback.call(null, { blob, buffer: reader.result, label: activeLayer.label, options: { mimetype, quality } });\r\n        }\r\n      };\r\n      \r\n      // placeholder canvas so we can scale the canvas\r\n      const scale = 128 * Spritesheets.stores.artboard.get().zoom;\r\n      placeholderCanvas.context.clearRect(0, 0, scale, scale);\r\n      placeholderCanvas.element.width = scale;\r\n      placeholderCanvas.element.height = scale;\r\n\r\n      // this needs to be applied after any width or height changes has been made\r\n      placeholderCanvas.context.imageSmoothingEnabled = false;\r\n\r\n      // draw the current canvas on to the placeholder in scaled values\r\n      placeholderCanvas.context.drawImage(\r\n        activeLayer.element, \r\n        0, 0, \r\n        128, 128, \r\n        0, 0,\r\n        scale, scale\r\n      );\r\n      \r\n      return { label: activeLayer.label, image: placeholderCanvas.element.toBlob(fn, mimetype, quality), options: { type: mimetype } };\r\n    },\r\n\r\n    // export nametable and attributestable for current spritesheet\r\n    // NOTE: this is more or less for debugging during development and should later be translated \r\n    // to work with the tilemaps. \r\n    exportNametableData(label = 'nametable'){\r\n      const temp = new Array(30).fill(new Array(32).fill(0));\r\n      const activeLayer = Spritesheets.stores.activeLayer.get();\r\n      \r\n      const nametable = [];\r\n      \r\n      let v;\r\n      let count = 0;\r\n      for(const i in temp){\r\n        for(const j in temp[i]){\r\n          if(activeLayer.data[i] && activeLayer.data[i][j]){\r\n            v = count++;\r\n          }else{\r\n            v = 0;\r\n          }\r\n          nametable.push(numbers.dec2hex(v, 2));\r\n        }\r\n      }\r\n      \r\n      // simulate width of a tilemap. this is not correct but just for debugging. The final tilemap should be\r\n      // 32x30 tiles wide (256x240 pixels).\r\n      const simulated = [\r\n        ...nametable,\r\n      ];\r\n\r\n      // chunk it so it's easier to read later on\r\n      const chunked = array.chunk(simulated, 32);\r\n      let output = `${label}:\\n`;\r\n      chunked.forEach((value) => {\r\n        output += `.byte ${value.map(v => '$' + v).join(', ')}\\n`;\r\n      });\r\n\r\n      output += `\\n\r\n\r\n; color the background tiles\r\nattribute_table:\r\n; 7654 3210\r\n; |||| ||++- Color bits 3-2 for top left quadrant of this byte\r\n; |||| ++--- Color bits 3-2 for top right quadrant of this byte\r\n; ||++------ Color bits 3-2 for bottom left quadrant of this byte\r\n; ++-------- Color bits 3-2 for bottom right quadrant of this byte\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n\r\n      `; \r\n\r\n      return output; \r\n    },\r\n    // clear all \r\n    clear(){\r\n      Spritesheets.stores.activeLayer.set(undefined);\r\n      Spritesheets.stores.layers.set([]);\r\n    }\r\n  }\r\n});","import { writable } from '~/utils/store';\r\n\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\n\r\nimport NESPalette from '~/application/palettes/nespalette';\r\nimport Config from '~/nesbit.config';\r\n\r\n// get the default color\r\n// weird but wtf is it a reference or not? i'm just making sure we doesn't mutate the nespalette so we seralize and unserialize it here.\r\nconst findNESPalette = (hex) => {\r\n  const palette = NESPalette.find(o => o.hex == hex);\r\n  if(palette){\r\n    return palette;\r\n  }\r\n};\r\n\r\nconst colorPlaceholder = findNESPalette('0F');\r\n\r\n// colorpalette \r\nclass ColorPaletteGroup{\r\n  constructor({ label, colors, uuid }){\r\n    this.label = label || '';\r\n    this.colors = [];\r\n    this.uuid = uuid || Math.random() + Date.now();\r\n    if(Array.isArray(colors) && colors.length == 4){\r\n      for(const color of colors){\r\n        this.addColor(color.hex);\r\n      }\r\n    }else{\r\n      this.colors = [...Array(4).fill('').map(item => ({ ...colorPlaceholder }))];\r\n    }\r\n  }\r\n  addColor(hex){\r\n    if(!(this.colors.length < 4)){\r\n      throw new Error(`Max 4 colors per 'ColorPaletteGroup'`);\r\n    }\r\n    const palette = findNESPalette(hex);\r\n    if(palette){\r\n      this.colors.push({...palette});\r\n    }\r\n  }\r\n}\r\n\r\n// selected color store\r\nconst selectedColor = writable(0, ({ store, get }) => {\r\n  return {\r\n    // set the active color index\r\n    setActiveColorIndex(n){\r\n      if(!Number.isInteger(n)){\r\n        throw new Error(`Invalid 'setActiveColorIndex' value. Expecting 'Integer'`);\r\n      }\r\n      if(!(n >= 0 && n <= 4)){\r\n        throw new Error(`Invalid 'setActiveColorIndex' number range. Expecting number between '0-4'`);\r\n      }\r\n      store.set(n);\r\n    },\r\n    // get active color index\r\n    getActiveColorIndex(){\r\n      return get();\r\n    },\r\n    // get active color value\r\n    getActiveColorValue(n){\r\n      const activeLayer = Palettes.stores.activeLayer.get();\r\n      if(!activeLayer){\r\n        throw new Error(`No 'activeLayer' selected`);\r\n      }\r\n      if(!Number.isInteger(n)){\r\n        n = get();\r\n      }\r\n      return activeLayer.colors[n];\r\n    }\r\n  }\r\n});\r\n\r\n// layers store\r\nconst layers = writable([], ({ store, value, get, update }) => {\r\n  return {\r\n    // clear all layers\r\n    clear(){\r\n      Palettes.stores.activeLayer.set(undefined);\r\n      store.set([]);\r\n    },\r\n    // swap layers\r\n    swapLayers(i, j){\r\n      store.update(_store => {\r\n        if(!_store[i] || !_store[j]) {\r\n          return _store;\r\n        }\r\n        [_store[i], _store[j]] = [_store[j], _store[i]]; \r\n        Palettes.stores.activeLayer.set(_store[j]);\r\n        return _store;  \r\n      });\r\n    },\r\n    // replace color\r\n    replaceColor(data){\r\n      store.update((_store) => {\r\n        const layer = _store[data.layerIndex];\r\n        // not really required but might be easier to manage in the future\r\n        const colorFromPalette = findNESPalette(data.hex);\r\n\r\n        // add the new color values\r\n        layer.colors[data.colorIndex] = {\r\n          hex: colorFromPalette.hex,\r\n          rgb: colorFromPalette.rgb\r\n        }\r\n\r\n        // make the layer active. This updates the activeLayer so we don't have to \r\n        // force a manual update to make main artboard palette react to the changes\r\n        // and also it's nice to automatically change the active palette\r\n        Palettes.makeLayerActive(_store[data.layerIndex]);\r\n        return _store;\r\n      });\r\n    },\r\n\r\n    // swap colors\r\n    swapColors(data){\r\n      store.update((_store) => {\r\n        Palettes.update();\r\n        const ref = _store[data.layerIndex].colors;\r\n        const ref2 = _store[data.to.layerIndex].colors;\r\n        // this is all redundant but in place if things change in the future        \r\n        let from = ref[data.colorIndex];\r\n        let to = ref2[data.to.colorIndex];\r\n        \r\n        // swap the colors\r\n        ref[data.colorIndex] = { ...findNESPalette(to.hex) };\r\n        ref2[data.to.colorIndex] = { ...findNESPalette(from.hex) };\r\n\r\n        // make active just to force a reactive update and also if swapped \r\n        // between layers we use the new layer\r\n        Palettes.makeLayerActive(_store[data.to.layerIndex]);\r\n\r\n        return _store;\r\n      });\r\n    },\r\n  }\r\n})\r\n\r\nexport const Palettes = writable({ selectedColor, activeLayer: writable(), layers }, ({ store, value, get }) => {\r\n  return {\r\n    lastChanged: writable(), \r\n    stores: value,\r\n    // update\r\n    update(){\r\n      Palettes.lastChanged.set(Math.random() + Date.now()); \r\n    },\r\n    // create new color palette\r\n    createLayer({ label, colors, uuid } = {}, push = false){\r\n      value.layers.update(_store => {\r\n        label = label || 'palette_' + (_store.length+1);\r\n        const paletteGroup = new ColorPaletteGroup({ label, colors, uuid });\r\n        // if we need to add the new layer to the end of the layer stack\r\n        // for instance on imports, else imports would become reversed\r\n        if(push){\r\n          _store = [..._store, paletteGroup];\r\n        }else{\r\n          _store = [paletteGroup, ..._store];\r\n        }\r\n        // make active \r\n        Palettes.makeLayerActive(paletteGroup);\r\n        return _store;\r\n      });\r\n    },\r\n\r\n    // remove layer\r\n    removeLayer(ColorPaletteGroupInstance){\r\n      value.layers.update((_store) => {\r\n        const index = _store.indexOf(ColorPaletteGroupInstance);\r\n        if(ColorPaletteGroupInstance == value.activeLayer.get()){\r\n          // if there is a palette/layer after the currently removed, make that one the active one \r\n          if(_store[index+1]){\r\n            Palettes.makeLayerActive(_store[index+1]);\r\n          }else if(_store[index-1]){\r\n            Palettes.makeLayerActive(_store[index-1]);\r\n          }else{\r\n            value.activeLayer.set(undefined);\r\n          }\r\n        }\r\n        // remove object\r\n        _store.splice(index, 1);\r\n        return _store;\r\n      });\r\n    },\r\n\r\n    // clone layer \r\n    cloneLayer(ColorPaletteGroupInstance){\r\n      // TODO: make so the index position is right above the clones layer. currently\r\n      // it gets added to the top of the stack as the first array element, which is not ideal.\r\n      value.layers.update((_store) => {\r\n        let { label, colors } = ColorPaletteGroupInstance;\r\n        // NOTE: probably have to serialize the data so it doesn't act as a reference \r\n        // data = JSON.stringify(JSON.parse(data));\r\n        label = label + ' copy';\r\n        const newLayer = new ColorPaletteGroup(label, colors);\r\n        _store = [ newLayer, ..._store];\r\n        Palettes.makeLayerActive(newLayer);\r\n        return _store;  \r\n      });\r\n    },\r\n    \r\n    // clone active layer \r\n    cloneActiveLayer(){\r\n      const active = value.activeLayer.get();\r\n      if(active){\r\n        Palettes.cloneLayer(active);\r\n      }else{\r\n        Palettes.createLayer();\r\n      }\r\n    },\r\n\r\n    // make a layer active\r\n    makeLayerActive(ColorPaletteGroupInstance){\r\n      if(!(ColorPaletteGroupInstance instanceof ColorPaletteGroup)){\r\n        throw new Error(`Invalid 'ColorPaletteGroupInstance' while setting 'activeLayer'`);\r\n      }\r\n      value.activeLayer.set(ColorPaletteGroupInstance);\r\n\r\n      // update when palette changes so the pattern preview window\r\n      // shows the right updated colors \r\n      const activeLayer = Spritesheets.stores.activeLayer.get();\r\n      if(activeLayer){\r\n        Spritesheets.stores.activeLayer.get().forceUpdate();\r\n      }\r\n      \r\n    },\r\n\r\n    // make layer active from uuid\r\n    makeLayerActiveFromUUID(uuid){\r\n      const palette = Palettes.stores.layers.get().find(layer => layer.uuid == uuid);\r\n      if(palette){\r\n        this.makeLayerActive(palette);\r\n      }\r\n    },\r\n\r\n    // layer index from source\r\n    layerIndexFromSource(ColorPaletteGroupInstance){\r\n      if(!(ColorPaletteGroupInstance instanceof ColorPaletteGroup)){\r\n        throw new Error(`Invalid 'ColorPaletteGroupInstance' in 'layerIndexFromSource'`);\r\n      }\r\n      return value.layers.get().indexOf(ColorPaletteGroupInstance);\r\n    },\r\n    \r\n    // update label\r\n    updateLayerLabel(ColorPaletteGroupInstance, label){\r\n      value.layers.update((_store) => {\r\n        ColorPaletteGroupInstance.label = label;\r\n        Palettes.makeLayerActive(ColorPaletteGroupInstance);\r\n        return _store;\r\n      });\r\n    },\r\n\r\n    // import \r\n    import(serializedData, isSerialized){\r\n      const shouldMakeActive = Palettes.stores.layers.get().length <= 0;\r\n      const unserializedData = isSerialized ? serializedData : JSON.parse(serializedData);\r\n      if(unserializedData.version == Config.filetypes.palettes.save.version){\r\n        for(const palette of unserializedData.data){\r\n          Palettes.createLayer({ ...palette }, true);\r\n        }\r\n      }\r\n      if(shouldMakeActive && Palettes.stores.layers.length){\r\n        Palettes.makeLayerActive(Palettes.stores.layers.get()[0]);\r\n      }\r\n    },\r\n\r\n    // export\r\n    export(serialize){\r\n      const layers = Palettes.stores.layers.get();\r\n      let data = { version: Config.filetypes.palettes.save.version, data: [...layers] };\r\n      if(serialize){\r\n        data = JSON.stringify(data);\r\n      }\r\n      return data;\r\n    },\r\n\r\n    exportASMString(label = 'palettes'){\r\n      const layers = Palettes.stores.layers.get();\r\n      let i = 0;\r\n      const strings = [];\r\n      while(i < layers.length){\r\n        const layer = layers[i];\r\n        strings.push(`; ${layer.label}\\n.byte ${layer.colors.map(c => '$' + c.hex).join(',')}`)\r\n        i++;\r\n      }\r\n      return `${label}:\\n${strings.join('\\n')}`;\r\n    },\r\n\r\n    // clear all palettes \r\n    clear(){\r\n      Palettes.stores.activeLayer.set(undefined);\r\n      Palettes.stores.layers.set([]);\r\n    }\r\n  }\r\n});\r\n","import { Palettes } from '~/stores/palettes.store.js';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nconst { activeLayer: activeSpritesheetLayer } = Spritesheets.stores;\r\n\r\nconst AttributeTable = _ => new Array(30).fill().map(_ => new Array(32).fill().map(_ => null));\r\n\r\nexport default class TilemapLayer{\r\n  constructor({ label, width, height, data, colorAttributes, uuid } ){\r\n    this._isInitialized = false;\r\n    this.uuid = uuid || Math.random() + Date.now();\r\n    this.width = width || 256;\r\n    this.height = height || 240;\r\n    this.label = label || '';\r\n    this.element = document.createElement('canvas');\r\n    this.element.width = this.width;\r\n    this.element.height = this.height;\r\n    this.context = this.element.getContext('2d');\r\n    this.image = new Image();\r\n    this.data = data;\r\n    \r\n    // attributes tables\r\n    // TODO: make canvas layer be able to switch between multiple attribute tables. \r\n    this.colorAttributes = colorAttributes;\r\n    \r\n    if(!this.colorAttributes){\r\n      this.colorAttributes = AttributeTable();\r\n    }\r\n\r\n    // generate a double nested array list. 16x16 column then inside each tile they are 8x8 pixels wide\r\n    if(!this.data){\r\n      this.data = new Array(30).fill().map(_ => new Array(32).fill().map(_ => undefined));\r\n    }\r\n  }\r\n\r\n  forceUpdate(source){\r\n    this.drawFromSource(Palettes.stores.activeLayer.get(), source);\r\n  }\r\n\r\n  drawFromSource(){\r\n    this.context.save();    \r\n    for(const row in this.data){\r\n      for(const col in this.data[row]){\r\n        if(!this.data[row][col]){\r\n          continue;\r\n        }\r\n\r\n        const { x, y, uuid } = this.data[row][col];\r\n     \r\n        // make sure we have values\r\n        if(!(Number.isInteger(x) && Number.isInteger(y))){\r\n          continue;\r\n        }\r\n        // draw from spritesheet\r\n        const context = Spritesheets.stores.layers.get().find(layer => layer.uuid == uuid);\r\n        if(!context?.element) return;\r\n\r\n        this.context.drawImage(\r\n          context.element,\r\n          // position on target canvas\r\n          x * 8, y * 8, \r\n          8, 8,\r\n          // position on this canvas\r\n          col * 8, row * 8, \r\n          8, 8, \r\n        );\r\n        \r\n        // remove the reference to prevent circular reference\r\n        this.data[row][col] = { x, y, uuid };\r\n      }\r\n    }\r\n  }\r\n}","import { writable } from '~/utils/store.js';\r\nimport TilemapsLayer from '~/modules/tilemap_editor/TilemapLayer.js';\r\n\r\nimport * as numbers from '~/utils/numbers.js';\r\nimport * as array from '~/utils/array.js';\r\n\r\nimport Config from '~/nesbit.config.js';\r\n\r\nconst layers = writable([], ({ store, value, get }) => {\r\n  return {\r\n    // swap layers\r\n    swapLayers(i, j){\r\n      store.update(_store => {\r\n        if(!_store[i] || !_store[j]){\r\n          return _store;\r\n        }\r\n        [_store[i], _store[j]] = [_store[j], _store[i]]; \r\n        Tilemaps.stores.activeLayer.set(_store[j]);\r\n        return _store;  \r\n      });\r\n    },\r\n  }\r\n});\r\n\r\nconst activeLayer = writable(undefined);\r\n\r\nexport const Tilemaps = writable({ activeLayer, layers }, ({ store, value, get }) => {\r\n  \r\n  return {\r\n    stores: value,\r\n\r\n    // create new tilemap\r\n    createLayer({ label, data, colorAttributes } = {}){\r\n      Tilemaps.stores.layers.update(_store => {\r\n        label = label || 'tilemap_' + (_store.length+1);\r\n        const TilemapsLayerInstance = new TilemapsLayer({ label, data, colorAttributes });\r\n        const _store_copy = [TilemapsLayerInstance, ..._store];\r\n        // make new layer active\r\n        Tilemaps.makeLayerActive(TilemapsLayerInstance);\r\n        return _store_copy;\r\n      });\r\n    },\r\n\r\n    // remove layer \r\n    removeLayer(TilemapsLayerInstance){\r\n      Tilemaps.stores.layers.update((_store) => {\r\n        let _store_copy = [..._store];\r\n        const index = _store_copy.indexOf(TilemapsLayerInstance);\r\n        if(TilemapsLayerInstance == Tilemaps.stores.activeLayer.get()){\r\n          // if there is a palette/layer after the currently removed, make that one the active one \r\n          if(_store_copy[index+1]){\r\n            Tilemaps.makeLayerActive(_store_copy[index+1]);\r\n          }else if(_store_copy[index-1]){\r\n            Tilemaps.makeLayerActive(_store_copy[index-1]);\r\n          }else{\r\n            Tilemaps.stores.activeLayer.set(undefined);\r\n          }\r\n        }\r\n        // remove object\r\n        _store_copy = _store_copy.filter(instance => instance != TilemapsLayerInstance);\r\n        return _store_copy;\r\n      });\r\n    },\r\n\r\n\r\n    // TODO: fix everything below to work with tilemaps instead of spritesheets \r\n\r\n    // clone layer \r\n    cloneLayer(TilemapsLayerInstance){\r\n      // TODO: make so the index position is right above the clones layer. currently\r\n      // it gets added to the top of the stack as the first array element, which is not ideal.\r\n      Tilemaps.stores.layers.update((_store) => {\r\n        let { width, height, label, data, colorAttributes } = TilemapsLayerInstance;\r\n        // we need to serialize the data else it will reference the same data\r\n        if(Array.isArray(data)){\r\n          data = JSON.parse(JSON.stringify(data));\r\n          colorAttributes = JSON.parse(JSON.stringify(colorAttributes));\r\n        }\r\n        label = label + ' copy';\r\n        const newLayer = new TilemapsLayer({ width, height, label, data, colorAttributes });\r\n        _store = [ newLayer, ..._store];\r\n        Tilemaps.makeLayerActive(newLayer);\r\n        return _store;  \r\n      });\r\n    },\r\n    \r\n    // clone active layer \r\n    cloneActiveLayer(){\r\n      const active = Tilemaps.stores.activeLayer.get();\r\n      if(active){\r\n        Tilemaps.cloneLayer(active);\r\n      }else{\r\n        Tilemaps.createLayer();\r\n      }\r\n    },\r\n    // make a layer active\r\n    makeLayerActive(TilemapsLayerInstance){\r\n      if(!(TilemapsLayerInstance instanceof TilemapsLayer)){\r\n        throw new Error(`Invalid 'TilemapsLayerInstance' while setting 'activeLayer'`);\r\n      }\r\n      Tilemaps.stores.activeLayer.set(TilemapsLayerInstance);\r\n    },\r\n\r\n    // update label\r\n    updateLayerLabel(TilemapsLayerInstance, label){\r\n      Tilemaps.stores.layers.update((_store) => {\r\n        TilemapsLayerInstance.label = label;\r\n        return _store;\r\n      });\r\n    },\r\n\r\n    // import \r\n    import(data, isSerialized){\r\n      const unserializedData = isSerialized ? data : JSON.parse(data);\r\n      if(unserializedData.version != Config.filetypes.tilemaps.save.version){\r\n        console.warn(`Invalid file version.`)\r\n        return;  \r\n      }\r\n\r\n      // import tilemaps\r\n      for(const _tilemaps of [...unserializedData.data.layers].reverse()){\r\n        Tilemaps.createLayer({ ..._tilemaps })\r\n      }\r\n    },\r\n\r\n    // export \r\n    export(serialize){\r\n      // get all layers\r\n      const tilemapsLayer = JSON.parse(JSON.stringify(Tilemaps.stores.layers.get())).map(layer => {\r\n        return { label: layer.label, data: layer.data, colorAttributes: layer.colorAttributes };\r\n      });\r\n      \r\n      // build the data\r\n      let data = { \r\n        version: Config.filetypes.tilemaps.save.version, \r\n        data: { \r\n          layers: tilemapsLayer,\r\n        }\r\n      };\r\n\r\n      if(serialize){\r\n        data = JSON.stringify(data);\r\n      }\r\n      return data;\r\n    },\r\n\r\n    // import chr\r\n    importCHR(filedata){\r\n      const result = chr.parse(filedata);\r\n      result.forEach(page => Tilemaps.createLayer({ data: page }));\r\n    },\r\n\r\n    // export chr\r\n    exportCHR(){\r\n      const activeLayer = Tilemaps.stores.activeLayer.get();\r\n      if(!activeLayer || !activeLayer.data){\r\n        throw new Error(`Unable to export CHR. No 'activeLayer'`);  \r\n      }\r\n      const bytearray = chr.generateExport(activeLayer.data);\r\n      return { label: activeLayer.label, data: bytearray };\r\n    },\r\n    \r\n    // export image\r\n    exportAsImage(callback, mimetype = 'image/png', quality = 1){\r\n      const activeLayer = Tilemaps.stores.activeLayer.get();\r\n      if(!(activeLayer instanceof TilemapsLayer)){\r\n        throw new Error(`Unable to export Image. No 'activeLayer'`);\r\n      }\r\n      const fn = (blob) => {\r\n        callback.call(null, { blob, label: activeLayer.label, options: { mimetype, quality } });\r\n      };\r\n      return { label: activeLayer.label, image: activeLayer.element.toBlob(fn, mimetype, quality), options: { type: mimetype } };\r\n    },\r\n\r\n    // NOTE: this is some placeholder code. needs to be sorted!\r\n    exportNametableData(label){\r\n      const activeLayer = Tilemaps.stores.activeLayer.get();\r\n      label = label || activeLayer.label || 'nametable';  \r\n      \r\n      // NOTE: this will not work because we want to build our new chr file from all the tile references\r\n      // that we use to create the tilemap. So the indexes has to be converted to the new position in the new \r\n      // chr source being generated.\r\n      // y * 16 + x because the chr/spritesheet is 16x16 tiles\r\n      const simulated = [...activeLayer.data].flat().map((props, i) => {\r\n        if(!props?.x || !props?.y){\r\n          return numbers.dec2hex(0, 2); \r\n        }\r\n        return numbers.dec2hex((props.y * 16) + props.x, 2)\r\n      });\r\n\r\n      // chunk it so it's easier to read later on\r\n      const chunked = array.chunk(simulated, 32);\r\n      let output = `${label}:\\n`;\r\n      chunked.forEach((value) => output += `.byte ${value.map(v => '$' + v).join(', ')}\\n`);\r\n      output += `\\n\r\n\r\n; color the background tiles\r\nattribute_table:\r\n; 7654 3210\r\n; |||| ||++- Color bits 3-2 for top left quadrant of this byte\r\n; |||| ++--- Color bits 3-2 for top right quadrant of this byte\r\n; ||++------ Color bits 3-2 for bottom left quadrant of this byte\r\n; ++-------- Color bits 3-2 for bottom right quadrant of this byte\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n.byte %00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000,%00000000\r\n\r\n      `; \r\n\r\n      return output; \r\n    },\r\n    // clear all \r\n    clear(){\r\n      Tilemaps.stores.activeLayer.set(undefined);\r\n      Tilemaps.stores.layers.set([]);\r\n    }\r\n  }\r\n\r\n});","import { writable } from '~/utils/store';\r\n\r\nimport { push, clear as clearModalWindows } from '~/_components/ModalWindow.svelte';\r\n\r\nimport Config from '~/nesbit.config.js';\r\n\r\nimport { Palettes } from './palettes.store.js';\r\nimport { Spritesheets } from './spritesheets.store.js';\r\nimport { Tilemaps } from './tilemaps.store.js';\r\n\r\n// project store\r\nexport const Project = writable({ path: undefined }, ({ store, value, get, set }) => {\r\n  return {\r\n    create(){\r\n      // reset the project path since there is no project anymore\r\n      Project.set({ path: undefined });\r\n      // clear all preview modal windows\r\n      clearModalWindows(); \r\n      // clear all project sections \r\n      Palettes.clear();\r\n      Spritesheets.clear();\r\n      Tilemaps.clear();\r\n    },\r\n    open(path, data, serialized = false){\r\n      try{\r\n        data = serialized ? data : JSON.parse(data);\r\n        if(data.project.version !== Config.filetypes.project.save.version){\r\n          throw new Error(`Invalid project version. Trying to load project file with version '${data.project.version}' but expecting '${Config.filetypes.project.save.version}'`);\r\n        }\r\n        // set the path of the project\r\n        Project.set({ path });\r\n        // clear previous project. The check for saving should be done in the action\r\n        // before even loading the new project data.\r\n        Spritesheets.clear();\r\n        Palettes.clear();\r\n        Tilemaps.clear();\r\n        // import new palettes \r\n        Palettes.import(data.palettes, true);\r\n        // import spritesheets\r\n        Spritesheets.import(data.spritesheets, true);\r\n        // import new tilemaps \r\n        Tilemaps.import(data.tilemaps, true);\r\n\r\n      }catch(error){\r\n        throw new Error(error);\r\n      }\r\n    },\r\n    export(serialize){\r\n      const project = get();\r\n      const spritesheets = Spritesheets.export();\r\n      const palettes = Palettes.export();\r\n      const tilemaps = Tilemaps.export();\r\n      const data = {\r\n        project: {\r\n          ...project,\r\n          version: Config.filetypes.project.save.version\r\n        },\r\n        spritesheets,\r\n        palettes,\r\n        tilemaps\r\n      };\r\n\r\n      return serialize ? JSON.stringify(data) : data;\r\n    }\r\n  } \r\n});","import { EnumerableList, Enum } from 'enums-manager';\r\n\r\n// tools \r\nexport const ToolTypes = new EnumerableList(\r\n  'pointer', \r\n  'pen', \r\n  'paintbucket', \r\n  'eyedropper', \r\n  'colorswap', \r\n  'transform', \r\n  'marquee', \r\n  'zoom', \r\n  'preview', \r\n  'tileswap', \r\n  'preview_region',\r\n  'tilecolor',\r\n  'colorattribute',\r\n  'brush',\r\n  'text',\r\n  'line',\r\n  'circle'\r\n);\r\n\r\nexport const icons = {\r\n  stop: 'M14 14.655l-5.799.908 3.393 6.917-3.112 1.52-3.412-6.982-4.07 3.651v-15.857l13 9.843zm3-14.655c-3.313 0-6 2.687-6 6s2.687 6 6 6 6-2.687 6-6-2.686-6-6-6zm-4 6c0-.739.215-1.424.567-2.019l5.453 5.453c-.595.351-1.28.566-2.02.566-2.206 0-4-1.794-4-4zm7.434 2.02l-5.453-5.453c.595-.352 1.28-.567 2.019-.567 2.206 0 4 1.794 4 4 0 .74-.215 1.424-.566 2.02z',\r\n}\r\n\r\nexport class Cursor{\r\n  constructor(props){\r\n    this.icon = '';\r\n    this.offset = {x: 0, y: 0};\r\n    this.size = {width: 11, height: 11};\r\n    this.scale = {x: 1, y: 1};\r\n    Object.assign(this, props);\r\n  }\r\n}\r\n\r\nexport default class Tool{\r\n  constructor(props){\r\n    this.visible_in_toolbar = true;\r\n    this.pixelIndicator = false;\r\n    this.singleAction = false;\r\n    this.optionsPanelComponent = undefined;\r\n  }\r\n  get optionsComponent(){\r\n    return this.optionsPanelComponent;\r\n  }\r\n  onMount(){}\r\n  onDestroy(){}\r\n  primary(){}\r\n  secondary(){}\r\n  move(){}\r\n  mouseup(){}\r\n  reset(){}\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nexport default class Pointer extends Tool{\r\n  constructor(){\r\n    super();\r\n\r\n    this.title = 'Pointer (V)';\r\n    this.name = 'pointer';\r\n    this.enum = 'pointer';\r\n    this.weight = 100;\r\n    this.icon = 'M4 0l16 12.279-6.78 1.138 4.256 8.676-3.902 1.907-4.281-8.758-5.293 4.581z';\r\n    this.cursor = new Cursor({});\r\n  }\r\n  primary({x, y, context}){}\r\n  secondary({x, y, context}){}\r\n  move({x, y, context}){}\r\n}","export default class Layer{\r\n  constructor(){\r\n    this.__canvas = document.createElement('canvas');\r\n    this.__canvas.width = 128;\r\n    this.__canvas.height = 128;\r\n    this.__context = this.canvas.getContext('2d');\r\n  }\r\n  get canvas(){\r\n    return this.__canvas;\r\n  }\r\n  get context(){\r\n    return this.__context;\r\n  }\r\n  render(){\r\n    console.log('Render not implemented');\r\n  }\r\n}","import Layer from './layer.js';\r\n\r\nexport default class Grid extends Layer{\r\n  constructor(...args){\r\n    super(...args);\r\n    this.width = 128;\r\n    this.height = 128; \r\n    this.size = 8; \r\n    this.o1 = .05; \r\n    this.o2 = .005;\r\n  }\r\n  render(){\r\n    this.context.clearRect(0,0,this.width, this.height);\r\n    this.context.globalAlpha = 1;\r\n    for(let ix = 0; ix <= (this.width/this.size); ix++){\r\n      for(let iy = 0; iy <= (this.height/this.size); iy++){\r\n          this.context.save();\r\n          this.context.translate(ix*this.size, iy*this.size);\r\n          if((ix+iy) % 2 == 0){\r\n            this.context.globalAlpha = this.o1;\r\n            this.context.fillStyle = 'white';\r\n          }else{\r\n            this.context.globalAlpha = this.o2;          \r\n            this.context.fillStyle = 'black';\r\n          }\r\n          this.context.fillRect(0, 0, this.size, this.size);\r\n          this.context.restore();\r\n      }\r\n    }\r\n  }\r\n}","import Layer from './layer.js';\r\n\r\nexport default class Cursor extends Layer{\r\n  constructor(...args){\r\n    super(...args);\r\n    this.width = 128;\r\n    this.height = 128; \r\n    this.size = 1;\r\n    this.x;\r\n    this.y;\r\n  }\r\n  render(){\r\n    if(isNaN(this.x) || isNaN(this.y)) return;\r\n    this.context.clearRect(0, 0, this.width, this.height);\r\n    this.context.globalAlpha = .4;\r\n    this.context.fillStyle = 'white';\r\n    this.context.fillRect(this.x, this.y, this.size, this.size);\r\n  }\r\n}","import Layer from './layer.js';\r\n\r\nexport default class TileCursor extends Layer{\r\n  constructor(...args){\r\n    super(...args);\r\n    this.width = 128;\r\n    this.height = 128; \r\n    this.size = 8;\r\n    this.x;\r\n    this.y;\r\n    this.framecount = 0;\r\n    this.count = 0;\r\n\r\n    this.selected = [];\r\n  }\r\n  addSelectedTileItem(x, y){\r\n    this.selected.push({ x, y });\r\n  }\r\n  clearSelected(){\r\n    this.selected = [];\r\n  }\r\n  draw(x, y, color){\r\n    this.context.save();\r\n    x = Math.floor(x / 8) * this.size;\r\n    y = Math.floor(y / 8) * this.size\r\n    this.context.globalAlpha = .85;\r\n    this.context.strokeStyle = color;\r\n    // this.context.setLineDash([8, 2]);\r\n    this.context.strokeRect(x, y, this.size-1, this.size-1);\r\n    this.context.restore();  \r\n  }\r\n  render(){\r\n    let color = this.count % 2 == 0 ? 'rgba(255,255,255,.98)' : 'crimson';\r\n    if(isNaN(this.x) || isNaN(this.y)) return;\r\n    if(this.framecount++ % 16 == 0){\r\n      this.count++;\r\n    }\r\n    this.context.clearRect(0, 0, this.width, this.height);\r\n    this.context.save();\r\n      this.context.translate(.5, .5);\r\n      this.selected.forEach(({ x, y }) => {\r\n        this.draw(x, y, this.count % 2 == 0 ? 'rgba(255,255,255,.98)' : 'crimson');\r\n      });\r\n      this.draw(this.x, this.y, color);\r\n    this.context.restore();\r\n  }\r\n}","import Layer from './layer.js';\r\n\r\nexport default class MarqueeCursor extends Layer{\r\n  constructor(...args){\r\n    super(...args);\r\n    this.width = 128;\r\n    this.height = 128; \r\n    this.size = 8;\r\n    this.start;\r\n    this.end;\r\n    this.selection;\r\n    this.framecount = 0;\r\n    this.count = 0;\r\n    this.selectionIsVisible = true;\r\n  }\r\n  hasSelection(){\r\n    return !!this.selection?.start && !!this.selection?.end;\r\n  }\r\n  removeSelection(){\r\n    this.selection = undefined;\r\n    this.start = undefined;\r\n    this.end = undefined; \r\n  }\r\n  addSelection({ start, end } = {}){\r\n    if(!start || !end){\r\n      start = this.start;\r\n      end = this.end;\r\n    }\r\n    this.selection = { start, end };\r\n  }\r\n  draw({ start, end, color = 'crimson', dash }){\r\n    if(!start || !end) return;\r\n    // limit to canvas bounds\r\n    end.x = Math.min(Math.max(end.x, 0), this.width-1);\r\n    end.y = Math.min(Math.max(end.y, 0), this.width-1);\r\n    this.context.save();\r\n    this.context.translate(.5, .5);\r\n    this.context.globalAlpha = .7;\r\n    if(dash){\r\n      this.context.setLineDash(dash);\r\n    }\r\n    this.context.strokeStyle = color;\r\n    this.context.strokeRect(start.x, start.y, end.x - start.x, end.y - start.y);\r\n    this.context.restore();\r\n  }\r\n  render(){\r\n    if(this.framecount++ % 16 == 0){\r\n      this.count++;\r\n    }\r\n    this.context.clearRect(0, 0, this.width, this.height);\r\n    if(this.selectionIsVisible && this.selection){\r\n      // draw selection\r\n      this.draw({ ...this.selection, color: this.count % 2 == 0 ? 'white' : 'crimson' });\r\n    }else{\r\n      // draw handler\r\n      this.draw({ start: this.start, end: this.end, color: this.count % 2 == 0 ? 'white' : 'crimson' });\r\n    }\r\n  }\r\n}","import Layer from './layer.js';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nconst getFillStyle = rgb => `rgb(${rgb.join(',')})`;\r\nexport default class ColorAttributes extends Layer{\r\n  constructor(...args){\r\n    super(...args);\r\n    this.width = 128;\r\n    this.height = 128; \r\n    this.size = 8;\r\n    this.alpha = .45;\r\n    this.visible = true;  \r\n  }\r\n  hide(){\r\n    this.visible = false;\r\n  }\r\n  show(){\r\n    this.visible = true;\r\n  }\r\n  toggle(){\r\n    this.visible = !this.visible;\r\n  }\r\n  render(){\r\n    this.context.clearRect(0, 0, this.width, this.height);\r\n    if(!this.visible) return;\r\n    const attributetable = Spritesheets.stores.activeLayer.get().colorAttributes;\r\n    if(!attributetable?.length) return;\r\n    for(let x in attributetable){\r\n      for(let y in attributetable[x]){\r\n        const colors = attributetable[x][y]?.colors;\r\n        if(!colors?.length){\r\n          continue;\r\n        };\r\n        this.context.save();\r\n        this.context.globalAlpha = this.alpha;\r\n        this.context.translate(x*this.size, y*this.size);\r\n        const [one, two, three, four] = colors;\r\n        // top left\r\n        this.context.fillStyle = getFillStyle(one.rgb);\r\n        this.context.fillRect(0, 0, this.size/2, this.size/2);\r\n        \r\n        // top right\r\n        this.context.fillStyle = getFillStyle(two.rgb);\r\n        this.context.fillRect(0, 4, this.size/2, this.size/2);\r\n\r\n        // bottom left\r\n        this.context.fillStyle = getFillStyle(three.rgb);\r\n        this.context.fillRect(4, 0, this.size/2, this.size/2);\r\n\r\n        // bottom right\r\n        this.context.fillStyle = getFillStyle(four.rgb);\r\n        this.context.fillRect(4, 4, this.size/2, this.size/2);\r\n        \r\n        this.context.restore();\r\n      }\r\n      \r\n    }\r\n  }\r\n}","import Layer from './layer.js';\r\n\r\nexport default class BrushCursor extends Layer{\r\n  constructor(...args){\r\n    super(...args);\r\n    this.width = 128;\r\n    this.height = 128; \r\n    this.size = 8;\r\n    this.start;\r\n    this.end;\r\n    this.selection;\r\n    this.framecount = 0;\r\n    this.count = 0;\r\n    this.selectionIsVisible = true;\r\n  }\r\n  hasSelection(){\r\n    return !!this.selection?.start && !!this.selection?.end;\r\n  }\r\n  removeSelection(){\r\n    this.selection = undefined;\r\n    this.start = undefined;\r\n    this.end = undefined; \r\n  }\r\n  addSelection({ start, end } = {}){\r\n    if(!start || !end){\r\n      start = this.start;\r\n      end = this.end;\r\n    }\r\n    this.selection = { start, end };\r\n  }\r\n  draw({ start, end, color = 'crimson', dash }){\r\n    if(!start || !end) return;\r\n    // limit to canvas bounds\r\n    end.x = Math.min(Math.max(end.x, 0), this.width-1);\r\n    end.y = Math.min(Math.max(end.y, 0), this.width-1);\r\n    this.context.save();\r\n    this.context.translate(.5, .5);\r\n    this.context.globalAlpha = .8;\r\n    if(dash){\r\n      this.context.setLineDash(dash);\r\n    }\r\n    this.context.strokeStyle = color;\r\n    this.context.strokeRect(start.x, start.y, end.x - start.x, end.y - start.y);\r\n    this.context.restore();\r\n  }\r\n  render(){\r\n    if(this.framecount++ % 16 == 0){\r\n      this.count++;\r\n    }\r\n    this.context.clearRect(0, 0, this.width, this.height);\r\n    if(this.selectionIsVisible){\r\n      // draw selection\r\n      this.draw({ ...this.selection, color: this.count % 2 == 0 ? 'white' : 'crimson' });\r\n    }\r\n    // draw handler\r\n    this.draw({ start: this.start, end: this.end, color: this.count % 2 == 0 ? 'white' : 'crimson' });\r\n  }\r\n}","import Layer from './layer.js';\r\n\r\nexport default class ShapeLayer extends Layer{\r\n  constructor(...args){\r\n    super(...args);\r\n    this.width = 128;\r\n    this.height = 128;\r\n    this.selectionIsVisible = true;\r\n    this.data = [];\r\n  }\r\n  clear(){\r\n    this.data = [];\r\n    this.context.clearRect(0, 0, this.width, this.height);\r\n  }\r\n  add(props){\r\n    this.data.push({ ...props });\r\n  }\r\n  render(){\r\n    this.context.clearRect(0, 0, this.width, this.height);\r\n    this.data.forEach(({ x, y, color }) => {\r\n      this.context.save();\r\n      this.context.fillStyle = `rgb(${color.join(',')})`;\r\n      this.context.translate(x, y);\r\n      this.context.fillRect(0, 0, 1, 1);\r\n      this.context.restore();\r\n    });\r\n  }\r\n}","import { AnimationLoop } from '~/utils/canvas.js';\r\n\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\n\r\n// tools \r\nimport { Toolbar } from './tools.js';\r\n\r\n// layers\r\nimport Grid from './layers/grid.layer.js';\r\nimport Cursor from './layers/cursor.layer.js';\r\nimport Tile from './layers/tile.layer.js';\r\nimport Marquee from './layers/marquee.layer.js';\r\nimport ColorAttributes from './layers/colorattributes.layer.js';\r\nimport Brush from './layers/brush.layer.js';\r\nimport ShapeOverlay from './layers/shape.layer.js';\r\n\r\nexport const Type = Object.freeze({ primary: 1, secondary: 2, move: 3, mouseup: 4 });\r\n\r\nconst overlayCanvas = () => {\r\n  const canvas = document.createElement('canvas');\r\n  canvas.width = 128;\r\n  canvas.height = 128;\r\n  const context = canvas.getContext('2d');\r\n  return { canvas, context };\r\n}\r\n\r\n// cursors\r\nexport const PixelCursor = new Cursor();\r\nexport const TileCursor = new Tile();\r\nexport const MarqueeCursor = new Marquee();\r\nexport const BrushCursor = new Brush();\r\nexport const ShapeLayer = new ShapeOverlay();\r\n\r\n// overlays\r\nexport const ColorAttributesOverlay = new ColorAttributes();\r\nexport const GridOverlay = new Grid();\r\n\r\nconst overlays = [\r\n  GridOverlay,\r\n];\r\n\r\nexport default class SpritesheetEditor{\r\n  constructor({ canvas, context, width, height }){\r\n    this.activeLayer = undefined;\r\n    this.activePaletteLayer = undefined;\r\n    this.lastChanged = undefined;\r\n\r\n    this.canvas;\r\n    this.context;\r\n\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    const fps = 120;\r\n    this.animationLoop = AnimationLoop(this.render.bind(this), fps);\r\n    \r\n    this.events = {};\r\n    this.eventHandler = {};\r\n\r\n    const callActionType = (type, e) => {\r\n      e.mouseIsDown = mouseIsDown;\r\n      switch(type){\r\n        case Type.primary:\r\n          callEvent('primary', e);\r\n        break;\r\n        case Type.secondary:\r\n          callEvent('secondary', e);\r\n        break;\r\n        case Type.move:\r\n          callEvent('move', e); \r\n        break;\r\n        case Type.mouseup:\r\n          callEvent('mouseup', e); \r\n        break;\r\n        default:\r\n          console.log('hmm...')\r\n      }\r\n    }\r\n\r\n    // temp to see if mouse pos handles the transform css scale\r\n    function  getMousePos(canvas, evt) {\r\n      if(!canvas) return {x: 0, y: 0};\r\n      const rect = canvas.getBoundingClientRect(), // abs. size of element\r\n        scaleX = canvas.width / rect.width,    // relationship bitmap vs. element for X\r\n        scaleY = canvas.height / rect.height;  // relationship bitmap vs. element for Y\r\n    \r\n      return {\r\n        x: Math.floor((evt.clientX - rect.left) * scaleX),   // scale mouse coordinates after they have\r\n        y: Math.floor((evt.clientY - rect.top) * scaleY)     // been adjusted to be relative to element\r\n      }\r\n    }\r\n\r\n    const callEvent = (type, e) => {\r\n      if(this.events[type]){\r\n        e.realMousePosition = getMousePos(this.canvas, e); \r\n        this.events[type].call(null, e);\r\n      }\r\n    }\r\n    // handle event actions\r\n    let mouseIsDown = false;\r\n    this.eventHandler.mousemove = (e) => {\r\n      callActionType(Type.move, e);\r\n    }\r\n    this.eventHandler.mouseup = e => {\r\n      mouseIsDown = false;\r\n      callActionType(Type.mouseup, e);\r\n    };\r\n    this.eventHandler.mousedown = (e) => {\r\n      mouseIsDown = true;\r\n      let type;\r\n      if(e.which == 1){\r\n        type = Type.primary;\r\n      }else if(e.which == 3){\r\n        type = Type.secondary;\r\n      }else{\r\n        return;\r\n      }\r\n      callActionType(type, e);\r\n    }\r\n\r\n    // bind events\r\n    document.addEventListener('mousemove', this.eventHandler.mousemove);\r\n    document.addEventListener('mouseup', this.eventHandler.mouseup);\r\n  }\r\n\r\n  defineCanvas(canvas){\r\n    this.canvas = canvas;\r\n    this.context = this.canvas.getContext('2d');\r\n    this.canvas.addEventListener('mousedown', this.eventHandler.mousedown);\r\n  }\r\n\r\n  on(event, fn){\r\n    if(typeof event != 'string' && typeof fn !== 'function'){\r\n      throw new Error(`Invalid eventlistener`);\r\n    }\r\n    if(this.events[event]){\r\n      throw new Error(`Event already exists : ${event}`);\r\n    }\r\n    this.events[event] = fn;\r\n  }\r\n\r\n  // render\r\n  render(args){\r\n    if(!this.canvas) return;\r\n\r\n    this.context.clearRect(0,0, 128, 128);\r\n    const activeLayer = Spritesheets.stores.activeLayer.get();\r\n    const activePaletteLayer = Palettes.stores.activeLayer.get();\r\n    if(activeLayer && activePaletteLayer){\r\n      if(this.lastChanged != Palettes.lastChanged.get() || (this.activeLayer != activeLayer || this.activePaletteLayer != activePaletteLayer)){\r\n        // set the current active layers\r\n        this.activeLayer = activeLayer;\r\n        this.activePaletteLayer = activePaletteLayer;\r\n        // draw from source\r\n        activeLayer.drawFromSource(activePaletteLayer);\r\n        // store last change to palettes so we can force an update\r\n        this.lastChanged = Palettes.lastChanged.get();\r\n      }\r\n      // draw active layer on the canvas context\r\n      this.context.drawImage(activeLayer.element, 0,0);\r\n      // draw overlay layers\r\n      overlays.forEach((layer) => {\r\n        layer.render(args);\r\n        this.context.drawImage(layer.canvas, 0, 0);\r\n      });\r\n      \r\n      // draw cursors\r\n      (Toolbar.activeTool.get().cursorLayers || []).forEach((cursor) => {\r\n        cursor.render(args);\r\n        this.context.drawImage(cursor.canvas, 0, 0);  \r\n      });\r\n      \r\n    }\r\n  }\r\n  // clean up\r\n  destroy(){\r\n    // stop animationframe\r\n    this.animationLoop.unsubscribe();\r\n    // clean up events\r\n    if(this.canvas){\r\n      this.canvas.removeEventListener('mousedown', this.eventHandler.mousedown);\r\n    }\r\n    document.removeEventListener('mousemove', this.eventHandler.mousemove);\r\n    document.removeEventListener('mouseup', this.eventHandler.mouseup);\r\n  }\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';\r\n\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nimport { PixelCursor } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nimport * as Tools from '~/modules/spritesheet_editor/tools/tool.js';\r\n\r\nexport default class Pen extends Tool{\r\n  constructor(withHotkeys = true){\r\n    super();\r\n    this.cursorLayers = [\r\n      PixelCursor\r\n    ];\r\n\r\n    if(withHotkeys){\r\n      this.hotkeysGroups = ['pen'];\r\n      HotkeysManager.set(['AltLeft'], { groups: this.hotkeysGroups })\r\n      .on(_ => {\r\n        ActionsManager.execute('spritesheet_set_active_tool', 'eyedropper');\r\n      })\r\n      .off(_ => {\r\n        ActionsManager.execute('spritesheet_set_active_tool', 'pen');\r\n      });\r\n    }\r\n\r\n    this.title = 'Pen (B)';\r\n    this.name = 'pen';\r\n    this.enum = 'pen';\r\n    this.weight = 90;\r\n    this.icon = 'M19.769 9.923l-12.642 12.639-7.127 1.438 1.438-7.128 12.641-12.64 5.69 5.691zm1.414-1.414l2.817-2.82-5.691-5.689-2.816 2.817 5.69 5.692z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M19.769 9.923l-12.642 12.639-7.127 1.438 1.438-7.128 12.641-12.64 5.69 5.691zm1.414-1.414l2.817-2.82-5.691-5.689-2.816 2.817 5.69 5.692z',\r\n      size: {\r\n        width: 46,\r\n        height: 46,\r\n      },\r\n      offset: {\r\n        x: 0, \r\n        y: 11\r\n      }\r\n    });\r\n\r\n    this.properties = {\r\n      size: 1,\r\n      direction: undefined,\r\n      drawStack: [],\r\n      lastDraw: undefined,\r\n      start: undefined,\r\n    }\r\n    // store modified pixels\r\n    this.modifiedPixels = [];\r\n  }\r\n\r\n  paint(e){\r\n    const attributesTable = Spritesheets.stores.activeLayer?.get().colorAttributes;\r\n    const context = Spritesheets.stores.activeLayer.get()?.context;\r\n    if(!context){\r\n      // throw new Error('Error loading context');\r\n      return;\r\n    }\r\n    // loop over the stack\r\n    this.properties.drawStack.map(item => {\r\n      const { x, y } = item.realMousePosition;\r\n      \r\n      const tilePos = { x: Math.floor(x / 8), y: Math.floor(y / 8) };\r\n      const index = Number.isInteger(e.colorIndex) ? e.colorIndex : Palettes.stores.selectedColor.get();\r\n\r\n      let colorData = Palettes.stores.selectedColor.getActiveColorValue(index);\r\n      if(!colorData){\r\n        return;\r\n      }\r\n      \r\n      if(tilePos.x >= 0 && tilePos.x <= 15 && tilePos.y >= 0 && tilePos.y <= 15){\r\n        colorData = attributesTable[tilePos.x] && attributesTable[tilePos.x][tilePos.y] && attributesTable[tilePos.x][tilePos.y].colors[index] ? attributesTable[tilePos.x][tilePos.y].colors[index] : colorData;\r\n      }\r\n\r\n      context.save();\r\n        context.translate(x, y);\r\n        context.fillStyle = `rgb(${colorData.rgb.join(',')})`;\r\n        context.fillRect(0, 0, this.properties.size, this.properties.size);\r\n        // NOTE: this will currently not work with anything other than 1 px size pen\r\n        // store the modified pixels\r\n        this.modifiedPixels.push({ x, y, colorIndex: index });\r\n      context.restore();\r\n    });\r\n    this.properties.lastDraw = this.properties.drawStack.pop();\r\n    this.properties.drawStack = [];\r\n  }\r\n\r\n  primary(props, notIgnore){\r\n    const { x, y } = props.realMousePosition;\r\n    if(props.shiftKey){\r\n      this.drawLineFromPoint(props, { ...props.realMousePosition });\r\n    }else{\r\n      this.properties.drawStack.push(props);\r\n    }\r\n    this.paint.call(this, props);\r\n  }\r\n\r\n  secondary(props){\r\n    props.colorIndex = 0;\r\n    this.primary(props);\r\n  }\r\n\r\n  drawLineFromPoint(props, end){\r\n    if(!this.properties.start){\r\n      return;\r\n    }\r\n\r\n    let { x, y } = this.properties.start;\r\n    if(Math.abs(end.x - x) > Math.abs(end.y - y)){\r\n      while(x != end.x){\r\n        if(x < end.x) x++;\r\n        if(x > end.x) x--;\r\n        this.properties.drawStack.push({ ...props, realMousePosition: { x, y } });\r\n      }\r\n    }else{\r\n      while(y != end.y){\r\n        if(y < end.y) y++;\r\n        if(y > end.y) y--;\r\n        this.properties.drawStack.push({ ...props, realMousePosition: { x, y } });\r\n      }\r\n    }\r\n\r\n  }\r\n  move(props){\r\n    let { x: _x, y: _y } = props.realMousePosition;\r\n    // update cursor position\r\n    PixelCursor.x = _x;\r\n    PixelCursor.y = _y;\r\n\r\n    if(!props.mouseIsDown){\r\n      return;\r\n    }else{\r\n      this.properties.start = undefined;\r\n    }\r\n\r\n    // clamp the largest of x and y if shift key is \r\n    // down so we can draw in a straight line\r\n    // if(props.shiftKey && this.properties.static){}\r\n    \r\n    const fillStack = (props) => {\r\n      if(this.properties.lastDraw){\r\n        let { x, y } = { ...this.properties.lastDraw.realMousePosition };\r\n        while(x != _x || y != _y){\r\n          if(x < _x) x++;\r\n          if(x > _x) x--;\r\n          if(y < _y) y++;\r\n          if(y > _y) y--;\r\n          this.properties.drawStack.push({...props, realMousePosition: { x, y } });\r\n        }\r\n      }else{\r\n        this.properties.drawStack.push(props);\r\n      }\r\n    }\r\n    \r\n    if(props.which == 1){\r\n      // call the primary action\r\n      fillStack(props);\r\n      this.primary.call(this, props, true);\r\n    }else if(props.which == 3){\r\n      fillStack(props);\r\n      this.secondary.call(this, props);\r\n    }\r\n  }\r\n  \r\n  mouseup(){\r\n    const dataRef = Spritesheets.stores.activeLayer.get()?.data;\r\n    if(!dataRef){\r\n      return;\r\n    }\r\n\r\n    // save history before drawing new\r\n    if(this.modifiedPixels.length){\r\n      Spritesheets.stores.activeLayer.get().saveHistory();\r\n    }\r\n    \r\n    // update data with new pixelinformation\r\n    for(const pixel of this.modifiedPixels){\r\n      let {x, y, colorIndex } = pixel;\r\n      const rc = {x: Math.floor(x / 8), y: Math.floor(y / 8)};\r\n      const tile = {x: x % 8, y: y % 8};\r\n      // wtf is this??? well whatever.. \r\n      if(dataRef[rc.y] && dataRef[rc.y][rc.x] && dataRef[rc.y][rc.x][tile.y] && Number.isInteger(dataRef[rc.y][rc.x][tile.y][tile.x])){\r\n        dataRef[rc.y][rc.x][tile.y][tile.x] = colorIndex;\r\n      }\r\n    };  \r\n    \r\n    // same last pixel which will be the start for the next draw. if drawing line for instance\r\n    const lastPixel = this.modifiedPixels[this.modifiedPixels.length-1];\r\n    if(lastPixel){\r\n      // store the last pixel as the starting position\r\n      this.properties.start = { ...lastPixel };\r\n      Spritesheets.stores.activeLayer.get().setPresent();\r\n    }\r\n    \r\n    this.modifiedPixels = [];\r\n  }\r\n}\r\n","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport { PixelCursor } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\n\r\nexport default class Eyedropper extends Tool{\r\n  constructor(){\r\n    super();\r\n    this.cursorLayers = [\r\n      PixelCursor\r\n    ];\r\n\r\n    this.title = 'Eyedropper (E)';\r\n    this.name = 'eyedropper';\r\n    this.enum = 'eyedropper';\r\n    this.weight = 95;\r\n    this.icon = 'M12.142 13.178l1.506 1.318-6.83 7.6c-1.31 1.464-2.22.315-3.953 1.647-.232.178-.483.257-.724.257-.601 0-1.141-.49-1.141-1.151 0-.218.062-.455.196-.698.978-1.791-.129-2.629 1.148-4.052l6.787-7.555 1.505 1.317-3.727 4.139h2.691l2.542-2.822zm5.764-13.178c-2.434 0-4.871 1.707-4.797 5.831.021 1.167-.356 1.698-.884 1.698-.298 0-.597-.169-.877-.386-.407-.315-.99-.26-1.331.129-.374.426-.329 1.076.096 1.448l5.253 4.598c.423.371 1.067.328 1.438-.096.343-.392.32-.979-.049-1.345-.277-.275-.501-.581-.501-.913 0-.479.486-.876 1.572-1.002 3.69-.428 5.174-2.656 5.174-4.88 0-2.799-2.149-5.082-5.094-5.082z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M12.142 13.178l1.506 1.318-6.83 7.6c-1.31 1.464-2.22.315-3.953 1.647-.232.178-.483.257-.724.257-.601 0-1.141-.49-1.141-1.151 0-.218.062-.455.196-.698.978-1.791-.129-2.629 1.148-4.052l6.787-7.555 1.505 1.317-3.727 4.139h2.691l2.542-2.822zm5.764-13.178c-2.434 0-4.871 1.707-4.797 5.831.021 1.167-.356 1.698-.884 1.698-.298 0-.597-.169-.877-.386-.407-.315-.99-.26-1.331.129-.374.426-.329 1.076.096 1.448l5.253 4.598c.423.371 1.067.328 1.438-.096.343-.392.32-.979-.049-1.345-.277-.275-.501-.581-.501-.913 0-.479.486-.876 1.572-1.002 3.69-.428 5.174-2.656 5.174-4.88 0-2.799-2.149-5.082-5.094-5.082z',\r\n      size: {\r\n        width: 46,\r\n        height: 46,\r\n      },\r\n      offset: {\r\n        x: 0, \r\n        y: 10\r\n      }  \r\n    });\r\n  }\r\n  primary(props){\r\n    const { x, y } = props.realMousePosition;\r\n    // set active color index\r\n    const colorIndex = Spritesheets.stores.activeLayer.get().colorIndexAtPosition(x, y);\r\n    if(Number.isInteger(colorIndex)){\r\n      Palettes.stores.selectedColor.set(colorIndex);\r\n    }\r\n  }\r\n  secondary(props){}\r\n  move(props){\r\n    // update cursor position\r\n    PixelCursor.x = props.realMousePosition.x;\r\n    PixelCursor.y = props.realMousePosition.y;\r\n    \r\n  }\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';\r\n\r\nimport { PixelCursor } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\n\r\nimport * as Tools from '~/modules/spritesheet_editor/tools/tool.js';\r\n\r\nexport default class Paintbucket extends Tool{\r\n  constructor(withHotkeys = true){\r\n    super();\r\n    this.cursorLayers = [\r\n      PixelCursor\r\n    ];\r\n\r\n    if(withHotkeys){\r\n      this.hotkeysGroups = ['paintbucket'];\r\n      HotkeysManager.set(['AltLeft'], { groups: this.hotkeysGroups })\r\n      .on(_ => {\r\n        ActionsManager.execute('spritesheet_set_active_tool', 'eyedropper');\r\n      })\r\n      .off(_ => {\r\n        ActionsManager.execute('spritesheet_set_active_tool', 'paintbucket');\r\n      });\r\n    }\r\n    \r\n    this.title = 'Paintbucket (G)';\r\n    this.name = 'paintbucket';\r\n    this.enum = 'paintbucket';\r\n    this.weight = 80;\r\n    this.icon = 'M24 19.007c0-3.167-1.409-6.771-2.835-9.301l-.006-.01-.014-.026c-.732-1.392-1.914-3.052-3.619-4.757-2.976-2.976-5.476-3.912-6.785-3.913-.413 0-.708.094-.859.245l-.654.654c-1.898-.236-3.42.105-4.294.982-.876.875-1.164 2.159-.792 3.524.242.893.807 1.891 1.752 2.836.867.867 2.062 1.684 3.615 2.327.488-.839 1.654-1.019 2.359-.315.586.586.584 1.533-.002 2.119s-1.533.589-2.121 0c-.229-.229-.366-.515-.416-.812-1.646-.657-3.066-1.534-4.144-2.612-.728-.728-1.289-1.528-1.664-2.349l-2.835 2.832c-.445.447-.685 1.064-.686 1.82.001 1.635 1.122 3.915 3.714 6.506 2.764 2.764 5.58 4.243 7.431 4.243.649 0 1.181-.195 1.548-.562l8.086-8.079c.911.875-.777 3.541-.777 4.65 0 1.104.896 1.999 2 1.998 1.104 0 1.998-.895 1.998-2zm-18.912-12.974c-.236-.978-.05-1.845.554-2.444.526-.53 1.471-.791 2.656-.761l-3.21 3.205zm9.138 2.341l-.03-.029c-1.29-1.291-3.802-4.354-3.095-5.062.715-.715 3.488 1.521 5.062 3.095.862.863 2.088 2.248 2.938 3.459-1.718-1.073-3.493-1.469-4.875-1.463zm-3.875 12.348c-.547-.082-1.5-.547-1.9-.928l7.086-7.086c.351.37 1.264.931 1.753 1.075l-6.939 6.939z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M24 19.007c0-3.167-1.409-6.771-2.835-9.301l-.006-.01-.014-.026c-.732-1.392-1.914-3.052-3.619-4.757-2.976-2.976-5.476-3.912-6.785-3.913-.413 0-.708.094-.859.245l-.654.654c-1.898-.236-3.42.105-4.294.982-.876.875-1.164 2.159-.792 3.524.242.893.807 1.891 1.752 2.836.867.867 2.062 1.684 3.615 2.327.488-.839 1.654-1.019 2.359-.315.586.586.584 1.533-.002 2.119s-1.533.589-2.121 0c-.229-.229-.366-.515-.416-.812-1.646-.657-3.066-1.534-4.144-2.612-.728-.728-1.289-1.528-1.664-2.349l-2.835 2.832c-.445.447-.685 1.064-.686 1.82.001 1.635 1.122 3.915 3.714 6.506 2.764 2.764 5.58 4.243 7.431 4.243.649 0 1.181-.195 1.548-.562l8.086-8.079c.911.875-.777 3.541-.777 4.65 0 1.104.896 1.999 2 1.998 1.104 0 1.998-.895 1.998-2zm-18.912-12.974c-.236-.978-.05-1.845.554-2.444.526-.53 1.471-.791 2.656-.761l-3.21 3.205zm9.138 2.341l-.03-.029c-1.29-1.291-3.802-4.354-3.095-5.062.715-.715 3.488 1.521 5.062 3.095.862.863 2.088 2.248 2.938 3.459-1.718-1.073-3.493-1.469-4.875-1.463zm-3.875 12.348c-.547-.082-1.5-.547-1.9-.928l7.086-7.086c.351.37 1.264.931 1.753 1.075l-6.939 6.939z',\r\n      offset: {\r\n        x: 3.5, \r\n        y: 11\r\n      },\r\n      size: {\r\n        width: 46,\r\n        height: 46,\r\n      },\r\n    });\r\n\r\n    // properties \r\n    this.properties = {\r\n      diagonals: false,\r\n    }\r\n  }\r\n  fillPixelsInsideTile(x, y, selectedColorIndex){\r\n    const fillValue = selectedColorIndex >= 0 && selectedColorIndex <= 3 ? selectedColorIndex :  Palettes.stores.selectedColor.get();\r\n\r\n    const tile = {\r\n      x: Math.floor(x / 8),\r\n      y: Math.floor(y / 8)\r\n    };\r\n    \r\n    const pixelData = Spritesheets.stores.activeLayer.get()?.data[tile.y][tile.x];\r\n    // starting color\r\n    const pixelValue = Spritesheets.stores.activeLayer.get().colorIndexAtPosition(x, y); \r\n\r\n    if(pixelData){\r\n      // store pixels in an array\r\n      const pixels = [{ x: x % 8, y: y % 8 }];\r\n      while(pixels.length){\r\n        let { x: _x, y: _y} = pixels.shift();\r\n        let a = _y % 8;\r\n        let b = _x % 8;\r\n\r\n        if(_x < 0 || _x > 7){\r\n          continue;\r\n        }\r\n        if(_y < 0 || _y > 7){\r\n          continue;\r\n        }\r\n        const colorIndex = pixelData[_y][_x];\r\n        // make sure it's the same colorIndex\r\n        if(colorIndex == fillValue){\r\n          continue;\r\n        }\r\n        if(colorIndex != pixelValue){\r\n          continue;\r\n        }\r\n        \r\n        // upate color index\r\n        pixelData[a][b] = fillValue;\r\n\r\n        // check top, down, left, right directions\r\n        pixels.push({ x: b, y: a + 1 });\r\n        pixels.push({ x: b, y: a - 1 });\r\n        pixels.push({ x: b - 1, y: a });\r\n        pixels.push({ x: b + 1, y: a });\r\n\r\n        // if we also want diagonals\r\n        // TODO: implement this in the sub toolbar as options where the user\r\n        // am able to toggle this preference\r\n        if(this.properties.diagonals){\r\n          pixels.push({ x: b + 1, y: a + 1 });\r\n          pixels.push({ x: b - 1, y: a - 1 });\r\n          pixels.push({ x: b + 1, y: a - 1 });\r\n          pixels.push({ x: b - 1, y: a + 1 });\r\n        }\r\n      }\r\n    }\r\n    Spritesheets.stores.activeLayer.get().forceUpdate();\r\n    // throw new Error('Not implemented: fills all pixels inside a tile')\r\n  }\r\n  fill({x, y, selectedColorIndex, fillAllNoneZeroColoredPixels}){\r\n    // fill value \r\n    const fillValue = selectedColorIndex >= 0 && selectedColorIndex <= 3 ? selectedColorIndex :  Palettes.stores.selectedColor.get();\r\n    // starting color\r\n    const pixelValue = Spritesheets.stores.activeLayer.get().colorIndexAtPosition(x, y); \r\n    // store pixels in an array\r\n    const pixels = [{ x, y }];\r\n\r\n    while(pixels.length){\r\n      const { x: _x, y: _y} = pixels.shift();\r\n      if(_y < 0 || _y > 127){\r\n        continue;\r\n      }\r\n      if(_x < 0 || _x > 127){\r\n        continue;\r\n      }\r\n      const colorIndex = Spritesheets.stores.activeLayer.get().colorIndexAtPosition(_x, _y);\r\n      \r\n      if(fillAllNoneZeroColoredPixels){\r\n        if(colorIndex == 0){\r\n          continue;\r\n        }\r\n      }else{\r\n        // make sure it's the same colorIndex\r\n        if(colorIndex == fillValue){\r\n          continue;\r\n        }\r\n        if(colorIndex != pixelValue){\r\n          continue;\r\n        }\r\n      }\r\n      \r\n      // upate color index\r\n      Spritesheets.stores.activeLayer.get().setColorIndexAtPosition(_x, _y, fillAllNoneZeroColoredPixels ? 0 : fillValue);\r\n\r\n      // check top, down, left, right directions\r\n      pixels.push({ x: _x, y: _y + 1 });\r\n      pixels.push({ x: _x, y: _y - 1 });\r\n      pixels.push({ x: _x - 1, y: _y });\r\n      pixels.push({ x: _x + 1, y: _y });\r\n\r\n      // if we also want diagonals\r\n      // TODO: implement this in the sub toolbar as options where the user\r\n      // am able to toggle this preference\r\n      if(this.properties.diagonals){\r\n        pixels.push({ x: _x + 1, y: _y + 1 });\r\n        pixels.push({ x: _x - 1, y: _y - 1 });\r\n        pixels.push({ x: _x + 1, y: _y - 1 });\r\n        pixels.push({ x: _x - 1, y: _y + 1 });\r\n      }\r\n    }\r\n\r\n    \r\n    // force a spritesheet update\r\n    Spritesheets.stores.activeLayer.get().forceUpdate();\r\n  }\r\n\r\n  fillAllPixelsInASpriteSheet(x, y, selectedColorIndex){\r\n    // fill value \r\n    const fillValue = selectedColorIndex >= 0 && selectedColorIndex <= 3 ? selectedColorIndex :  Palettes.stores.selectedColor.get();\r\n    // starting color\r\n    const pixelValue = Spritesheets.stores.activeLayer.get().colorIndexAtPosition(x, y); \r\n\r\n    if(fillValue == pixelValue){\r\n      return;\r\n    }\r\n\r\n    // apply to all pixels\r\n    Spritesheets.stores.activeLayer.update((store) => {\r\n      for(let row in store.data){\r\n        for(let col in store.data[row]){\r\n          for(let tr in store.data[row][col]){\r\n            for(let tc in store.data[row][col][tr]){\r\n              if(store.data[row][col][tr][tc] == pixelValue){\r\n                store.data[row][col][tr][tc] = fillValue;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      \r\n      return store;\r\n    });\r\n\r\n    // update canvas\r\n    Spritesheets.stores.activeLayer.get().forceUpdate();\r\n  }\r\n\r\n  fillAllPixelsInATile(tilex, tiley, x, y, selectedColorIndex){\r\n    // fill value \r\n    const fillValue = selectedColorIndex >= 0 && selectedColorIndex <= 3 ? selectedColorIndex : Palettes.stores.selectedColor.get();\r\n    // starting color\r\n    const pixelValue = Spritesheets.stores.activeLayer.get().colorIndexAtPosition(x, y); \r\n\r\n    if(fillValue == pixelValue){\r\n      return;\r\n    }\r\n\r\n    // apply to all pixels\r\n    Spritesheets.stores.activeLayer.update((store) => {\r\n      for(let tr in store.data[tiley][tilex]){\r\n        for(let tc in store.data[tiley][tilex][tr]){\r\n          if(store.data[tiley][tilex][tr][tc] == pixelValue){\r\n            store.data[tiley][tilex][tr][tc] = fillValue;\r\n          }\r\n        }\r\n      }\r\n      \r\n      return store;\r\n    });\r\n\r\n    // update canvas\r\n    Spritesheets.stores.activeLayer.get().forceUpdate();\r\n  }\r\n\r\n  fillAllPixelsWithBackground({ x, y }){\r\n    this.fill({ x, y, fillAllNoneZeroColoredPixels: true })\r\n  }\r\n\r\n  primary(props){\r\n    // save a history before\r\n    Spritesheets.stores.activeLayer.get().saveHistory();\r\n    const { x, y } = props.realMousePosition;\r\n\r\n    if(props.ctrlKey && props.shiftKey && props.altKey){\r\n      this.fillAllPixelsWithBackground({ x, y });\r\n    }else{\r\n      if(props.shiftKey){\r\n        if(props.ctrlKey){\r\n          // fill all pixels inside a tile\r\n          this.fillAllPixelsInATile(Math.floor(x / 8), Math.floor(y / 8), x, y);\r\n        }else{\r\n          this.fillAllPixelsInASpriteSheet(x, y);\r\n        }\r\n      }else if(props.ctrlKey){\r\n        // TODO: fill ony pixels inside a 8x8 tile\r\n        this.fillPixelsInsideTile(x, y);\r\n      }else{\r\n        this.fill({ x, y });\r\n      }\r\n    }\r\n\r\n    // present is current after this draw call\r\n    Spritesheets.stores.activeLayer.get().setPresent();\r\n  }\r\n  \r\n  secondary(props){\r\n    const { x, y } = props.realMousePosition;\r\n    // save history before\r\n    Spritesheets.stores.activeLayer.get().saveHistory();\r\n    \r\n    if(props.ctrlKey && props.shiftKey && props.altKey){\r\n      this.fillAllPixelsWithBackground({ x, y });\r\n    }else{\r\n      if(props.shiftKey){\r\n        if(props.ctrlKey){\r\n          // fill all pixels inside a tile\r\n          this.fillAllPixelsInATile(Math.floor(x / 8), Math.floor(y / 8), x, y, 0);\r\n        }else{\r\n          this.fillAllPixelsInASpriteSheet(x, y, 0);\r\n        }\r\n      }else if(props.ctrlKey){\r\n        // TODO: fill ony pixels inside a 8x8 tile\r\n        this.fillPixelsInsideTile(x, y, 0);\r\n      }else{\r\n        this.fill({ x, y, selectedColorIndex: 0 });\r\n      }\r\n    }\r\n    // present is the current after this draw\r\n    Spritesheets.stores.activeLayer.get().setPresent();\r\n  }\r\n\r\n  move(props){\r\n    // update cursor position\r\n    PixelCursor.x = props.realMousePosition.x;\r\n    PixelCursor.y = props.realMousePosition.y;\r\n  }\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';\r\nimport ActionsManager from \"~/application/ActionsManager.js\";\r\n\r\nimport { PixelCursor } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\n\r\nexport default class Colorswap extends Tool{\r\n  constructor(withHotkeys = true){\r\n    super();\r\n\r\n    if(withHotkeys){\r\n      this.hotkeysGroups = ['colorswap'];\r\n      HotkeysManager.set(['Escape'], { data: { action: ActionsManager.action('tool_action'), props: _ => this.properties.swappedColors = [] }, groups: this.hotkeysGroups });\r\n    }\r\n    \r\n    this.cursorLayers = [\r\n      PixelCursor\r\n    ];\r\n    \r\n    this.title = 'Color swap (S)';\r\n    this.name = 'colorswap';\r\n    this.enum = 'colorswap';\r\n    this.weight = 60;\r\n    this.icon = 'M1 12.155c2.256 3.97 4.55 7.918 6.879 11.845h-5.379c-.829 0-1.5-.675-1.5-1.5v-10.345zm2.85.859c3.278 1.952 12.866 7.658 13.121 7.805l-5.162 2.98c-.231.132-.49.201-.751.201-.549 0-1.037-.298-1.299-.75l-5.909-10.236zm1.9-12.813c-.23-.133-.489-.201-.75-.201-.524 0-1.026.277-1.299.75l-3.5 6.062c-.133.23-.201.489-.201.749 0 .527.278 1.028.75 1.3 2.936 1.695 14.58 8.7 17.516 10.396.718.413 1.633.168 2.048-.55l3.5-6.062c.133-.23.186-.488.186-.749 0-.52-.257-1.025-.734-1.3l-17.516-10.395m.25 3.944c1.104 0 2 .896 2 2s-.896 2-2 2-2-.896-2-2 .896-2 2-2';\r\n    this.cursor = new Cursor({\r\n      icon: 'M12.142 13.178l1.506 1.318-6.83 7.6c-1.31 1.464-2.22.315-3.953 1.647-.232.178-.483.257-.724.257-.601 0-1.141-.49-1.141-1.151 0-.218.062-.455.196-.698.978-1.791-.129-2.629 1.148-4.052l6.787-7.555 1.505 1.317-3.727 4.139h2.691l2.542-2.822zm5.764-13.178c-2.434 0-4.871 1.707-4.797 5.831.021 1.167-.356 1.698-.884 1.698-.298 0-.597-.169-.877-.386-.407-.315-.99-.26-1.331.129-.374.426-.329 1.076.096 1.448l5.253 4.598c.423.371 1.067.328 1.438-.096.343-.392.32-.979-.049-1.345-.277-.275-.501-.581-.501-.913 0-.479.486-.876 1.572-1.002 3.69-.428 5.174-2.656 5.174-4.88 0-2.799-2.149-5.082-5.094-5.082z',\r\n      size: {\r\n        width: 46,\r\n        height: 46,\r\n      },\r\n      offset: {\r\n        x: 0, \r\n        y: 10\r\n      }  \r\n    });\r\n    this.properties = {\r\n      swappedColors: []\r\n    }\r\n  }\r\n  primary(props){\r\n    const { x, y } = props.realMousePosition;\r\n    // store clicked on tiles\r\n    this.properties.swappedColors.push({\r\n      column: Math.floor(x / 8), \r\n      row: Math.floor(y / 8),\r\n      x: x % 8, \r\n      y: y % 8\r\n    });\r\n    // if color length is greater than 1 then swap the two\r\n    if(this.properties.swappedColors.length > 1){\r\n      const activeLayer = Spritesheets.stores.activeLayer; \r\n      activeLayer.get().saveHistory();\r\n      activeLayer.update(_store => {\r\n        const [ first, second ] = this.properties.swappedColors;\r\n        const temp = [..._store.data];\r\n        let a = temp[first.row][first.column][first.y][first.x];\r\n        let b = temp[second.row][second.column][second.y][second.x];\r\n        \r\n        if(a == b) return _store;\r\n\r\n        // NOTE: this will only swap in the tile where the first value got taken from\r\n        // I think this makes sense instead fo switching on both the tiles if they \r\n        // would be different. \r\n        if(props.altKey){\r\n          _store.data[first.row][first.column].forEach((row, r) => {\r\n            row.forEach((col, c) => {\r\n              let val;\r\n              if(col == a){\r\n                val = b;\r\n              }else if(col == b){\r\n                val = a;\r\n              }\r\n              if(Number.isInteger(val)){\r\n                _store.data[first.row][first.column][r][c] = val;\r\n              }\r\n            });\r\n          });\r\n        }else{\r\n          // geezuz!! i really don't like this nested 2d array :S\r\n          // one line list of tiles... split on % 16 for new row\r\n          temp.forEach((trow, tr) => {\r\n            trow.forEach((tcol, tc) => {\r\n              tcol.forEach((row, r) => {\r\n                row.forEach((col, c) => {\r\n                  let val;\r\n                  if(col == a){\r\n                    val = b;\r\n                  }else if(col == b){\r\n                    val = a;\r\n                  }\r\n                  if(Number.isInteger(val)){\r\n                    _store.data[tr][tc][r][c] = val;\r\n                  }\r\n                });\r\n              });\r\n            });\r\n          });\r\n        }\r\n        activeLayer.get().forceUpdate();\r\n        Spritesheets.stores.activeLayer.get().setPresent();\r\n        return _store;\r\n      });\r\n      this.properties.swappedColors = [];\r\n    }\r\n  }\r\n  \r\n  secondary(props){}\r\n  \r\n  move(props){\r\n    // update cursor position\r\n    PixelCursor.x = props.realMousePosition.x;\r\n    PixelCursor.y = props.realMousePosition.y;\r\n  }\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\n\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nimport { MarqueeCursor } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\n\r\nexport default class Tileswap extends Tool{\r\n  constructor(withHotkeys = true){\r\n    super();\r\n    \r\n    if(withHotkeys){\r\n      this.hotkeysGroups = ['tileswap'];\r\n      const cancel = () => {\r\n        this.properties = {};\r\n        MarqueeCursor.removeSelection();\r\n      }\r\n      HotkeysManager.set(['Escape'], { data: { action: ActionsManager.action('tool_action'), props: cancel }, groups: this.hotkeysGroups });\r\n    }\r\n    \r\n    this.cursorLayers = [\r\n      MarqueeCursor,\r\n    ];\r\n\r\n    this.title = 'Transpose (T)';\r\n    this.name = 'tileswap';\r\n    this.enum = 'tileswap';\r\n    this.weight = 60;\r\n    this.icon = 'M18 6v-6h-18v18h6v6h18v-18h-6zm-16 10v-14h14v4h-10v10h-4z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z',\r\n      size: {\r\n        width: 56,\r\n        height: 56,\r\n      },\r\n      offset: {\r\n        x: 5, \r\n        y: 5\r\n      }\r\n    });\r\n\r\n    // props\r\n    this.properties = {\r\n      start: undefined,\r\n      end: undefined\r\n    }\r\n    this.mouseIsDown = false;\r\n    this.affected = [];\r\n    this.swappedTiles = [];\r\n  }\r\n\r\n  primary(props){\r\n    MarqueeCursor.removeSelection();\r\n\r\n    this.mouseIsDown = props.mouseIsDown;\r\n    let { x, y } = props.realMousePosition;\r\n    \r\n    const rx = Math.floor(x / 8);\r\n    const ry = Math.floor(y / 8);\r\n\r\n    // start marquee indicator\r\n    const _x = Math.floor(x / 8) * 8;\r\n    const _y = Math.floor(y / 8) * 8;\r\n    \r\n    this.properties.start = { x: _x, y: _y };\r\n    MarqueeCursor.start = { x: _x, y: _y };\r\n    MarqueeCursor.end = { x: _x + 7, y: _y + 7 };\r\n  \r\n    // if tiles length is greater 0 swap em all because we have a selection\r\n    if(this.swappedTiles.length > 0){\r\n      const activeLayer = Spritesheets.stores.activeLayer;\r\n\r\n      // stack references to be able to save history\r\n      let history = [];\r\n      history.push(activeLayer.get());\r\n      this.swappedTiles.forEach(layer => {\r\n        if(history.indexOf(layer.ref) < 0){\r\n          history.push(layer.ref);\r\n        }\r\n      });\r\n\r\n      // save history\r\n      history.forEach((layer) => layer.saveHistory());\r\n  \r\n      activeLayer.update(_store => {\r\n\r\n        // a bit innefficient to run 2 loops but whatever. it is what it is\r\n        // we need to clear all reference tiles before moving over the others \r\n        if(props.altKey){\r\n          this.swappedTiles.forEach((tile) => {\r\n            tile.ref.data[tile.y][tile.x] = new Array(8).fill(new Array(8).fill(0));\r\n          });\r\n        }\r\n\r\n        // move tiles\r\n        this.swappedTiles.forEach((tile) => {\r\n          if(_store.data[ry + tile.i] && _store.data[ry + tile.i][rx + tile.j]){\r\n            const temp = JSON.parse(JSON.stringify(_store.data[ry + tile.i][rx + tile.j]));\r\n\r\n            // copy tile to the other\r\n            if(props.ctrlKey){\r\n              _store.data[ry + tile.i][rx + tile.j] = tile.data;\r\n\r\n            // move the tiles to new position \r\n            }else if(props.altKey){\r\n              _store.data[ry + tile.i][rx + tile.j] = tile.data;\r\n\r\n            // swap the tiles. not working completley as expected if a region is selected\r\n            }else{\r\n              tile.ref.data[tile.y][tile.x] = temp;\r\n              _store.data[ry + tile.i][rx + tile.j] = tile.data;\r\n            }\r\n          }\r\n        });\r\n        return _store;\r\n      });\r\n\r\n      // force all history references to update\r\n      history.forEach((layer) => {\r\n        layer.forceUpdate(layer);\r\n        layer.setPresent();\r\n      });\r\n      history = [];\r\n\r\n      this.swappedTiles = [];\r\n      MarqueeCursor.removeSelection();\r\n    }\r\n  }\r\n  secondary(props){\r\n    // reset swapped tiles on secondary action to \r\n    // exit current swap process\r\n    this.swappedTiles = [];\r\n    MarqueeCursor.removeSelection();\r\n    this.properties = {};\r\n  }\r\n\r\n  move(props){\r\n    let { x, y } = props.realMousePosition;\r\n    x = Math.max(0, Math.floor(x / 8) * 8);\r\n    y = Math.max(0, Math.floor(y / 8) * 8);\r\n\r\n    let _start = { ...this.properties.start };\r\n    let _end = { x: x, y: y };\r\n\r\n    if(MarqueeCursor.hasSelection()){\r\n      _start = { x: x, y: y };\r\n      _end = { x: x + MarqueeCursor.selection.end.x - MarqueeCursor.selection.start.x - 7, y: y + MarqueeCursor.selection.end.y - MarqueeCursor.selection.start.y - 7 };\r\n    }\r\n    const _start_x = Math.min(_end.x, _start.x);\r\n    const _end_x = Math.max(_end.x, _start.x);\r\n    \r\n    const _start_y = Math.min(_end.y, _start.y);\r\n    const _end_y = Math.max(_end.y, _start.y);\r\n    \r\n    this.properties.end = { x: _end_x, y: _end_y };\r\n    MarqueeCursor.start = { x: _start_x, y: _start_y };\r\n    MarqueeCursor.end = { x: this.properties.end.x + 7, y: this.properties.end.y + 7 };\r\n  }\r\n\r\n  mouseup(props){\r\n    if(this.mouseIsDown){\r\n      MarqueeCursor.addSelection({ start: MarqueeCursor.start, end: MarqueeCursor.end });\r\n    }\r\n\r\n    // active layer at the current action, which means you can copy between layers\r\n    const activeLayer = Spritesheets.stores.activeLayer;\r\n    \r\n    if(MarqueeCursor.hasSelection() && !this.swappedTiles.length){\r\n      const offset = { x: MarqueeCursor.selection.start.x / 8, y: MarqueeCursor.selection.start.y / 8 };\r\n      if(this.properties.start && this.properties.end){\r\n        let width = (Math.abs((MarqueeCursor.start.x - MarqueeCursor.end.x-1))/8);\r\n        let height = (Math.abs((MarqueeCursor.start.y - MarqueeCursor.end.y-1))/8);\r\n        const pixelData = JSON.parse(JSON.stringify(activeLayer.get().data));\r\n        for(let i = 0; i < height; i++){\r\n          for(let j = 0; j < width; j++){\r\n            const tile = { x: offset.x+j, y: offset.y+i, i, j, data: pixelData[offset.y+i][offset.x+j], ref: activeLayer.get() };\r\n            this.swappedTiles.push(tile);  \r\n          }\r\n        }\r\n      }\r\n    }else if(this.mouseIsDown){\r\n      // force update\r\n      const layer = Spritesheets.stores.activeLayer.get();\r\n      layer.forceUpdate();\r\n      layer.setPresent();\r\n    }\r\n    \r\n    this.mouseIsDown = false;\r\n    this.properties = {};\r\n  }\r\n  onDestroy(){\r\n    this.secondary();\r\n  }\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\n\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\nimport { MarqueeCursor } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nexport default class Transform extends Tool{\r\n  constructor(withHotkeys = true){\r\n    super();\r\n\r\n    if(withHotkeys){\r\n      this.hotkeysGroups = ['transform'];\r\n      const cancel = () => {\r\n        this.properties = {};\r\n        MarqueeCursor.removeSelection();\r\n      }\r\n      HotkeysManager.set(['Escape'], { data: { action: ActionsManager.action('tool_action'), props: cancel }, groups: this.hotkeysGroups });\r\n    }\r\n\r\n    this.cursorLayers = [\r\n      MarqueeCursor,\r\n    ];\r\n\r\n    this.title = 'Transform (R)';\r\n    this.name = 'transform';\r\n    this.enum = 'transform';\r\n    this.weight = 55;\r\n    this.icon = 'M18.885 3.515c-4.617-4.618-12.056-4.676-16.756-.195l-2.129-2.258v7.938h7.484l-2.066-2.191c2.82-2.706 7.297-2.676 10.073.1 4.341 4.341 1.737 12.291-5.491 12.291v4.8c3.708 0 6.614-1.244 8.885-3.515 4.686-4.686 4.686-12.284 0-16.97z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z',\r\n      size: {\r\n        width: 56,\r\n        height: 56,\r\n      },\r\n      offset: {\r\n        x: 5, \r\n        y: 5\r\n      }  \r\n    });\r\n\r\n    this.properties = {\r\n      modifier: undefined\r\n    }\r\n  }\r\n\r\n  flipX(props){\r\n    let { x, y} = props.realMousePosition;\r\n    const _x = Math.floor(x / 8);\r\n    const _y = Math.floor(y / 8);\r\n    const grid = Spritesheets.stores.activeLayer.get().data;\r\n    grid[_y][_x] = grid[_y][_x].map((val) => val.reverse());\r\n  }\r\n  flipY(props){\r\n    this.rotate(props);\r\n    this.rotate(props);\r\n    this.flipX(props);\r\n  }\r\n  rotate(props){\r\n    let { x, y} = props.realMousePosition;\r\n    const _x = Math.floor(x / 8);\r\n    const _y = Math.floor(y / 8);\r\n    const grid = Spritesheets.stores.activeLayer.get().data;\r\n    // NOTE: we only want to rotate one direction because... only one mouse button??\r\n    // either way it's not a big deal since it's only four directions\r\n    grid[_y][_x] = grid[_y][_x].map((val, index) => grid[_y][_x].map(row => row[index]).reverse());\r\n  }\r\n\r\n  matrix(){\r\n    // find all items in selected area \r\n\r\n    // apply transformation\r\n    const transpose = array => array.reduce((r, a) => a.map((v, i) => [...(r[i] || []), v]), []),\r\n    matrix = [[1, 2, 3], [1, 2, 3], [1, 2, 3]];\r\n    console.log(transpose(matrix));\r\n    // update the store with new values \r\n    // and force update the canvas\r\n    \r\n  }\r\n\r\n  primary(props){\r\n    this.mouseIsDown = props.mouseIsDown;\r\n    let { x, y } = props.realMousePosition;\r\n    \r\n    const rx = Math.floor(x / 8);\r\n    const ry = Math.floor(y / 8);\r\n\r\n    // start marquee indicator\r\n    const _x = Math.floor(x / 8) * 8;\r\n    const _y = Math.floor(y / 8) * 8;\r\n    \r\n    if(props.shiftKey){\r\n      return\r\n      this.properties.start = { x: _x, y: _y };\r\n      MarqueeCursor.start = { x: _x, y: _y };\r\n      MarqueeCursor.end = { x: _x + 7, y: _y + 7 };\r\n      return;\r\n    }\r\n\r\n\r\n    Spritesheets.stores.activeLayer.get().saveHistory();\r\n    if(props.ctrlKey){\r\n      this.flipX(props);\r\n    }else if(props.altKey){\r\n      this.flipY(props);\r\n    }else{\r\n      this.rotate(props);\r\n    }\r\n    // force a spritesheet update\r\n    Spritesheets.stores.activeLayer.get().forceUpdate();\r\n    Spritesheets.stores.activeLayer.get().setPresent();\r\n  }\r\n  clear(){\r\n    MarqueeCursor.removeSelection();\r\n    this.properties = {};\r\n  }\r\n\r\n  secondary(props){\r\n    this.clear();\r\n  }\r\n\r\n  move(props){\r\n    if(MarqueeCursor.hasSelection()){\r\n      return;\r\n    }\r\n\r\n    let { x, y } = props.realMousePosition;\r\n    x = Math.max(0, Math.floor(x / 8) * 8);\r\n    y = Math.max(0, Math.floor(y / 8) * 8);\r\n\r\n    let _start = { ...this.properties.start };\r\n    let _end = { x: x, y: y };\r\n    const size = Math.min(Math.abs(_end.x - _start.x) / 1, Math.abs(_end.y - _start.y));\r\n\r\n    const _start_x = Math.min(_end.x, _start.x);\r\n    const _end_x = Math.max(_end.x, _start.x);\r\n    \r\n    const _start_y = Math.min(_end.y, _start.y);\r\n    const _end_y = Math.max(_end.y, _start.y);\r\n\r\n    MarqueeCursor.start = { x: _start_x, y: _start_y };\r\n    MarqueeCursor.end = { x: _end_x + 7, y: _end_y + 7 };\r\n    // MarqueeCursor.end = { x: this.properties.end.x + 7, y: this.properties.end.y + 7 };\r\n  }\r\n\r\n  mouseup(props){\r\n    if(this.mouseIsDown){\r\n      this.mouseIsDown = false;\r\n      this.properties = {};\r\n      MarqueeCursor.addSelection({ start: MarqueeCursor.start, end: MarqueeCursor.end });\r\n    }\r\n  }\r\n}\r\n","import Layer from './layer.js';\r\n\r\nexport default class CanvasPortion extends Layer{\r\n  constructor(...args){\r\n    super(...args);\r\n    this.width = 128;\r\n    this.height = 128; \r\n    this.x = 0;\r\n  }\r\n\r\n  addSelection({ start, end } = {}){\r\n\r\n  }\r\n  draw({ start, end, color, dash }){\r\n    \r\n  }\r\n  render(){\r\n    this.context.fillStyle = 'black';\r\n    this.context.drawImage(\r\n      this.canvas,\r\n      50, 50, 10, 10,\r\n      10, 10, 10, 10\r\n    );\r\n  }\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';\r\n\r\nimport { MarqueeCursor } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\nimport CanvasPortion from '../layers/canvasportion.layer.js';\r\n\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nexport default class Marquee extends Tool{\r\n  constructor(withHotkeys = true){\r\n    super();\r\n\r\n    if(withHotkeys){\r\n      this.hotkeysGroups = ['marquee'];\r\n      HotkeysManager.set(['AltLeft'], { groups: this.hotkeysGroups })\r\n      .on(_ => ActionsManager.execute('spritesheet_set_active_tool', 'pointer'))\r\n      .off(_ => ActionsManager.execute('spritesheet_set_active_tool', 'marquee'));\r\n\r\n      HotkeysManager.set(['ArrowUp'], { once: false, preventDefault: true, data: { action: e => this.moveSelection(e) }, groups: this.hotkeysGroups }).off(this.saveState);\r\n      HotkeysManager.set(['ArrowDown'], { once: false, data: { action: e => this.moveSelection(e) }, groups: this.hotkeysGroups }).off(this.saveState);\r\n      HotkeysManager.set(['ArrowLeft'], { once: false, data: { action: e => this.moveSelection(e) }, groups: this.hotkeysGroups }).off(this.saveState);\r\n      HotkeysManager.set(['ArrowRight'], { once: false, data: { action: e => this.moveSelection(e) }, groups: this.hotkeysGroups }).off(this.saveState);\r\n\r\n    }\r\n\r\n    this.CanvasPortion = new CanvasPortion();\r\n    this.cursorLayers = [\r\n      MarqueeCursor,\r\n      this.CanvasPortion,\r\n    ];\r\n\r\n    this.title = 'Marquee (M)';\r\n    this.name = 'marquee';\r\n    this.enum = 'marquee';\r\n    this.weight = 100;\r\n    this.icon = 'M11 23v-2h-4v2h4zm8-20h3v2h2v-4h-5v2zm-19 14h2v-4h-2v4zm0-6h2v-4h-2v4zm2-6v-2h3v-2h-5v4h2zm22 2h-2v4h2v-4zm0 6h-2v4h2v-4zm-2 6v2h-3v2h5v-4h-2zm-17 2h-3v-2h-2v4h5v-2zm12 2v-2h-4v2h4zm-6-20v-2h-4v2h4zm6 0v-2h-4v2h4z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z',\r\n      size: {\r\n        width: 56,\r\n        height: 56,\r\n      },\r\n      offset: {\r\n        x: 5, \r\n        y: 5\r\n      }\r\n    });\r\n\r\n    // properties\r\n    this.properties = {\r\n      altKey: false,\r\n      start: undefined,\r\n      end: undefined\r\n    }\r\n\r\n  }\r\n\r\n  clear(){\r\n    this.properties = {\r\n      altKey: false,\r\n      start: undefined,\r\n      end: undefined\r\n    }\r\n    MarqueeCursor.removeSelection();\r\n  }\r\n\r\n  primary(props){\r\n    this.clear();\r\n\r\n    let { x, y } = props.realMousePosition;\r\n    this.properties.start = { x, y };\r\n\r\n    // \r\n    if(props.altKey && MarqueeCursor.hasSelection()){\r\n      console.log('aaa')\r\n      return\r\n    }\r\n\r\n    // update cursor\r\n    MarqueeCursor.start = { ...this.properties.start };\r\n    MarqueeCursor.end = { ...this.properties.start };\r\n  }\r\n\r\n  secondary(props){\r\n    this.clear();\r\n  }\r\n\r\n  mouseup(){\r\n    // clear selection if start and end are the same because that \r\n    // would mean there isn't actually any pixels selected\r\n    if(MarqueeCursor.start?.x == MarqueeCursor.end?.x && MarqueeCursor.start?.y == MarqueeCursor.end?.y){\r\n      this.clear();\r\n      return;\r\n    }\r\n    MarqueeCursor.addSelection();\r\n    this.properties = {}\r\n  }\r\n\r\n  move(props){\r\n    let { x, y } = props.realMousePosition;\r\n    if(MarqueeCursor.hasSelection()){\r\n      if(props.altKey){\r\n        console.log('aaa')\r\n        return\r\n      }\r\n    }else{\r\n      this.properties.end = { x, y };\r\n      MarqueeCursor.end = { ...this.properties.end };\r\n    }\r\n    \r\n  }\r\n  \r\n  moveSelection(hotkeyEvent){\r\n    const activeLayer = Spritesheets.stores.activeLayer.get(); \r\n    if(!activeLayer){\r\n      return;\r\n    }\r\n    \r\n    if(MarqueeCursor.hasSelection()){\r\n      // set history point\r\n      activeLayer.saveHistory();\r\n      // find all pixels inside selected area\r\n      const stack = [];\r\n      const { start, end } = MarqueeCursor.selection;\r\n      const nstart = { ...start };\r\n      const nend = { ...end };\r\n      nstart.x = Math.min(start.x, end.x);\r\n      nend.x = Math.max(start.x, end.x);\r\n\r\n      // console.log(nstart.x, nend.x);\r\n\r\n      const row = Math.floor(nstart.y / 8);\r\n      const col = Math.floor(nstart.x / 8);\r\n      // for(let i = 0; i <= Math.floor((end.y - start.y) / 8); i++){\r\n      //   for(let j = 0; j <= Math.floor((end.x - start.x) / 8); j++){\r\n      //     // save current selection tile\r\n      //     stack.push(JSON.parse(JSON.stringify(activeLayer.data[row + i][col + j])));\r\n      //     // replace selection with background (dirty way of just starting fresh before replacing the saved selection to it's new location)\r\n      //     activeLayer.data[row + i][col + j] = new Array(8).fill().map(_ => new Array(8).fill().map(_ => 0));\r\n      //   }\r\n      // }\r\n      // copy selected tiles \r\n      // console.log(stack)\r\n      // replace selected tiles with 0 indexed color (background)\r\n      \r\n      // move the selection and update selection with the copied tiles\r\n      let amount = 1;\r\n      switch(hotkeyEvent.Hotkey.signature){\r\n        case 'arrowup':\r\n          if(MarqueeCursor.selection.start.y - amount >= 0){\r\n            MarqueeCursor.selection.start.y -= amount;\r\n            MarqueeCursor.selection.end.y -= amount;\r\n          }\r\n          break;\r\n          case 'arrowdown':\r\n            if(MarqueeCursor.selection.end.y + amount <= 127){\r\n              MarqueeCursor.selection.start.y += amount;\r\n              MarqueeCursor.selection.end.y += amount;\r\n            }\r\n          break;\r\n          case 'arrowleft':\r\n            if(MarqueeCursor.selection.start.x - amount >= 0){\r\n              MarqueeCursor.selection.start.x -= amount;\r\n              MarqueeCursor.selection.end.x -= amount;\r\n            }\r\n          break;\r\n          case 'arrowright':\r\n            if(MarqueeCursor.selection.end.x + amount <= 127){\r\n              MarqueeCursor.selection.start.x += amount;\r\n              MarqueeCursor.selection.end.x += amount;\r\n            }\r\n          break;\r\n      }\r\n        \r\n    }\r\n    \r\n  }\r\n  \r\n  saveState(props){\r\n    if(MarqueeCursor.hasSelection()){\r\n      console.log(props);\r\n      const activeLayer = Spritesheets.stores.activeLayer.get(); \r\n      if(!activeLayer){\r\n        return;\r\n      }\r\n      // update canvas\r\n      activeLayer.forceUpdate();\r\n      // save current preset to history\r\n      activeLayer.setPresent();\r\n    }\r\n\r\n  }\r\n\r\n  onDestroy(){}\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport ColorAttributeOptions from '~/modules/spritesheet_editor/options/ColorAttribute.svelte';\r\n\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\n\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nimport { TileCursor, ColorAttributesOverlay } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nexport default class ColorAttribute extends Tool{\r\n  constructor(withHotkeys = true){\r\n    super();\r\n    if(withHotkeys){\r\n      this.hotkeysGroups = ['colorattribute'];\r\n      const toggleOverlay = HotkeysManager.set(['Tab'], { groups: this.hotkeysGroups });\r\n      toggleOverlay.on(({ e, Hotkey, on }) => ColorAttributesOverlay.toggle());\r\n      toggleOverlay.off(({ e, Hotkey, on }) => ColorAttributesOverlay.toggle());\r\n    }\r\n\r\n    this.cursorLayers = [\r\n      ColorAttributesOverlay,\r\n      // TODO: change tilecursor to be a cursor of the 4 colors \r\n      TileCursor,\r\n    ];\r\n\r\n    this.optionsPanelComponent = ColorAttributeOptions;\r\n\r\n    this.title = 'Attribute table (A)';\r\n    this.name = 'colorattribute';\r\n    this.enum = 'colorattribute';\r\n    this.weight = 80;\r\n    this.icon = 'M4 21.832c4.587.38 2.944-4.493 7.188-4.538l1.838 1.534c.458 5.538-6.315 6.773-9.026 3.004zm14.065-7.115c1.427-2.239 5.847-9.749 5.847-9.749.352-.623-.43-1.273-.976-.813 0 0-6.572 5.714-8.511 7.525-1.532 1.432-1.539 2.086-2.035 4.447l1.68 1.4c2.227-.915 2.868-1.039 3.995-2.81zm-11.999 3.876c.666-1.134 1.748-2.977 4.447-3.262.434-2.087.607-3.3 2.547-5.112 1.373-1.282 4.938-4.409 7.021-6.229-1-2.208-4.141-4.023-8.178-3.99-6.624.055-11.956 5.465-11.903 12.092.023 2.911 1.081 5.571 2.82 7.635 1.618.429 2.376.348 3.246-1.134zm6.952-15.835c1.102-.006 2.005.881 2.016 1.983.004 1.103-.882 2.009-1.986 2.016-1.105.009-2.008-.88-2.014-1.984-.013-1.106.876-2.006 1.984-2.015zm-5.997 2.001c1.102-.01 2.008.877 2.012 1.983.012 1.106-.88 2.005-1.98 2.016-1.106.007-2.009-.881-2.016-1.988-.009-1.103.877-2.004 1.984-2.011zm-2.003 5.998c1.106-.007 2.01.882 2.016 1.985.01 1.104-.88 2.008-1.986 2.015-1.105.008-2.005-.88-2.011-1.985-.011-1.105.879-2.004 1.981-2.015zm10.031 8.532c.021 2.239-.882 3.718-1.682 4.587l-.046.044c5.255-.591 9.062-4.304 6.266-7.889-1.373 2.047-2.534 2.442-4.538 3.258z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M17.831 7.672c1.096-1.096 2.875-1.865 3.688-3.106.892-1.362.508-3.192-.851-4.085-1.362-.892-3.187-.508-4.081.854-.842 1.286-.801 3.322-1.433 4.779-.817 1.882-3.553 2.116-6.698.474-1.727 3.352-4.075 6.949-6.456 9.874l2.263 1.484c1.018-.174 2.279-1.059 2.792-2.03-.04 1.167-.478 2.2-1.337 2.983l4.275 2.797c.546-.544 1.054-.976 1.616-1.345-.319.643-.532 1.324-.63 1.99l2.532 1.659c1.5-2.884 4.416-7.343 6.455-9.874-2.82-2.272-3.657-4.936-2.135-6.454zm1.762-5.545c.454.296.58.908.281 1.36-.294.457-.905.582-1.356.286-.456-.297-.582-.906-.284-1.36.295-.455.905-.583 1.359-.286zm-3.959 15.037l-8.225-5.386 1.616-2.469 8.221 5.387-1.612 2.468z',\r\n      size: {\r\n        width: 66,\r\n        height: 66,\r\n      },\r\n      stroke: 1.5 ,\r\n      offset: {\r\n        x: 0, \r\n        y: 10\r\n      }    \r\n    });\r\n\r\n\r\n    this.properties = {\r\n      remove: undefined,\r\n      previous: {\r\n        x: undefined, \r\n        y: undefined\r\n      }\r\n    }\r\n  }\r\n\r\n  primary(props){\r\n    let { x, y } = props.realMousePosition;\r\n    if(!(x > 0 && x < 128 && y > 0 && y < 128)) return;\r\n    x = Math.floor(x / 8);\r\n    y = Math.floor(y / 8);\r\n\r\n    if(props.altKey){\r\n      const palette = this.getColorAttributeAtPosition({x, y});\r\n      if(palette){\r\n        Palettes.makeLayerActiveFromUUID(palette.uuid);\r\n      }\r\n      return;\r\n    }\r\n\r\n    this.properties.previous.x = x;\r\n    this.properties.previous.y = y;\r\n    this.setColorAttribute({ x, y });\r\n  }\r\n  secondary(props){\r\n    let { x, y } = props.realMousePosition;\r\n    x = Math.floor(x / 8);\r\n    y = Math.floor(y / 8);\r\n    this.properties.remove = true;\r\n    this.setColorAttribute({ x, y });\r\n  }\r\n  getColorAttributeAtPosition({x, y}){\r\n    const activeColorAttribute = Spritesheets.stores.activeLayer.get().colorAttributes;\r\n    if(activeColorAttribute && activeColorAttribute[x] !== undefined && activeColorAttribute[x][y] !== undefined){\r\n      return activeColorAttribute[x][y];\r\n    }\r\n  }\r\n  setColorAttribute({ x, y }){\r\n    const activePaletteLayer = Palettes.stores.activeLayer.get();\r\n    const activeColorAttribute = Spritesheets.stores.activeLayer.get().colorAttributes;\r\n    if(activeColorAttribute && activeColorAttribute[y] !== undefined && activeColorAttribute[y][x] !== undefined){\r\n      activeColorAttribute[x][y] = !this.properties.remove ? activePaletteLayer : null;\r\n    }\r\n  }\r\n  mouseup(){\r\n    this.properties.remove = undefined;\r\n    const activeLayer = Spritesheets.stores.activeLayer.get();\r\n    if(activeLayer){\r\n      activeLayer.forceUpdate();\r\n    }\r\n  }\r\n  move(props){\r\n    \r\n    let { x, y } = props.realMousePosition;\r\n    \r\n    // update cursor position\r\n    TileCursor.x = x;\r\n    TileCursor.y = y;\r\n    \r\n    if(props.altKey) return;\r\n    if(!props.mouseIsDown) return;\r\n\r\n    if(!(x > 0 && x < 128 && y > 0 && y < 128)) return;\r\n    \r\n    x = Math.floor(x / 8);\r\n    y = Math.floor(y / 8);\r\n\r\n    if(props.which == 1 || props.which == 3){\r\n      if(!(this.properties.previous.x == x && this.properties.previous.y == y)){\r\n        this.setColorAttribute({ x, y });\r\n      }\r\n      this.properties.previous.x = x;\r\n      this.properties.previous.y = y;\r\n    }\r\n\r\n  }\r\n}","<script>\r\n  import { onMount } from \"svelte\";\r\n  import { createCanvasPattern } from '~/utils/canvas.js';\r\n  import { map } from '~/utils/numbers.js';\r\n\r\n  import { AnimationLoop } from '~/utils/canvas.js';\r\n  \r\n  import { PixelCursor } from \"~/modules/spritesheet_editor/SpritesheetEditor.js\";\r\n\r\n  export let offset = undefined;\r\n  export let width = 128;\r\n  export let height = 128;\r\n  export let clamp = false;\r\n  export let source;\r\n  \r\n  let canvas, pattern;\r\n\r\n  onMount(() => {\r\n    // if(!source) throw new Error(`Provide a canvas source for the 'CanvasPreview'`);\r\n    let context;\r\n    const fps = 120;\r\n    const { unsubscribe } = AnimationLoop(({ cancel } ) => {\r\n      if(!source?.element){\r\n        cancel();\r\n        return;\r\n      }\r\n      \r\n      context = canvas?.getContext('2d');\r\n      if(!context || !canvas) return;\r\n\r\n      // not efficient, at all!\r\n      if(offset && source){\r\n        const width = offset.end.x - offset.start.x; \r\n        const height = offset.end.y - offset.start.y;\r\n        pattern = createCanvasPattern({\r\n          ...offset.start,\r\n          source,\r\n          width,\r\n          height\r\n        });\r\n\r\n        // NOTE: this needs to be sorted if we are to implement pixel sizes.\r\n        // context.drawImage(PixelCursor.canvas, PixelCursor.x, PixelCursor.y, width, height);\r\n        pattern.context.save();\r\n          pattern.context.globalCompositeOperation = 'screen';\r\n          if(!isNaN(PixelCursor.x) && !isNaN(PixelCursor.y)){\r\n            pattern.context.fillStyle = 'rgba(255,255,255,.7)';\r\n            if((PixelCursor.x >= offset.start.x && PixelCursor.x <= offset.end.x) && (PixelCursor.y >= offset.start.y && PixelCursor.y <= offset.end.y)){\r\n              pattern.context.fillRect(map(PixelCursor.x, offset.start.x, offset.end.x, 0, width), map(PixelCursor.y, offset.start.y, offset.end.y, 0, height), 1, 1);\r\n            }\r\n          };\r\n        pattern.context.restore();\r\n      }\r\n      if(pattern?.pattern){\r\n        context.save();\r\n        context.fillStyle = pattern.pattern();\r\n        context.fillRect(0, 0, width, height);\r\n        context.restore();\r\n      }else{\r\n        context.drawImage(source.element, 0, 0, width, height);\r\n      }\r\n    }, fps);\r\n\r\n    return () => {\r\n      if(unsubscribe) unsubscribe();\r\n    }\r\n  });\r\n</script>\r\n\r\n<canvas class:clamp width=\"{width}\" height=\"{height}\" style=\"--width: {width}; --height: {height};\" bind:this={canvas}></canvas>\r\n\r\n<style>\r\n  canvas{\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    min-width: calc(var(--width) * 1px);\r\n    min-height: calc(var(--height) * 1px);\r\n    image-rendering: -moz-crisp-edges;\r\n    image-rendering: -webkit-crisp-edges;\r\n    image-rendering: pixelated;\r\n    image-rendering: crisp-edges;\r\n  }\r\n\r\n  .clamp{\r\n    max-width: calc(var(--width) * 1px);\r\n    max-height: calc(var(--height) * 1px);\r\n  }\r\n</style>","<script>\r\n  import { Spritesheets } from '~/stores/spritesheets.store.js';\r\n  import CanvasPreview from '~/_components/graphics/CanvasPreview.svelte';\r\n  const { activeLayer } = Spritesheets.stores;\r\n</script>\r\n\r\n{#key $activeLayer}\r\n  <CanvasPreview source={$activeLayer} offset={$$props} />\r\n{/key}","import { push, clear } from '~/_components/ModalWindow.svelte';\r\nimport SpritesheetPreview from '~/_components/graphics/SpritesheetPreview.svelte';\r\n\r\nimport Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport { MarqueeCursor } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nexport default class Preview extends Tool{\r\n  constructor(){\r\n    super();\r\n\r\n    this.cursorLayers = [\r\n      MarqueeCursor\r\n    ];\r\n    this.title = 'Pattern preview (P)';\r\n    this.name = 'preview';\r\n    this.enum = 'preview';\r\n    this.weight = 10;\r\n    this.icon = 'M8 0v2h8v-2h-8zm0 24v-2h8v2h-8zm10-24h6v6h-2v-4h-4v-2zm-18 8h2v8h-2v-8zm0-2v-6h6v2h-4v4h-2zm24 10h-2v-8h2v8zm0 2v6h-6v-2h4v-4h2zm-18 6h-6v-6h2v4h4v2zm12-18h-12v12h12v-12z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z',\r\n      size: {\r\n        width: 56,\r\n        height: 56,\r\n      },\r\n      offset: {\r\n        x: 5, \r\n        y: 5\r\n      }\r\n    });\r\n\r\n    // \r\n    this.properties = {\r\n      start: undefined,\r\n      end: undefined\r\n    }\r\n    this.mouseIsDown = false;\r\n  }\r\n\r\n  onMount(){}\r\n  onDestroy(){}\r\n  dblclick(){\r\n    this.mouseIsDown = true;\r\n    MarqueeCursor.start = {x: 0, y: 0};\r\n    MarqueeCursor.end = {x: 128, y: 128};\r\n    this.createPreview();\r\n  }\r\n  primary(props){\r\n    this.mouseIsDown = props.mouseIsDown;\r\n    MarqueeCursor.removeSelection();\r\n    let { x, y } = props.realMousePosition;\r\n    x = Math.floor(x / 8) * 8;\r\n    y = Math.floor(y / 8) * 8;\r\n    this.properties.start = { x, y };\r\n    MarqueeCursor.start = { x, y };\r\n    MarqueeCursor.end = { x: x + 7, y: y + 7 };\r\n  }\r\n\r\n  secondary(props){\r\n    MarqueeCursor.removeSelection();\r\n  }\r\n\r\n  // TODO: clean up? or good enough? works for now\r\n  move(props){\r\n    if(!props.mouseIsDown || props.which !== 1) return;\r\n    let { x, y } = props.realMousePosition;\r\n    x = Math.max(0, Math.floor(x / 8) * 8);\r\n    y = Math.max(0, Math.floor(y / 8) * 8);\r\n\r\n    let _start = { ...this.properties.start };\r\n    let _end = { x, y };\r\n\r\n    const _start_x = Math.min(_end.x, _start.x);\r\n    const _end_x = Math.max(_end.x, _start.x);\r\n\r\n    const _start_y = Math.min(_end.y, _start.y);\r\n    const _end_y = Math.max(_end.y, _start.y);\r\n\r\n    MarqueeCursor.start = { x: _start_x, y: _start_y };\r\n    MarqueeCursor.end = { x: _end_x + 7, y: _end_y + 7 };\r\n  }\r\n  \r\n  mouseup(props){\r\n    this.createPreview(props);\r\n  }\r\n  \r\n  createPreview(props){\r\n    if(MarqueeCursor.start && MarqueeCursor.end && this.mouseIsDown){\r\n      // add this preview to preview window somehow.\r\n      const start = {\r\n        x: Math.floor(MarqueeCursor.start.x / 8),\r\n        y: Math.floor(MarqueeCursor.start.y / 8)\r\n      }\r\n      const end = {\r\n        x: Math.floor((MarqueeCursor.end.x - 7) / 8),\r\n        y: Math.floor((MarqueeCursor.end.y - 7) / 8)\r\n      }\r\n\r\n      const props = {\r\n        label: `start: (${start.x},${start.y}) end: (${end.x},${end.y})`,\r\n        zoom: 2,\r\n        start: {\r\n          x: MarqueeCursor.start.x,\r\n          y: MarqueeCursor.start.y,\r\n        },\r\n        end: {\r\n          x: MarqueeCursor.end.x + 1,\r\n          y: MarqueeCursor.end.y + 1,\r\n        }\r\n      }\r\n      push(SpritesheetPreview, props);\r\n    }\r\n    MarqueeCursor.removeSelection();\r\n    this.mouseIsDown = false;\r\n  }\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';\r\nimport ActionsManager from \"~/application/ActionsManager.js\";\r\n\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nimport { BrushCursor } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nexport default class Brush extends Tool{\r\n  constructor(withHotkeys = true){\r\n    super();\r\n\r\n    this.cursorLayers = [\r\n      BrushCursor\r\n    ];\r\n\r\n    if(withHotkeys){\r\n      this.hotkeysGroups = ['brush'];\r\n      const cancel = () => {\r\n        this.mouseIsDown = false;\r\n        this.properties.start = undefined;\r\n        BrushCursor.removeSelection();\r\n      }\r\n      HotkeysManager.set(['Escape'], { data: { action: ActionsManager.action('tool_action'), props: cancel }, groups: this.hotkeysGroups });\r\n    }\r\n\r\n    this.title = 'Pattern brush (D)';\r\n    this.name = 'brush';\r\n    this.enum = 'brush';\r\n    this.weight = 80;\r\n    this.icon = 'M17.831 7.672c1.096-1.096 2.875-1.865 3.688-3.106.892-1.362.508-3.192-.851-4.085-1.362-.892-3.187-.508-4.081.854-.842 1.286-.801 3.322-1.433 4.779-.817 1.882-3.553 2.116-6.698.474-1.727 3.352-4.075 6.949-6.456 9.874l2.263 1.484c1.018-.174 2.279-1.059 2.792-2.03-.04 1.167-.478 2.2-1.337 2.983l4.275 2.797c.546-.544 1.054-.976 1.616-1.345-.319.643-.532 1.324-.63 1.99l2.532 1.659c1.5-2.884 4.416-7.343 6.455-9.874-2.82-2.272-3.657-4.936-2.135-6.454zm1.762-5.545c.454.296.58.908.281 1.36-.294.457-.905.582-1.356.286-.456-.297-.582-.906-.284-1.36.295-.455.905-.583 1.359-.286zm-3.959 15.037l-8.225-5.386 1.616-2.469 8.221 5.387-1.612 2.468z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M17.831 7.672c1.096-1.096 2.875-1.865 3.688-3.106.892-1.362.508-3.192-.851-4.085-1.362-.892-3.187-.508-4.081.854-.842 1.286-.801 3.322-1.433 4.779-.817 1.882-3.553 2.116-6.698.474-1.727 3.352-4.075 6.949-6.456 9.874l2.263 1.484c1.018-.174 2.279-1.059 2.792-2.03-.04 1.167-.478 2.2-1.337 2.983l4.275 2.797c.546-.544 1.054-.976 1.616-1.345-.319.643-.532 1.324-.63 1.99l2.532 1.659c1.5-2.884 4.416-7.343 6.455-9.874-2.82-2.272-3.657-4.936-2.135-6.454zm1.762-5.545c.454.296.58.908.281 1.36-.294.457-.905.582-1.356.286-.456-.297-.582-.906-.284-1.36.295-.455.905-.583 1.359-.286zm-3.959 15.037l-8.225-5.386 1.616-2.469 8.221 5.387-1.612 2.468z',\r\n      size: {\r\n        width: 66,\r\n        height: 66,\r\n      },\r\n      stroke: 1.5 ,\r\n      offset: {\r\n        x: 0, \r\n        y: 10\r\n      }    \r\n    });\r\n\r\n    this.mouseIsDown;\r\n    this.properties = {\r\n      drawStack: {},\r\n      remove: undefined,\r\n      previous: {\r\n        x: undefined, \r\n        y: undefined\r\n      }\r\n    }\r\n  }\r\n\r\n  primary(props){\r\n    // get the real mouse position and clamp it to the size of a tile which is 8x8 \r\n    let { x: _x, y: _y } = props.realMousePosition;\r\n    let x = Math.floor(_x / 8) * 8;\r\n    let y = Math.floor(_y / 8) * 8;\r\n\r\n    // mouse has been pressed on the canvas (move reads outside canvas)\r\n    this.mouseIsDown = props.mouseIsDown;\r\n    if(!(this.mouseIsDown && props.altKey)){\r\n      // paint the first one\r\n      if(BrushCursor.hasSelection()){\r\n        if(props.shiftKey){\r\n          let size = {\r\n            x: Math.floor((BrushCursor.selection.end.x - BrushCursor.selection.start.x)) + 1,\r\n            y: Math.floor((BrushCursor.selection.end.y - BrushCursor.selection.start.y)) + 1,\r\n          }\r\n          x = Math.floor(_x / size.x) * size.x;\r\n          y = Math.floor(_y / size.y) * size.y;\r\n        }\r\n        this.paint({ x: x / 8, y: y / 8 });\r\n      }\r\n      return;\r\n    };\r\n    \r\n    // clear the old selection\r\n    BrushCursor.selectionIsVisible = true;\r\n    BrushCursor.removeSelection();\r\n    \r\n    \r\n    // define the starting position of the selection\r\n    this.properties.start = { x, y };\r\n    BrushCursor.start = { x, y };\r\n\r\n    // set the end as one tile size so a cick will at east select one tile\r\n    BrushCursor.end = { x: x + 7, y: y + 7 };\r\n\r\n  }\r\n\r\n  secondary(props){\r\n    // clear the old selection\r\n    this.mouseIsDown = false;\r\n    this.properties.start = undefined;\r\n    BrushCursor.removeSelection();\r\n  }\r\n \r\n  mouseup(){\r\n    if(!this.mouseIsDown) return;\r\n    // get all tile references inside the selection\r\n    const activeLayer = Spritesheets.stores.activeLayer;\r\n    const activeLayerData = activeLayer.get();\r\n    if(BrushCursor.start && BrushCursor.end && this.mouseIsDown && !BrushCursor.hasSelection()){\r\n      BrushCursor.addSelection({ start: BrushCursor.start, end: BrushCursor.end });\r\n      BrushCursor.selectionIsVisible = false;\r\n      // store the origin layer source\r\n      const originImage = new Image();\r\n      originImage.src = activeLayerData.updateImageSource();\r\n      this.properties.activeLayerSnapshot = {\r\n        image: originImage,\r\n        data: JSON.parse(JSON.stringify(activeLayerData.data))\r\n      }\r\n    }else{\r\n      // exit early if no draw queue\r\n      const stack = Object.entries(this.properties.drawStack);\r\n      activeLayerData.saveHistory();\r\n      activeLayer.update((_store) => {\r\n        stack.forEach(([y, col]) => {\r\n          if(_store.data[y]){\r\n            Object.entries(col).forEach(([x, value]) => {\r\n              if(_store.data[y][x]){\r\n                _store.data[y][x] = value;\r\n              }\r\n            });\r\n          }\r\n        });\r\n        return _store;\r\n      })\r\n      // temp, do no t do this\r\n      activeLayerData.forceUpdate();\r\n      activeLayerData.setPresent();\r\n    }\r\n    this.properties.drawStack = {};\r\n    this.properties.start = undefined;\r\n    this.mouseIsDown = false;\r\n  }\r\n  \r\n  paint(currentOffset){\r\n    const source = this.properties.activeLayerSnapshot?.data;\r\n    if(!source) return;\r\n    const serializedSource = JSON.parse(JSON.stringify(source));\r\n\r\n    const activeLayer = Spritesheets.stores.activeLayer.get();\r\n    const width = Math.abs(BrushCursor.selection.end.x - BrushCursor.selection.start.x + 1);\r\n    const height = Math.abs(BrushCursor.selection.end.y - BrushCursor.selection.start.y + 1);\r\n    \r\n    const tiles = {\r\n      y: Math.floor(height / 8),\r\n      x: Math.floor(width / 8)\r\n    };\r\n    for(let i = 0; i < tiles.y; i++){\r\n      for(let j = 0; j < tiles.x; j++){\r\n        const y = (currentOffset.y + i);\r\n        const x = (currentOffset.x + j);\r\n        // TODO: store all selected tiles not just the one that is current hardcoded\r\n        if(!this.properties.drawStack[y]){\r\n          this.properties.drawStack[y] = {};\r\n        }\r\n        this.properties.drawStack[y][x] = serializedSource[(BrushCursor.selection.start.y / 8) + i][(BrushCursor.selection.start.x / 8) + j];\r\n        // TODO: copy the attribute table as well! so the coors macth on the new location\r\n        if(this.properties.activeLayerSnapshot.image){\r\n          activeLayer.context.drawImage(\r\n            this.properties.activeLayerSnapshot.image, \r\n            // source\r\n            BrushCursor.selection.start.x + (j * 8), \r\n            BrushCursor.selection.start.y + (i * 8), \r\n            8, \r\n            8,        \r\n            // destination\r\n            Math.floor(x * 8),\r\n            Math.floor(y * 8),\r\n            8, \r\n            8,\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  move(props){\r\n    // get the real position and constrain it to the 8x8 tile bounds\r\n    let { x, y } = props.realMousePosition;\r\n    \r\n    const rx = Math.floor(x / 8);\r\n    const ry = Math.floor(y / 8);\r\n    \r\n    let _x = Math.max(0, rx * 8);\r\n    let _y = Math.max(0, ry * 8);\r\n    \r\n    // trying to select a new area as a pattern\r\n    if(BrushCursor.hasSelection()){\r\n      let a = 8;\r\n      let b = 8;\r\n      let size = {\r\n        x: Math.floor(BrushCursor.selection.end.x+1 - BrushCursor.selection.start.x),\r\n        y: Math.floor(BrushCursor.selection.end.y+1 - BrushCursor.selection.start.y)\r\n      }\r\n\r\n      if(props.shiftKey){\r\n        a = size.x;\r\n        b = size.y;\r\n      }\r\n\r\n      const c = Math.max(0, Math.floor(x / a) * a);\r\n      const d = Math.max(0, Math.floor(y / b) * b);\r\n      \r\n      BrushCursor.start = { \r\n        x: c, \r\n        y: d \r\n      };\r\n      BrushCursor.end = { \r\n        x: c + size.x-1,\r\n        y: d + size.y-1,\r\n      };\r\n      \r\n      const currentOffset = {\r\n        x: c / 8,\r\n        y: d / 8\r\n      };\r\n\r\n      if(this.mouseIsDown){\r\n        this.paint(currentOffset);\r\n      }\r\n\r\n    }else{\r\n      if(!props.mouseIsDown || props.which !== 1) return;\r\n      // get the start and end values so we can swap which one is start or end\r\n      // depending on what direction the selection is being made\r\n      let _start = { ...this.properties.start };\r\n      let _end = { x: _x, y: _y };\r\n      \r\n      // determine what is start and end\r\n      const _start_x = Math.min(_end.x, _start.x);\r\n      const _end_x = Math.max(_end.x, _start.x);\r\n      \r\n      const _start_y = Math.min(_end.y, _start.y);\r\n      const _end_y = Math.max(_end.y, _start.y);\r\n\r\n      // apply the positions to the cursor\r\n      BrushCursor.start = { x: _start_x, y: _start_y };\r\n      BrushCursor.end = { x: _end_x + 7, y: _end_y + 7 };\r\n    }\r\n  }\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\n\r\nexport default class Zoom extends Tool{\r\n  constructor(){\r\n    super();\r\n    this.singleAction = true;\r\n    this.name = 'zoom';\r\n    this.title = \"Zoom (Z)\";\r\n    this.enum = 'zoom';\r\n    this.weight = 0;\r\n    this.icon = 'M23.822 20.88l-6.353-6.354c.93-1.465 1.467-3.2 1.467-5.059.001-5.219-4.247-9.467-9.468-9.467s-9.468 4.248-9.468 9.468c0 5.221 4.247 9.469 9.468 9.469 1.768 0 3.421-.487 4.839-1.333l6.396 6.396 3.119-3.12zm-20.294-11.412c0-3.273 2.665-5.938 5.939-5.938 3.275 0 5.94 2.664 5.94 5.938 0 3.275-2.665 5.939-5.94 5.939-3.274 0-5.939-2.664-5.939-5.939z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M23.822 20.88l-6.353-6.354c.93-1.465 1.467-3.2 1.467-5.059.001-5.219-4.247-9.467-9.468-9.467s-9.468 4.248-9.468 9.468c0 5.221 4.247 9.469 9.468 9.469 1.768 0 3.421-.487 4.839-1.333l6.396 6.396 3.119-3.12zm-20.294-11.412c0-3.273 2.665-5.938 5.939-5.938 3.275 0 5.94 2.664 5.94 5.938 0 3.275-2.665 5.939-5.94 5.939-3.274 0-5.939-2.664-5.939-5.939z',\r\n      size: {\r\n        width: 56,\r\n        height: 56,\r\n      },\r\n      offset: {\r\n        x: 5, \r\n        y: 5\r\n      }  \r\n    });\r\n  }\r\n\r\n  primary(props){\r\n    if(props.altKey){\r\n      ActionsManager.execute('spritesheet_zoom_out');\r\n      return;\r\n    }\r\n    ActionsManager.execute('spritesheet_zoom_in');\r\n  }\r\n  secondary(props){\r\n    if(props.altKey){\r\n      ActionsManager.execute('spritesheet_zoom_in');\r\n      return;\r\n    }\r\n    ActionsManager.execute('spritesheet_zoom_out');\r\n  }\r\n  move(props){}\r\n  dblclick(){\r\n    ActionsManager.execute('spritesheet_zoom_reset');\r\n  }\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nexport default class Text extends Tool{\r\n  constructor(){\r\n    super();\r\n\r\n    this.title = 'Text (W)';\r\n    this.name = 'text';\r\n    this.enum = 'text';\r\n    this.weight = 10;\r\n    this.visible_in_toolbar = false;\r\n    this.icon = 'M22 0h-20v6h1.999c0-1.174.397-3 2.001-3h4v16.874c0 1.174-.825 2.126-2 2.126h-1v2h9.999v-2h-.999c-1.174 0-2-.952-2-2.126v-16.874h4c1.649 0 2.02 1.826 2.02 3h1.98v-6z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M22 0h-20v6h1.999c0-1.174.397-3 2.001-3h4v16.874c0 1.174-.825 2.126-2 2.126h-1v2h9.999v-2h-.999c-1.174 0-2-.952-2-2.126v-16.874h4c1.649 0 2.02 1.826 2.02 3h1.98v-6z',\r\n      size: {\r\n        width: 56,\r\n        height: 56,\r\n      },\r\n      offset: {\r\n        x: 5, \r\n        y: 5\r\n      }\r\n    });\r\n  }\r\n  primary(props){}\r\n  secondary(props){}\r\n  move(props){}\r\n}\r\n","export class Vector{\r\n  constructor(...args){\r\n    // validate fn\r\n    const validate = (...n) => n.map((_) => {\r\n      if(typeof _ !== 'number'){\r\n        throw new Error(`Invalid argument, expecting number, got : [${typeof _}]`);\r\n      }\r\n      return _;\r\n    });    \r\n    // special case for single arguments\r\n    let [ x = 0, y = 0, z = 0] = args;\r\n    if(args.length == 1){\r\n      y = x;\r\n      z = x;\r\n    }\r\n    // validate and assign\r\n    validate(x, y, z);\r\n    Object.assign(this, {x, y, z});\r\n  }\r\n  get angle(){\r\n    return this._angle();\r\n  }\r\n  get degrees(){\r\n    return this._angle(true);\r\n  }\r\n  _angle(deg){\r\n    const angle = Math.atan2(this.y, this.x);   //radians\r\n    // you need to divide by PI, and multiply by 180\r\n    // round number, avoid decimal fragments\r\n    const degrees = (360+Math.round(180*angle/Math.PI))%360;\r\n    if(deg == true){\r\n      return degrees\r\n    }\r\n    return degrees * Math.PI / 180;\r\n  }\r\n  _isVectorCheck(args){\r\n    if(args.length == 1 && (args[0] instanceof Vector)){\r\n      return args[0];\r\n    }\r\n    return new Vector(...args);\r\n  }\r\n  set(...vector){\r\n    const { x, y, z } = this._isVectorCheck(vector);\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n  }\r\n  add(...vector){\r\n    const { x, y, z } = this._isVectorCheck(vector);\r\n    this.x += x;\r\n    this.y += y;\r\n    this.z += z;\r\n    return this;\r\n  }\r\n  sub(...vector){\r\n    const { x, y, z } = this._isVectorCheck(vector);\r\n    this.x -= x;\r\n    this.y -= y;\r\n    this.z -= z;\r\n    return this;\r\n  }\r\n  div(...vector){\r\n    const { x, y, z } = this._isVectorCheck(vector);\r\n    this.x /= x;\r\n    this.y /= y;\r\n    this.z /= z;\r\n    return this;\r\n  }\r\n  mul(...vector){\r\n    const { x, y, z } = this._isVectorCheck(vector);\r\n    this.x *= x;\r\n    this.y *= y;\r\n    this.z *= z;\r\n    return this;\r\n  }\r\n  mag(){\r\n    return Math.sqrt(this.magSq());\r\n  }\r\n  magSq(){\r\n    let x = this.x;\r\n    let y = this.y;\r\n    let z = this.z;\r\n    return x * x + y * y + z * z;\r\n  }\r\n  limit(max){\r\n    var mSq = this.magSq();\r\n    if(mSq > max * max){\r\n      this.div(Math.sqrt(mSq)).mul(max);\r\n    }\r\n    return this;\r\n  }\r\n  copy(){\r\n    return new Vector(this.x, this.y, this.z);\r\n  }\r\n  normalize(scale){\r\n    scale = scale || 1;\r\n    if(typeof scale !== 'number'){\r\n      throw new Error(`Invalid normalize scaling, expecting number`);\r\n    }\r\n    let m = this.mag();\r\n    if(m != 0){\r\n      this.x = scale * this.x / m;\r\n      this.y = scale * this.y / m;\r\n      this.z = scale * this.z / m;\r\n    }\r\n    return this\r\n  }\r\n  dist(...vector){\r\n    return (this._isVectorCheck(vector)).copy().sub(this);\r\n  }\r\n  static div(v1, v2){\r\n    if(!(v1 instanceof Vector) || !(v2 instanceof Vector)){\r\n      throw new Error(`Invalid argument, expecting Vector got in : Vector->div`);\r\n    }\r\n    let cp = v1.copy();\r\n    return cp.div(v2);\r\n  }\r\n  static add(v1, v2){\r\n    if(!(v1 instanceof Vector) || !(v2 instanceof Vector)){\r\n      throw new Error('Invalid static vector add argument, expecting vectors');\r\n    }\r\n    return v1.copy().add(v2);\r\n  }\r\n  static sub(v1, v2){\r\n    if(!(v1 instanceof Vector) || !(v2 instanceof Vector)){\r\n      throw new Error('Invalid static vector sub argument, expecting vectors');\r\n    }\r\n    return v1.copy().sub(v2);\r\n  }\r\n  static mul(v1, v2){\r\n    if(!(v1 instanceof Vector) || !(v2 instanceof Vector)){\r\n      throw new Error('Invalid static vector div argument, expecting vectors');\r\n    }\r\n    let cp = v1.copy();\r\n    return cp.mul(v2);\r\n  }\r\n  static dist(v1, v2){\r\n    if(!(v1 instanceof Vector) || !(v2 instanceof Vector)){\r\n      throw new Error('Invalid static vector div argument, expecting vectors');\r\n    }\r\n    return v.copy().sub(this);\r\n  }\r\n  static fromAngle(angle, len){\r\n    return new VectorFromAngle(angle, len);\r\n  }\r\n}\r\n\r\n\r\nexport class VectorFromAngle extends Vector{\r\n  constructor(angle, len = 1){\r\n    super();\r\n    if(typeof angle !== 'number' || typeof len !== 'number'){\r\n      throw new Error(`Expecting angle and length to be valid numbers got : a[${typeof angle}] - l[${typeof len}]`);\r\n    }\r\n    const { x, y, z } = this._getAngle(angle, len);\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n  }\r\n  _getAngle(a, len){\r\n    return {x: len * Math.cos(a), y: len * Math.sin(a), z: 0};\r\n  }\r\n}\r\n\r\n// vector shorthand\r\nexport const vector = (...args) => new Vector(...args);\r\nexport const vectorFromAngle = (...args) => new VectorFromAngle(...args);","import Tool, { Cursor } from './tool.js';\r\nimport { vector } from '~/utils/vector.js';\r\n\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';\r\n\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nimport { PixelCursor, ShapeLayer } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nconst bresenham = (v0, v1, callback) => {\r\n  let dx = Math.abs(v1.x - v0.x);\r\n  let dy = Math.abs(v1.y - v0.y);\r\n  let sx = (v0.x < v1.x) ? 1 : -1;\r\n  let sy = (v0.y < v1.y) ? 1 : -1;\r\n  let err = dx - dy;\r\n\r\n  let local = {v0: {...v0}, v1: {...v1}};\r\n\r\n  while(true){\r\n    // do callback\r\n    callback(local.v0.x, local.v0.y); \r\n\r\n    if((local.v0.x === local.v1.x) && (local.v0.y === local.v1.y)) break;\r\n    const e2 = 2*err;\r\n    if (e2 > -dy) { err -= dy; local.v0.x += sx; }\r\n    if (e2 < dx) { err += dx; local.v0.y += sy; }\r\n  }\r\n}\r\n\r\nexport default class Line extends Tool{\r\n  constructor(withHotkeys = true){\r\n    super();\r\n\r\n    if(withHotkeys){\r\n      \r\n      this.hotkeysGroups = ['line'];\r\n      HotkeysManager.set(['Escape'], { data: {action: ActionsManager.action('tool_action'), props: _ => this.clear() }, groups: this.hotkeysGroups });\r\n      HotkeysManager.set(['AltLeft'], { groups: this.hotkeysGroups })\r\n      .on(_ => {\r\n        ActionsManager.execute('spritesheet_set_active_tool', 'eyedropper');\r\n      })\r\n      .off(_ => {\r\n        ActionsManager.execute('spritesheet_set_active_tool', 'line');\r\n      });\r\n    }\r\n\r\n    this.ShapeLayer = ShapeLayer;\r\n    this.cursorLayers = [\r\n      this.ShapeLayer,\r\n      PixelCursor,\r\n    ];\r\n\r\n    this.title = 'Line (L)';\r\n    this.name = 'line';\r\n    this.enum = 'line';\r\n    this.weight = 85;\r\n    this.visible_in_toolbar = true;\r\n    this.icon = 'M23,3.807L20.168,1L1,20.189L3.81,23L23,3.807z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z',\r\n      size: {\r\n        width: 56,\r\n        height: 56,\r\n      },\r\n      offset: {\r\n        x: 5, \r\n        y: 5\r\n      }\r\n    });\r\n\r\n    // what line algorithm should be used?\r\n    this.algorithm = bresenham;\r\n    // points\r\n    this.points = {\r\n      start: undefined,\r\n      end: undefined  \r\n    }\r\n    this.drawStack = {};\r\n    // keep track on if canvas has been clicked\r\n    // else move calls registeres outside the canvas area \r\n    this.mouseIsDown = false;\r\n  }\r\n\r\n  primary(props){\r\n    const { x, y } = props.realMousePosition;\r\n    if(!this.points.start){\r\n      this.points.start = vector(x, y);\r\n    }\r\n    this.mouseIsDown = true;\r\n  }\r\n  clear(){\r\n    this.drawStack = {};\r\n    this.points.start = undefined;\r\n    this.points.end = undefined;\r\n    this.ShapeLayer.clear();  \r\n  }\r\n  secondary(props){\r\n    this.clear();\r\n  }\r\n  move(props){\r\n    const { x, y } = props.realMousePosition;\r\n    // update cursor position\r\n    PixelCursor.x = x;\r\n    PixelCursor.y = y;\r\n    if(!(this.points.start)) return;\r\n\r\n    this.points.end = vector(x, y);\r\n    // overlay canvas\r\n    this.ShapeLayer.clear();\r\n    this.drawStack = {};\r\n    this.algorithm(this.points.start, this.points.end, (x, y) => {\r\n      if(!(x >= 0 && x < 128 && y >= 0 && y < 128)) return;\r\n      this.drawStack[`${y}-${x}`] = { x, y };\r\n    });\r\n\r\n    Object.entries(this.drawStack).forEach(([_, { x, y}]) => {\r\n      this.ShapeLayer.add({ x, y, color: Palettes.stores.activeLayer.get().colors[Palettes.stores.selectedColor.get()].rgb });\r\n    });\r\n  }\r\n  mouseup(){\r\n    if(!this.points.start || !this.points.end ) return;\r\n    // process the information to draw the line\r\n    const spritesheet = Spritesheets.stores.activeLayer.get()\r\n    spritesheet.saveHistory();\r\n    const data = spritesheet?.data;\r\n    if(data){\r\n      Object.entries(this.drawStack).forEach(([_, { x, y}]) => {\r\n        const row = Math.floor(y / 8);\r\n        const col = Math.floor(x / 8);\r\n        const _y = Math.floor(y % 8);\r\n        const _x = Math.floor(x % 8);\r\n  \r\n        data[row][col][_y][_x] = Palettes.stores.selectedColor.get();\r\n      });\r\n    }\r\n    this.ShapeLayer.clear();\r\n    // update canvas\r\n    spritesheet.forceUpdate();\r\n    // process the information to draw the line\r\n    spritesheet.setPresent();\r\n    // reset \r\n    this.clear();\r\n  }\r\n}\r\n","import Tool, { Cursor } from './tool.js';\r\nimport { vector } from '~/utils/vector.js';\r\n\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';\r\n\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nimport { PixelCursor, ShapeLayer } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nconst ellipse2 = (xc, yc, a, b, callback) => {\r\n  /* e(x,y) = b^2*x^2 + a^2*y^2 - a^2*b^2 */\r\n  let x = 0; \r\n  let y = b;\r\n  let a2 = a*a;\r\n  let b2 = b*b;\r\n  let crit1 = -(a2/4 + a%2 + b2);\r\n  let crit2 = -(b2/4 + b%2 + a2);\r\n  let crit3 = -(b2/4 + b%2);\r\n  let t = -a2*y; /* e(x+1/2,y-1/2) - (a^2+b^2)/4 */\r\n  let dxt = 2*b2*x, dyt = -2*a2*y;\r\n  let d2xt = 2*b2, d2yt = 2*a2;\r\n\r\n  const incx = () => (x++, dxt += d2xt, t += dxt)\r\n  const incy = () => (y--, dyt += d2yt, t += dyt)\r\n\r\n  while (y>=0 && x<=a){\r\n    callback(xc+x, yc+y);\r\n    if (x!=0 || y!=0){\r\n      callback(xc-x, yc-y);\r\n    }\r\n    if (x!=0 && y!=0) {\r\n      callback(xc+x, yc-y);\r\n      callback(xc-x, yc+y);\r\n    }\r\n    if (t + b2*x <= crit1 ||   /* e(x+1,y-1/2) <= 0 */\r\n        t + a2*y <= crit3){     /* e(x+1/2,y) <= 0 */\r\n      incx();\r\n    }else if (t - a2*y > crit2){ /* e(x+1/2,y-1) > 0 */\r\n      incy();\r\n    }else {\r\n      incx();\r\n      incy();\r\n    }\r\n  }\r\n\r\n}\r\n\r\nconst ellipsePlotPoints = (xc,yc,  x,  y, callback) => {\r\n  callback(xc + x, yc + y);\r\n  callback(xc - x, yc + y);\r\n  callback(xc + x, yc - y);\r\n  callback(xc - x, yc - y);\r\n}\r\n\r\nconst ellipse = (xc,yc,  a,  b, callback) => {\r\n  let a2 = a * a;\r\n  let b2 = b * b;\r\n  let twoa2 = 2 * a2;\r\n  let twob2 = 2 * b2;\r\n  let p;\r\n  let x = 0;\r\n  let y = b;\r\n  let px = 0;\r\n  let py = twoa2 * y;\r\n\r\n  /* Plot the initial point in each quadrant. */\r\n  ellipsePlotPoints(xc,yc, x, y, callback);\r\n\r\n  /* Region 1 */\r\n  p = Math.round (b2 - (a2 * b) + (0.25 * a2));\r\n  while(px < py){\r\n    x++;\r\n    px += twob2;\r\n    if (p < 0){\r\n      p += b2 + px;\r\n    }else{\r\n      y--;\r\n      py -= twoa2;\r\n      p += b2 + px - py;\r\n    }\r\n    ellipsePlotPoints(xc,yc, x, y, callback);\r\n  }\r\n\r\n  /* Region 2 */\r\n  p = Math.round (b2 * (x+0.5) * (x+0.5) + a2 * (y-1) * (y-1) - a2 * b2);\r\n  while (y > 0) {\r\n    y--;\r\n    py -= twoa2;\r\n    if (p > 0){\r\n      p += a2 - py;\r\n    }else{\r\n      x++;\r\n      px += twob2;\r\n      p += a2 - py + px;\r\n    }\r\n    ellipsePlotPoints (xc,yc, x, y, callback);\r\n  }\r\n}\r\n\r\nfunction Barrera4(x0, y0, radius, _, callback) {\r\n  let x = 0;\r\n  let y = radius;\r\n  let d = -(radius >>> 1);\r\n\r\n  while(x <= y) {\r\n    callback(x + x0, y + y0);\r\n    callback(y + x0, x + y0);\r\n    callback(-x + x0, y + y0);\r\n    callback(-y + x0, x + y0);\r\n    callback(-x + x0, -y + y0);\r\n    callback(-y + x0, -x + y0);\r\n    callback(x + x0, -y + y0);\r\n    callback(y + x0, -x + y0);\r\n\r\n    if(d <= 0) {\r\n        x++;\r\n        d += x;\r\n    } else {\r\n        y--;\r\n        d -= y;\r\n    }\r\n  }\r\n}\r\n\r\nconst MidPoint = (x0, y0, radius, _, callback) => {\r\n  let x = radius;\r\n  let y = 0;\r\n  let radiusError = 1 - x;\r\n\r\n  while(x >= y){\r\n    callback(x + x0, y + y0);\r\n    callback(y + x0, x + y0);\r\n    callback(-x + x0, y + y0);\r\n    callback(-y + x0, x + y0);\r\n    callback(-x + x0, -y + y0);\r\n    callback(-y + x0, -x + y0);\r\n    callback(x + x0, -y + y0);\r\n    callback(y + x0, -x + y0);\r\n    y++;\r\n    \r\n    if(radiusError < 0){\r\n      radiusError += 2 * y + 1;\r\n    }else{\r\n      x--;\r\n      radiusError+= 2 * (y - x + 1);\r\n    }\r\n  }\r\n};\r\n\r\n\r\nexport default class Circle extends Tool{\r\n  constructor(withHotkeys = true){\r\n    super();\r\n\r\n    if(withHotkeys){\r\n      this.hotkeysGroups = ['circle'];\r\n      HotkeysManager.set(['Escape'], { data: {action: ActionsManager.action('tool_action'), props: _ => this.clear() }, groups: this.hotkeysGroups });\r\n      HotkeysManager.set(['AltLeft'], { groups: this.hotkeysGroups })\r\n      .on(_ => {\r\n        ActionsManager.execute('spritesheet_set_active_tool', 'eyedropper');\r\n      })\r\n      .off(_ => {\r\n        ActionsManager.execute('spritesheet_set_active_tool', 'circle');\r\n      });\r\n    }\r\n\r\n    this.ShapeLayer = ShapeLayer;\r\n    this.cursorLayers = [\r\n      PixelCursor,\r\n      this.ShapeLayer,\r\n    ];\r\n\r\n    this.title = 'Circle (C)';\r\n    this.name = 'circle';\r\n    this.enum = 'circle';\r\n    this.weight = 86;\r\n    this.visible_in_toolbar = true;\r\n    this.icon = 'M12,0C5.373,0,0,5.373,0,12s5.373,12,12,12s12-5.373,12-12S18.627,0,12,0z M12,20.25c-4.549,0-8.25-3.701-8.25-8.25c0-4.549,3.701-8.25,8.25-8.25c4.549,0,8.25,3.701,8.25,8.25C20.25,16.549,16.549,20.25,12,20.25z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z',\r\n      size: {\r\n        width: 56,\r\n        height: 56,\r\n      },\r\n      offset: {\r\n        x: 5, \r\n        y: 5\r\n      }\r\n    });\r\n\r\n    // what line algorithm should be used?\r\n    this.algorithm = ellipse;\r\n    // points\r\n    this.points = {\r\n      start: undefined,\r\n      end: undefined  \r\n    }\r\n    this.drawStack = {};\r\n    // keep track on if canvas has been clicked\r\n    // else move calls registeres outside the canvas area \r\n    this.mouseIsDown = false;\r\n  }\r\n\r\n  primary(props){\r\n    const { x, y } = props.realMousePosition;\r\n    if(!this.points.start){\r\n      this.points.start = vector(x, y);\r\n    }\r\n    this.mouseIsDown = true;\r\n  }\r\n  clear(){\r\n    this.drawStack = {};\r\n    this.points.start = undefined;\r\n    this.points.end = undefined;\r\n    this.ShapeLayer.clear();  \r\n  }\r\n  secondary(props){\r\n    this.clear();\r\n  }\r\n  move(props){\r\n    const { x, y } = props.realMousePosition;\r\n    // update cursor position\r\n    PixelCursor.x = x;\r\n    PixelCursor.y = y;\r\n    if(!(this.points.start)) return;\r\n    this.points.end = vector(x, y);\r\n    // overlay canvas\r\n    this.ShapeLayer.clear();\r\n    this.drawStack = {};\r\n    let end = {\r\n      x: Math.abs(this.points.end.x - this.points.start.x), \r\n      y: Math.abs(this.points.end.y - this.points.start.y) \r\n    }\r\n    if(props.shiftKey){\r\n      const size = Math.max(end.x, end.y);\r\n      end.x = size;\r\n      end.y = size;\r\n    }\r\n    this.algorithm(this.points.start.x, this.points.start.y, end.x, end.y, (x, y) => {\r\n      this.drawStack[`${x}-${y}`] = { x, y };\r\n    });\r\n    Object.entries(this.drawStack).forEach(([_, { x, y }]) => {\r\n      this.ShapeLayer.add({ x, y, color: Palettes.stores.activeLayer.get().colors[Palettes.stores.selectedColor.get()].rgb });\r\n    });\r\n  }\r\n  mouseup(){\r\n    if(!this.points.start || !this.points.end ) return;\r\n    // process the information to draw the line\r\n    const spritesheet = Spritesheets.stores.activeLayer.get()\r\n    spritesheet.saveHistory();\r\n    const data = spritesheet?.data;\r\n    if(data){\r\n      Object.entries(this.drawStack).forEach(([_, { x, y}]) => {\r\n        // this.ShapeLayer.draw({ x, y });\r\n        const row = Math.floor(y / 8);\r\n        const col = Math.floor(x / 8);\r\n        const _y = Math.floor(y % 8);\r\n        const _x = Math.floor(x % 8);\r\n        if(data[row] && data[row][col] && data[row][col][_y] && data[row][col][_y][_x] != undefined){\r\n          data[row][col][_y][_x] = Palettes.stores.selectedColor.get();\r\n        }\r\n      });\r\n    }\r\n    this.ShapeLayer.clear();\r\n    // update canvas\r\n    spritesheet.forceUpdate();\r\n    // process the information to draw the line\r\n    spritesheet.setPresent();\r\n\r\n    // reset \r\n    // NOTE: should the end be considered the start now so we \r\n    // can draw a line from the last position?\r\n    // this.points.start = this.points.end;\r\n    this.points.start = undefined;\r\n    this.points.end = undefined;\r\n    this.mouseIsDown = false;\r\n  }\r\n}\r\n","import { writable } from '~/utils/store';\r\nimport { Enum } from 'enums-manager';\r\n\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';;\r\n\r\n// temp \r\nimport Tool, { ToolTypes } from './tools/tool.js';\r\nexport { ToolTypes };\r\n\r\n// tools\r\nimport Pointer from './tools/pointer.js';\r\nimport Pen from './tools/pen.js';\r\nimport Eyedropper from './tools/eyedropper.js';\r\nimport Paintbucket from './tools/paintbucket.js';\r\nimport Colorswap from './tools/colorswap.js';\r\nimport Tileswap from './tools/tileswap.js';\r\nimport Transform from './tools/transform.js';\r\nimport Marquee from './tools/marquee.js';\r\nimport ColorAttribute from './tools/colorattribute.js';\r\nimport Preview from './tools/preview.js';\r\nimport Brush from './tools/brush.js'\r\nimport Zoom from './tools/zoom.js';\r\nimport Text from './tools/text.js';\r\nimport Line from './tools/line.js';\r\nimport Circle from './tools/circle.js';\r\n\r\nexport const mapped = {\r\n  pointer: new Pointer(),\r\n  pen: new Pen(),\r\n  eyedropper: new Eyedropper(),\r\n  paintbucket: new Paintbucket(),\r\n  colorswap: new Colorswap(),\r\n  tileswap: new Tileswap(),\r\n  transform: new Transform(),\r\n  marquee: new Marquee(),\r\n  colorattribute: new ColorAttribute(),\r\n  preview: new Preview(),\r\n  brush: new Brush(), // pattern brush\r\n  zoom: new Zoom(),\r\n  text: new Text(),\r\n  line: new Line(),\r\n  circle: new Circle(),\r\n};\r\n\r\nexport const Toolbar = {\r\n  tools: mapped, \r\n  activeTool: writable(undefined, ({ value, store, get }) => {\r\n    return {\r\n      setActive(_enum){\r\n        if(!(_enum instanceof Enum)){\r\n          throw new Error(`Invalid tool`);\r\n        }\r\n        const prev = get();\r\n        if(prev instanceof Tool){\r\n          prev.onDestroy();\r\n        }\r\n        const instance = mapped[_enum.key];\r\n        const { cursor } = instance;\r\n        // fallback cursor\r\n        let type = 'default';\r\n        // overwrite cursor if one is defined on the tool\r\n        if(cursor && cursor.icon){\r\n          type = `url(\"data:image/svg+xml,%3Csvg transform='' xmlns='http://www.w3.org/2000/svg' width='${cursor.size.width}' height='${cursor.size.height}' viewBox='0 0 100 100' xml:space='preserve'%3E %3Cpath fill='white' stroke='black' stroke-width='${cursor.stroke || 2}' d='${cursor.icon}'/%3E %3C/svg%3E\") ${cursor.offset.x} ${cursor.offset.y}, auto`\r\n        }\r\n\r\n        // weird hack to make the cursor change if we are not moving it. \r\n        // otherwise it will be the same cursor until the mouse is moved\r\n        document.body.style.cursor = 'default';\r\n        // set new icon to css variable\r\n        document.documentElement.style.setProperty('--canvas-cursor', type);\r\n        store.set(instance);\r\n\r\n        // activate keyboard shortcuts\r\n        if(Array.isArray(instance.hotkeysGroups)){\r\n          // TODO: refactor this so it isn't tied to the spritesheets. We might want tools in other sections\r\n          // but for now this will work\r\n          HotkeysManager.enableGroups('*', 'spritesheets', ...instance.hotkeysGroups);\r\n        }\r\n      }\r\n    }\r\n  })\r\n};\r\n\r\nToolbar.activeTool.setActive(ToolTypes.get('pointer'));\r\n\r\n// tool actions\r\nconst execute = (t, ...args) => {\r\n  if(t){\r\n    t.call(Toolbar.activeTool.get(), ...args);\r\n  }\r\n}\r\n\r\nexport const primary = (...args) => execute(Toolbar.activeTool.get()?.primary, ...args);\r\nexport const secondary = (...args) => execute(Toolbar.activeTool.get()?.secondary, ...args);\r\nexport const move = (...args) => execute(Toolbar.activeTool.get()?.move, ...args);\r\nexport const mouseup = (...args) => execute(Toolbar.activeTool.get()?.mouseup, ...args);","import { push as PushNotification } from '~/_components/ToastNotifications.svelte';\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\nimport Config from '~/nesbit.config';\r\n\r\nimport { Project } from '~/stores/project.store.js';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\nimport { Tilemaps } from '~/stores/tilemaps.store.js';\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\n\r\n// electron only actions \r\nif(globalThis.electron){\r\n  // window actions\r\n  ActionsManager.register('window_close', _ => globalThis.electron.quit());\r\n  ActionsManager.register('window_minimize', _ => globalThis.electron.minimize());\r\n  ActionsManager.register('window_maximize', _ => globalThis.electron.maximize());\r\n  ActionsManager.register('window_toggle_fullscreen', _ => globalThis.electron.toggleFullscreen());\r\n\r\n  // build project\r\n  ActionsManager.register('project_build', () => {\r\n    console.warn('Not implemented');\r\n  });\r\n  \r\n  ActionsManager.register('project_build_run', () => {\r\n    // NOTE: chr, nametable and attributetable should later be the level and game data \r\n    const chr = Spritesheets.exportCHR().data;\r\n\r\n    //\r\n    const nametableData = Tilemaps.exportNametableData('nametable');\r\n\r\n    // NOTE: temporary grab the first 8 palettes\r\n    const palettes = Palettes.exportASMString();\r\n    globalThis.electron.spawnChildProcess({ chr, palettes, nametables: [nametableData] });\r\n  });\r\n\r\n  ActionsManager.register('project_run', () => {\r\n    console.warn('Not implemented');\r\n  });\r\n\r\n  // project actions\r\n  ActionsManager.register('project_save', async _ => {\r\n    const path = Project.get().path;\r\n    if(path){\r\n      globalThis.electron.save(path, Project.export(true)).then((res) => {\r\n        // TODO: dispatch modal notification that the project saved correctly\r\n        PushNotification({\r\n          message: `Successfully saved project`,\r\n          variant: 'success'\r\n        });\r\n      });\r\n    }else{\r\n      ActionsManager.execute('project_save_as');\r\n    }\r\n  });\r\n  \r\n  ActionsManager.register('project_save_as', async _ => {\r\n    const { canceled, filePath } = await globalThis.electron.openSaveDialog([Config.filetypes.project.save.extension]);\r\n    if(!canceled){\r\n      // save project\r\n      globalThis.electron.save(filePath, Project.export(true)).then((path) => {\r\n        // TODO: dispatch modal notification that the project saved correctly\r\n        Project.update((store) => {\r\n          store.path = path;\r\n          return store;\r\n        })\r\n      });\r\n      PushNotification({\r\n        message: `Successfully saved project`,\r\n        variant: 'success'\r\n      });\r\n    }\r\n  });\r\n\r\n  ActionsManager.register('project_open', async (filepath) => {\r\n    // TODO: open prompt if the current project should be saved before continuing with \r\n    // open the new project and replacing the old one.\r\n    const loadProject = async (path) => {\r\n      let { filePath, data } = await globalThis.electron.readFileDataFromPath(path, 'utf8');\r\n      Project.open(filePath, data);\r\n    }\r\n    if(filepath){\r\n      loadProject(filepath);\r\n      return;\r\n    }\r\n    // get the filepath location to the project file\r\n    const { canceled, filePaths } = await globalThis.electron.openFileDialog([Config.filetypes.project.save.extension]);\r\n    if(!canceled && Array.isArray(filePaths)){\r\n      // read the data from the filepath\r\n      for(const filepath of filePaths){\r\n        loadProject(filepath);\r\n      }\r\n\r\n      PushNotification({\r\n        message: `Successfully opened project`,\r\n        variant: 'success'\r\n      });\r\n    }\r\n  });\r\n\r\n  // external links\r\n  ActionsManager.register('external_link', href => globalThis.electron.externalLink(href));\r\n\r\n  \r\n  // palettes\r\n  ActionsManager.register('palette_export', async _ => {\r\n    const data = Palettes.export(true);    \r\n    const { canceled, filePath } = await globalThis.electron.openSaveDialog([Config.filetypes.palettes.save.extension]);\r\n    if(!canceled && typeof filePath == 'string'){\r\n      await globalThis.electron.saveAs(filePath, data);\r\n      PushNotification({\r\n        message: `Successfully exported palettes`,\r\n        variant: 'success'\r\n      });\r\n    }\r\n  });\r\n\r\n  // import from file\r\n  ActionsManager.register('palette_import', async _ => {\r\n    const { canceled, filePaths } = await globalThis.electron.openFileDialog([Config.filetypes.palettes.save.extension]);\r\n    if(!canceled && Array.isArray(filePaths)){\r\n      for(const path of filePaths){\r\n        const { filePath, data } = await globalThis.electron.readFileDataFromPath(path, 'utf8');\r\n        Palettes.import(data);\r\n      }\r\n      PushNotification({\r\n        message: `Successfully imported palettes`,\r\n        variant: 'success'\r\n      });\r\n    }\r\n  });\r\n\r\n  // spritesheets\r\n  ActionsManager.register('spritesheet_import', async _ => {\r\n    const { canceled, filePaths } = await globalThis.electron.openFileDialog([Config.filetypes.spritesheets.save.extension]);\r\n    if(!canceled && Array.isArray(filePaths)){\r\n      for(const path of filePaths){\r\n        const { filePath, data } = await globalThis.electron.readFileDataFromPath(path, 'utf8');\r\n        Spritesheets.import(data);\r\n      }\r\n      PushNotification({\r\n        message: `Successfully imported spritesheets`,\r\n        variant: 'success'\r\n      });\r\n    }\r\n  });\r\n\r\n  ActionsManager.register('spritesheet_import_chr', async _ => {\r\n    const { canceled, filePaths } = await globalThis.electron.openFileDialog(['chr']);\r\n    if(!canceled && Array.isArray(filePaths)){\r\n      for(const path of filePaths){\r\n        const { filePath, data } = await globalThis.electron.readFileDataFromPath(path);\r\n        Spritesheets.importCHR(data);\r\n      }\r\n\r\n      PushNotification({\r\n        message: `Successfully imported chr`,\r\n        variant: 'success'\r\n      });\r\n    }\r\n  });\r\n\r\n  ActionsManager.register('spritesheet_export_chr', async _ => {\r\n    const { label, data } = Spritesheets.exportCHR();\r\n    // saveDialog(filename(label, 'chr'), data);\r\n    const { canceled, filePath } = await globalThis.electron.openSaveDialog(['chr']);\r\n    if(!canceled && typeof filePath == 'string'){\r\n      await globalThis.electron.saveAs(filePath, data);\r\n      PushNotification({\r\n        message: `Successfully exported chr`,\r\n        variant: 'success'\r\n      });\r\n    }\r\n  });\r\n\r\n  ActionsManager.register('spritesheet_export', async _ => {\r\n    const { canceled, filePath } = await globalThis.electron.openSaveDialog([Config.filetypes.spritesheets.save.extension]);\r\n    if(!canceled && typeof filePath == 'string'){\r\n      await globalThis.electron.saveAs(filePath, Spritesheets.export(true));\r\n      PushNotification({\r\n        message: `Successfully exported spritesheets`,\r\n        variant: 'success'\r\n      });\r\n    }\r\n  });\r\n\r\n  ActionsManager.register('spritesheet_export_png', async (e) => {  \r\n    const { canceled, filePath } = await globalThis.electron.openSaveDialog(['png']);\r\n    if(!canceled && typeof filePath == 'string'){\r\n      Spritesheets.exportAsImage(async ({ buffer }) => {\r\n        await globalThis.electron.saveBufferAs(filePath, buffer);\r\n        PushNotification({\r\n          message: `Successfully exported png`,\r\n          variant: 'success'\r\n        });\r\n      });\r\n    }\r\n  });\r\n}","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","import { saveAs } from 'file-saver';\r\n\r\nexport const filename = (filename, extension) => {\r\n  const d = new Date();\r\n  const date = `${String(d.getFullYear())}_${String(d.getMonth()).padStart(2, '0')}_${String(d.getDay()).padStart(2, '0')}`;\r\n  return `${date}_${filename}.${extension}`;\r\n}\r\n\r\nexport const fileDialog = (accept = [], callback = _ => _, options = { readAs: 'text'}) => {\r\n  if(!Array.isArray(accept)){\r\n    throw new Error(`Invalid 'fileDialog' accept. Expecting array of file extentions`);\r\n  }\r\n  if(typeof callback !== 'function'){\r\n    throw new Error(`Invalid 'fileDialog' callback function`);\r\n  }\r\n  const  input = document.createElement('input');\r\n  input.type = 'file';\r\n  input.accept = accept.map(ext => ext.startsWith('.') ? ext : '.' + ext).join(',');\r\n  \r\n  input.addEventListener('change', e => { \r\n    // getting a hold of the file reference\r\n    const file = e.target.files[0]; \r\n\r\n    // setting up the reader\r\n    const reader = new FileReader();\r\n\r\n    switch(options.readAs){\r\n      case 'binary':\r\n        reader.readAsBinaryString(file);\r\n      break;\r\n      case 'arraybuffer':\r\n        reader.readAsArrayBuffer(file);\r\n      break;\r\n      case 'text':\r\n      default:\r\n        reader.readAsText(file, options.encoding || 'utf-8');\r\n      break;\r\n    }\r\n\r\n    // here we tell the reader what to do when it's done reading...\r\n    reader.addEventListener('load', (e) => {\r\n      // call the palette import\r\n      callback.call(null, file, e.target.result);\r\n    });\r\n  });\r\n  \r\n  // execute it\r\n  input.click();\r\n}\r\n\r\nexport const saveDialog = (filename, data, options = {}) => {\r\n  const blob = new Blob([data], { type: options.type || \"application/json;charset=utf-8\" });\r\n  saveAs(blob, filename);\r\n}","import { push as PushNotification } from '~/_components/ToastNotifications.svelte';\r\n\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\nimport { fileDialog, saveDialog, filename } from '~/utils/file.js';\r\nimport Config from '~/nesbit.config';\r\n\r\nimport { Project } from '~/stores/project.store.js';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\nimport { Tilemaps } from '~/stores/tilemaps.store';\r\n\r\n// webapp only actions\r\nif(!globalThis.electron){\r\n  ActionsManager.register('window_close', _ => _);\r\n  ActionsManager.register('window_minimize', _ => document.exitFullscreen());\r\n  ActionsManager.register('window_maximize', _ => ActionsManager.execute('window_toggle_fullscreen'));\r\n  \r\n  ActionsManager.register('window_toggle_fullscreen', () => {\r\n    if(!document.fullscreenElement){\r\n      document.documentElement.requestFullscreen();\r\n    }else{\r\n      document.exitFullscreen();\r\n    }\r\n  });\r\n\r\n  // project\r\n  // import file programmatically in the webversion\r\n  ActionsManager.register('project_open', (e) => {\r\n    fileDialog([Config.filetypes.project.save.extension], (file, data) => {\r\n      // TODO: implement localstorage project management \r\n      // Project.open(file.name, data);\r\n      Project.open(undefined, data);\r\n      PushNotification({\r\n        message: `Successfully opened project`,\r\n        variant: 'success'\r\n      });\r\n    });\r\n  });\r\n\r\n  ActionsManager.register('project_save', (e) => {\r\n    saveDialog(filename('insert_projectname', Config.filetypes.project.save.extension), Project.export(true));\r\n    PushNotification({\r\n      message: `Successfully saved project`,\r\n      variant: 'success'\r\n    });\r\n  });\r\n\r\n  // palettes\r\n  // import file programmatically in the webversion\r\n  ActionsManager.register('palette_import', (e) => {\r\n    fileDialog([Config.filetypes.palettes.save.extension], (file, data) => {\r\n      Palettes.import(data);\r\n      PushNotification({\r\n        message: `Successfully imported palettes`,\r\n        variant: 'success'\r\n      });\r\n    });\r\n  });\r\n  // export\r\n  ActionsManager.register('palette_export', (e) => {\r\n    saveDialog(filename('palette', Config.filetypes.palettes.save.extension), Palettes.export(true));\r\n    PushNotification({\r\n      message: `Successfully exported palettes`,\r\n      variant: 'success'\r\n    });\r\n  });\r\n\r\n\r\n  // spritesheets\r\n  ActionsManager.register('spritesheet_import', (e) => {\r\n    fileDialog([Config.filetypes.spritesheets.save.extension], (file, data) => {\r\n      Spritesheets.import(data);\r\n      PushNotification({\r\n        message: `Successfully imported spritesheets`,\r\n        variant: 'success'\r\n      });\r\n    });\r\n  });\r\n\r\n  ActionsManager.register('spritesheet_export', (e) => {\r\n    saveDialog(filename('spritesheet', Config.filetypes.spritesheets.save.extension), Spritesheets.export(true));\r\n    PushNotification({\r\n      message: `Successfully exported spritesheets`,\r\n      variant: 'success'\r\n    });\r\n  });\r\n\r\n  ActionsManager.register('spritesheet_import_chr', (e) => {\r\n    fileDialog(['chr'], (file, data) => {\r\n      Spritesheets.importCHR(data);\r\n      PushNotification({\r\n        message: `Successfully imported chr`,\r\n        variant: 'success'\r\n      });\r\n    }, { readAs: 'arraybuffer' });\r\n  });\r\n\r\n  ActionsManager.register('spritesheet_export_chr', (e) => {  \r\n    const { label, data } = Spritesheets.exportCHR();\r\n    saveDialog(filename(label, 'chr'), data);\r\n  });\r\n\r\n  ActionsManager.register('spritesheet_export_png', (e) => {  \r\n    Spritesheets.exportAsImage(({ blob, label, options }) => {\r\n      saveDialog(filename(label, 'png'), blob, { mimetype: blob.type });\r\n      PushNotification({\r\n        message: `Successfully exported png`,\r\n        variant: 'success'\r\n      });\r\n    });\r\n  });\r\n\r\n\r\n  // tilemap\r\n  ActionsManager.register('tilemap_import', (e) => {\r\n    fileDialog([Config.filetypes.tilemaps.save.extension], (file, data) => {\r\n      Tilemaps.import(data);\r\n    });\r\n  });\r\n\r\n  ActionsManager.register('tilemap_export', (e) => {\r\n    saveDialog(filename('tilemap', Config.filetypes.tilemaps.save.extension), Tilemaps.export(true));\r\n  });\r\n\r\n  ActionsManager.register('tilemap_export_nametable', (e) => {\r\n    saveDialog(filename('tilemap_nametable', Config.filetypes.tilemaps.export.extension), Tilemaps.exportNametableData());\r\n  });\r\n\r\n  ActionsManager.register('tilemap_export_png', (e) => {\r\n    Tilemaps.exportAsImage(({ blob, label, options }) => {\r\n      saveDialog(filename(label, 'png'), blob, { mimetype: blob.type });\r\n    });\r\n  });\r\n}","import { centerScrollAndCanvas } from '~/_components/Artboard.svelte'\r\nimport ActionsManager from '~/application/ActionsManager.js';\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';\r\n\r\nimport { Project } from '~/stores/project.store.js';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\n\r\n// sub stores\r\nconst { selectedColor } = Palettes.stores;\r\nimport { Toolbar } from '~/modules/spritesheet_editor/tools';\r\nimport Tool, { ToolTypes, Cursor } from '~/modules/spritesheet_editor/tools/tool.js';\r\nimport './actions/electron.js';\r\nimport './actions/web.js';\r\nimport { Tilemaps } from '../stores/tilemaps.store.js';\r\n\r\nimport { push } from '~/_components/ToastNotifications.svelte';\r\n\r\n/*\r\n\r\n  actions for both applications\r\n\r\n*/\r\n// noop\r\nActionsManager.register('noop', _ => _);\r\n\r\n// themes\r\nActionsManager.register('toggle_theme', _ => document.documentElement.dataset.theme = document.documentElement.dataset.theme == 'dark' ? 'light' : 'dark');\r\nActionsManager.register('light_theme', _ => document.documentElement.dataset.theme = 'light');\r\nActionsManager.register('dark_theme', _ => document.documentElement.dataset.theme = 'dark');\r\n\r\n// project\r\nActionsManager.register('project_create', _ => Project.create());\r\nActionsManager.register('notification', ({ message, variant }) => {\r\n  push({ message, variant });\r\n});\r\n// graphics general\r\nActionsManager.register('graphics_center_artboard', _ => centerScrollAndCanvas());\r\n\r\n\r\n// palettes\r\nActionsManager.register('palette_clear', _ => {Palettes.clear()});\r\nActionsManager.register('palette_create', _ => Palettes.createLayer());\r\nActionsManager.register('palette_remove', source => Palettes.removeLayer(source));\r\nActionsManager.register('palette_clone_layer', source => Palettes.cloneLayer(source));\r\nActionsManager.register('palette_clone_active_layer', _ => Palettes.cloneActiveLayer());\r\nActionsManager.register('palette_make_layer_active', source => Palettes.makeLayerActive(source));\r\nActionsManager.register('palette_swap_layers', ({ to, from }) => Palettes.stores.layers.swapLayers(to, from));\r\nActionsManager.register('palette_update_layer_label', ({ source, label }) => Palettes.updateLayerLabel(source, label));\r\nActionsManager.register('palette_active_color', n => selectedColor.setActiveColorIndex(n));\r\n\r\n// spritesheets\r\nActionsManager.register('spritesheet_clear', _ => Spritesheets.clear());\r\nActionsManager.register('spritesheet_create', _ => Spritesheets.createLayer());\r\nActionsManager.register('spritesheet_remove', index => Spritesheets.removeLayer(index));\r\nActionsManager.register('spritesheet_clone_layer', source => Spritesheets.cloneLayer(source));\r\nActionsManager.register('spritesheet_clone_active_layer', _ => Spritesheets.cloneActiveLayer());\r\nActionsManager.register('spritesheet_make_layer_active', source => Spritesheets.makeLayerActive(source));\r\nActionsManager.register('spritesheet_swap_layers', ({ to, from }) => Spritesheets.stores.layers.swapLayers(to, from));\r\nActionsManager.register('spritesheet_update_layer_label', ({ source, label }) => Spritesheets.updateLayerLabel(source, label));\r\nActionsManager.register('spritesheet_zoom_in', _ => Spritesheets.stores.artboard.zoom(3));\r\nActionsManager.register('spritesheet_zoom_out', _ => Spritesheets.stores.artboard.zoom(-2));\r\nActionsManager.register('spritesheet_zoom_reset', _ => Spritesheets.stores.artboard.zoomReset());\r\nActionsManager.register('spritesheet_set_active_tool', name => {\r\n  // re-enable all groups before switching active tool\r\n  HotkeysManager.enableGroups('*', 'spritesheets');\r\n  // set the new active tool\r\n  Toolbar.activeTool.setActive(ToolTypes.get(name));\r\n});\r\nActionsManager.register('spritesheet_tool_dblclick', _ => {\r\n  const activeTool = Toolbar.activeTool.get();\r\n  if(activeTool){\r\n    if(typeof activeTool.dblclick == 'function'){\r\n      activeTool.dblclick.call(activeTool);\r\n    }\r\n  }\r\n});\r\nActionsManager.register('spritesheet_undo', _ => {\r\n  const activeLayer = Spritesheets.stores.activeLayer.get();\r\n  if(activeLayer){\r\n    activeLayer.undo();\r\n  }\r\n});\r\n\r\nActionsManager.register('spritesheet_redo', _ => {\r\n  const activeLayer = Spritesheets.stores.activeLayer.get();\r\n  if(activeLayer){\r\n    activeLayer.redo();\r\n  }\r\n});\r\n\r\nActionsManager.register('spritesheet_set_selected_tile', (data) => Spritesheets.stores.selectedTile.stores.current.set(data));\r\n\r\n\r\n// tilemaps\r\nActionsManager.register('tilemap_clear', _ => Tilemaps.clear());\r\nActionsManager.register('tilemap_create', () => {\r\n  // create a new blank tilemap\r\n  Tilemaps.createLayer();\r\n});\r\n\r\nActionsManager.register('tilemap_remove', (source) => {\r\n  // remove tilemap\r\n  Tilemaps.removeLayer(source);\r\n});\r\n\r\nActionsManager.register('tilemap_clone_layer', source => Tilemaps.cloneLayer(source));\r\nActionsManager.register('tilemap_clone_active_layer', _ => Tilemaps.cloneActiveLayer());\r\nActionsManager.register('tilemap_make_layer_active', source => Tilemaps.makeLayerActive(source));\r\nActionsManager.register('tilemap_swap_layers', ({ to, from }) => Tilemaps.stores.layers.swapLayers(to, from));\r\nActionsManager.register('tilemap_update_layer_label', ({ source, label }) => Tilemaps.updateLayerLabel(source, label));\r\n// ActionsManager.register('tilemap_zoom', level => view.zoom(level));\r\n// ActionsManager.register('tilemap_zoom_in', _ => view.zoom(get(spritesheetsStore).zoom+1));\r\n// ActionsManager.register('tilemap_zoom_out', _ => view.zoom(get(spritesheetsStore).zoom-1));\r\n// ActionsManager.register('tilemap_zoom_reset', _ => view.zoom());\r\n// ActionsManager.register('tilemap_set_active_tool', _enum => Toolbar.activeTool.setActive(_enum));\r\n\r\n// tools \r\nActionsManager.register('tool_action', (fn) => {\r\n  if(typeof fn !== 'function'){\r\n    throw new Error(`Invalid action call. 'tool_action' expecting a valid function.`);\r\n  }\r\n  fn.call(null);\r\n});","const prepare = (base, route) => {\r\n  // prefix the base to always start with a '/' and remove trailing slash\r\n  base = '/'+base.replace(/^[\\/]+|[\\/]+$/g, '');\r\n  // strip multiple occurences of '/'\r\n  route = (`${base}/${route}`).replace(/[\\/]+/g, '/');\r\n  // remove leading and trailing slashes\r\n  route = route.replace(/^[\\/]+|[\\/]+$/g, '');\r\n  // get if it's explicit or not. could be a factor when determining route based on it's size/weight \r\n  // in terms of what has presedent when two routes would've matched the same url\r\n  const explicit = /\\*$/.test(route);\r\n  // if it's implicit or explicit\r\n  const lazy = explicit ? (route = route.replace(/[\\*]+$/g, ''), ''): '/?$';\r\n  // store parameters\r\n  const parameters = [];\r\n  let index = 0;\r\n  let regexpRoute = route.replace(/(:)?([^\\\\/]+)/g, (parameter, colonParameter, identifier) => {\r\n    const [ param, boundValue ] = identifier.split('->');\r\n    if(colonParameter){\r\n      // check for duplicates\r\n      const duplicates = parameters.filter(old => old.identifier == boundValue); \r\n      if(duplicates.length > 0){\r\n        throw new Error(`Duplicated parameter. [${duplicates.map(_=>_.identifier)}]`);\r\n      }\r\n      // store parameter reference\r\n      parameters.push({\r\n        index: index++,\r\n        parameter,\r\n        identifier: param,\r\n      });\r\n      // bound parameter\r\n      return boundValue ? `(${boundValue})` : `([^\\/]+)`;\r\n    }\r\n    return `${parameter}`;\r\n  });\r\n  regexpRoute = `^/${regexpRoute}${lazy}`;\r\n  return {\r\n    base,\r\n    route,\r\n    regexpRoute,\r\n    parameters,\r\n  }\r\n}\r\n\r\nexport default class Route{\r\n  constructor(base, route, fn, middlewares = []){\r\n    Object.assign(this, prepare(base, route));\r\n    this.callback = fn;\r\n    this.middlewares = middlewares;\r\n  }\r\n}","export class Middleware{\r\n  constructor(...props){\r\n    this.props = props;\r\n  }\r\n  use(fn){\r\n    if(typeof fn != 'function'){\r\n      throw new Error(`Invalid Middleware use argument. Expecting 'function' got : '${typeof fn}'`); \r\n    }\r\n    const f = (stack) => next => stack(fn.bind(this, ...this.props, next));\r\n    this.execute = f(this.execute);\r\n    return this;\r\n  }\r\n  execute(fn){\r\n    return fn.call(null);\r\n  }\r\n}\r\n\r\nexport class Request{\r\n  constructor(props){\r\n    Object.assign(this, {\r\n      base: '',\r\n      path: '',\r\n      route: '',\r\n      query: {},\r\n      params: {},\r\n      state: {}\r\n    }, props);\r\n  }\r\n}\r\n\r\nexport class Response{\r\n  constructor(callbacks){\r\n    Object.assign(this, callbacks);\r\n  }\r\n}\r\n","import Route from './route.js';\r\nimport { Middleware, Request, Response } from './utils.js';\r\n\r\n// router\r\nclass Router{\r\n  constructor(props){\r\n    // store properties and freeze them so not to be able to get modified\r\n    Object.freeze(this.__properties = {\r\n      initial: undefined,\r\n      base: '',\r\n      state: {},\r\n      ...props\r\n    });\r\n    // are we subscribing?\r\n    this.__subscribing = false;\r\n    // store\r\n    this.__get = new Map();\r\n    this.__catch = new Map();\r\n    this.__use = new Set();\r\n  }\r\n  _register(routes, fn, middlewares, list){\r\n    routes.map(route => {\r\n      const r = new Route(this.__properties.base, route, fn, middlewares);\r\n      if(list.has(r.regexpRoute)){\r\n        throw new Error(`Route with same endpoint already exist. [${route}, /${list.get(r.regexpRoute).route}](${r.regexpRoute})`);\r\n      }\r\n      list.set(r.regexpRoute, r);\r\n    });\r\n    return routes;\r\n  }\r\n  _props(...args){\r\n    let routes, fn, middlewares = [];\r\n    if(args.length == 1){\r\n      [ fn ] = args;\r\n      routes = '*';\r\n    }else if(args.length == 2){\r\n      [ routes, fn ] = args;\r\n    }else if(args.length > 2){\r\n      routes = args.shift();\r\n      fn = args.pop();\r\n      middlewares = args;      \r\n    }else{\r\n      throw new Error(`Invalid number prop arguments.`);\r\n    }\r\n    routes = Array.isArray(routes) ? routes : [routes];\r\n    return { routes, fn, middlewares };\r\n  }\r\n  _storeInList(fnName, list, ...args){\r\n    const { routes, fn, middlewares } = this._props(...args);\r\n    const parentRoutes = this._register(routes, fn, middlewares, list);\r\n    // enable chaining to group sub routes to a main route\r\n    // not needed since the routes are store as unique strings in the end \r\n    // but might be a nicer way to organize the implementation\r\n    const ret = {\r\n      [fnName]: (...innerArgs) => {\r\n        const { routes: innerRoutes, fn: innerFn, middlewares: innerMiddlewares } = this._props(...innerArgs);\r\n        parentRoutes.map(route => innerRoutes.map(_ => route + _).map(_ => this[fnName](_, ...[...innerMiddlewares, innerFn])));\r\n        return ret;\r\n      }\r\n    }\r\n    return ret;\r\n  }\r\n  get(...args){\r\n    return this._storeInList('get', this.__get, ...args);\r\n  }\r\n  use(...args){\r\n    const { routes, fn } = this._props(args);\r\n    routes.map(url => this.__use.add(new Route(this.__properties.base, url, ...fn)));\r\n  }\r\n  catch(...args){\r\n    return this._storeInList('catch', this.__catch, ...args);\r\n  }\r\n  _findRoute(url, list, data){\r\n    for(let [ regexpRoute, RouteInstance ] of list){\r\n      const parameters = url.match(new RegExp(regexpRoute, 'i'));\r\n      if(parameters){\r\n        const uri = parameters.shift();\r\n        // update Route with new parameters\r\n        let params = {};\r\n        if(parameters.length > 0){\r\n          // create a parameters object\r\n          params = RouteInstance.parameters.reduce((obj, value, index) => {\r\n            obj[value.identifier] = parameters[index];\r\n            return obj;\r\n          }, params);\r\n        }\r\n        // query parameters\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const queryParameters = {};\r\n        for(const [key, value] of urlParams.entries()){ \r\n          if(queryParameters[key]){\r\n            if(Array.isArray(queryParameters[key])){\r\n              queryParameters[key].push(value);\r\n            }else{\r\n              queryParameters[key] = [queryParameters[key], value];\r\n            }\r\n          }else{\r\n            queryParameters[key] = value;\r\n          }\r\n        }\r\n        // update request object\r\n        const returnObject = { \r\n          RouteInstance,\r\n          Request: new Request({\r\n            path: url,\r\n            route: '/' + RouteInstance.route,\r\n            base: RouteInstance.base,\r\n            query: queryParameters,\r\n            params: params,\r\n            state: { ...data },\r\n          })\r\n        };\r\n        return returnObject;\r\n      }\r\n    }\r\n  }\r\n  execute(url, data = {}){\r\n    if(typeof url != 'string'){\r\n      throw new Error(`Invalid 'execute' argument. Expecting 'string'`);\r\n    }\r\n    if(!this.__subscribing){\r\n      return;\r\n    }\r\n    const response = new Response({\r\n      send: (...props) => this.__router_callback.call(null, ...props),\r\n      error: (props) => {\r\n        const errorsFound = this._findRoute(url, this.__catch, data);\r\n        if(!errorsFound){\r\n          console.warn(`No route or catch fallbacks found for [${url}]`);\r\n          return;\r\n        }\r\n        errorsFound.RouteInstance.callback.call(null, errorsFound.Request, response, props);\r\n      }\r\n    });\r\n    let matchFound = this._findRoute(url, this.__get, data);\r\n    if(!matchFound){\r\n      response.error();\r\n      return;\r\n    }\r\n    let middlewares = [];\r\n    const middleware = new Middleware(matchFound.Request, response);\r\n    this.__use.forEach(middlewareRoute => {\r\n      const RouteInstance = url.match(new RegExp(middlewareRoute.regexpRoute, 'i'));\r\n      if(RouteInstance){\r\n        middlewares.push(middlewareRoute.callback);\r\n      }\r\n    });\r\n    middlewares = [...middlewares, ...matchFound.RouteInstance.middlewares, matchFound.RouteInstance.callback];\r\n    middlewares.map(fn => middleware.use(fn));\r\n    // execute middleware\r\n    middleware.execute();\r\n  }\r\n  subscribe(fn){\r\n    this.__subscribing = true;\r\n    if(typeof fn == 'function'){\r\n      this.__router_callback = fn;\r\n    }\r\n    if(this.__properties.initial){\r\n      this.execute(this.__properties.initial, this.__properties.state);\r\n    }\r\n    return () => {\r\n      this.__subscribing = false;\r\n    }\r\n  }\r\n}\r\n\r\nexport default Router;","import StandaloneRouter from 'standalone-router';\r\nexport class SvelteStandaloneRouterError extends Error{}\r\nexport default class SvelteRouter extends StandaloneRouter{}\r\n\r\n// setting a singleton class with properties for 'global' access\r\nexport let Router = new class RouterProperties{\r\n  constructor(){\r\n    this.__linkBase = '';\r\n    this.__scrollReset = true;\r\n    this.__scrollOffset = 0;\r\n  }\r\n  setLinkBase(value){\r\n    if(typeof value != 'string'){\r\n      throw new SvelteStandaloneRouterError(`Invalid 'linkBase'. Expecting value of type 'string'`);\r\n    }\r\n    return this.__linkBase = value.endsWith('/') ? value : value + '/';\r\n  }\r\n  set linkBase(value){\r\n    return this.setLinkBase(value);\r\n  }\r\n  get linkBase(){\r\n    return this.__linkBase;\r\n  }\r\n  \r\n  // handle scroll reset\r\n  setScrollReset(value){\r\n    if(typeof value != 'boolean'){\r\n      throw new SvelteStandaloneRouterError(`Invalid 'scrollReset'. Expecting value of type 'boolean'`);\r\n    }\r\n    return this.__scrollReset = value;\r\n  }\r\n  set scrollReset(value){\r\n    return this.setScrollReset(value);\r\n  }\r\n  get scrollReset(){\r\n    return this.__scrollReset;\r\n  }\r\n\r\n  // handle scroll reset\r\n  setScrollOffset(value){\r\n    if(typeof value != 'number'){\r\n      throw new SvelteStandaloneRouterError(`Invalid 'scrollOffset'. Expecting value of type 'number'`);\r\n    }\r\n    return this.__scrollOffset = value;\r\n  }\r\n  set scrollOffset(value){\r\n    return this.setScrollOffset(value);\r\n  }\r\n  get scrollOffset(){\r\n    return this.__scrollOffset;\r\n  }\r\n} ","import { Router } from './SvelteStandaloneRouter.js';\r\n\r\n// handle the linkBase in pathname\r\nexport const getPathname = (path) => {\r\n  const re = new RegExp(`^${Router.linkBase}`, 'i');\r\n  path = `/${path}/`.replace(/[\\/]+/g, '/').replace(re, '').replace(/^\\/|\\/$/g, '');\r\n  return '/' + path;\r\n}\r\n\r\n// dispatch custom event\r\nconst dispatch = ({ state }) => {\r\n  dispatchEvent(new CustomEvent('popstate', { \r\n    detail: {\r\n      ...state\r\n    } \r\n  }));\r\n}\r\n\r\n// navigate to a new page and pushing it to the History object\r\nexport const navigate = (url, state = {}) => {\r\n  url = cleanURL(url);\r\n  history.pushState(state, '', url);\r\n  dispatch({ url, state }); \r\n}\r\n\r\n// redirect to a new page and replacing it on the History object\r\nexport const redirect = (url, state = {}) => {\r\n  url = cleanURL(url);\r\n  history.replaceState(state, '', url);\r\n  dispatch({ url, state });\r\n}\r\n\r\n// change url without route change and add it to the History\r\nexport const replace = (url, state = {}) => {\r\n  history.pushState(state, '', cleanURL(url));\r\n}\r\n\r\n// change url without route change and DON'T add it to the History\r\nexport const alter = (url, state = {}) => {\r\n  history.replaceState(state, '', cleanURL(url));\r\n}\r\n\r\n// replace all duplicate '/' that might be going on\r\nexport const cleanURL = (url) => `/${Router.linkBase}/${url}`.replace(/[\\/]+/g, '/');\r\n\r\n// internal goto helper \r\nexport const internalGoTo = (path, e) => {\r\n  replace(getPathname(path));\r\n  const hash = window.location.hash.slice(1);\r\n  if(hash){\r\n    if(e){\r\n      e.preventDefault();\r\n    }\r\n    const element = document.querySelector(`a[name=\"${hash}\"], #${hash}`);\r\n    if(element){\r\n      const topPos = element.getBoundingClientRect().top + window.pageYOffset - Router.scrollOffset;\r\n      window.scrollTo({ top: topPos });\r\n    }\r\n  }\r\n}","import RouterContext from './SvelteStandaloneRouter.js';\r\nimport { internalGoTo, getPathname, cleanURL } from './helpers.js';\r\nimport { writable } from 'svelte/store';\r\n\r\nexport let prev = { location: { ...window.location }, firstLoad: false };\r\nexport let contexts = new Map();\r\nexport let location = writable();\r\n\r\nlet initialized = false;\r\nlet firstLoad = false;\r\n\r\n// handle internal # links\r\nconst internalLinksHandler = (e) => {\r\n  const target = e.target;\r\n  if(target.tagName == 'A'){\r\n    const href = target.getAttribute('href');\r\n    const isHashLink = href.indexOf('#') > -1;\r\n    if(!(/^[a-zA-Z]+\\:\\/\\/(.*)/.test(href)) && isHashLink){\r\n      // go to position\r\n      internalGoTo(href.startsWith('#') ? window.location.pathname + href : href, e);\r\n      // update the prev data\r\n      prev.location = { ...window.location };\r\n    }\r\n  }\r\n}\r\n\r\n// the popstate callback handler\r\nconst popstateHandler = async e => {\r\n  let endEarly = false;\r\n  const sameURL = cleanURL(window.location.pathname + '/') == cleanURL(prev.location.pathname + '/') && prev.location.search == window.location.search;\r\n  // don't continue if we are doing internal hash linking\r\n  if(window.location.hash != '' && sameURL && prev.firstLoad){\r\n    endEarly = true;\r\n  }\r\n\r\n  // if the hash is empty and not the same as the previous and it's on the same url we \r\n  // don't want to load a new page, then we simply end early and scroll to the top.\r\n  if(window.location.hash == '' && window.location.hash != prev.location.hash && sameURL){\r\n    endEarly = true;\r\n    window.scrollTo({ top: 0 });\r\n  }\r\n\r\n  // if we don't end early we want to update the router contexts\r\n  if(!endEarly){\r\n    // update location and execute the router contexts\r\n    location.set(getPathname(window.location.pathname));\r\n    contexts.forEach(context => context.router.execute(window.location.pathname, e.detail));\r\n  }\r\n\r\n  // update the prev data\r\n  prev.location = { ...window.location };\r\n};\r\n\r\n// if the popstate listener has been destroy 'mount' re-adds the listener \r\nexport const mount = async () => {\r\n  if(!initialized){\r\n    // mark it initialized and update the location store with the current pathname\r\n    initialized = true;\r\n    if(!firstLoad){\r\n      firstLoad = true;\r\n      location.set(getPathname(window.location.pathname));\r\n    }\r\n    window.addEventListener('popstate', popstateHandler);\r\n    window.addEventListener('click', internalLinksHandler);\r\n  }\r\n}\r\n\r\n// destroy a current listener\r\nexport const destroy = () => {\r\n  initialized = false;\r\n  window.removeEventListener('popstate', popstateHandler);\r\n  window.removeEventListener('click', internalLinksHandler);\r\n}\r\n\r\n// export the context creator \"wrapper\"\r\nexport default (options) => {\r\n  // mount on the first load to avoid having \r\n  // the user doing it manually\r\n  mount();\r\n  // creates a new context\r\n  const router = new RouterContext(options);\r\n  contexts.set(router, {\r\n    component: writable(),\r\n    router\r\n  });\r\n  return router;\r\n};","<script>\r\n  import { tick } from 'svelte';\r\n  import RouterContext, { Router, SvelteStandaloneRouterError } from './SvelteStandaloneRouter.js';\r\n  import { contexts, prev } from './router.js';\r\n  import { internalGoTo } from './helpers.js';\r\n\r\n  // as default get the first value from the contexts since a Map remembers the insertion \r\n  // order. this works as a way to fallback to the first context if none is provided\r\n  export let context = contexts.keys().next().value;\r\n  \r\n  if(!context || !(context instanceof RouterContext)){\r\n    throw new Error(`Invalid Router context. Did you initialize the component with a valid context?`);\r\n  }\r\n  const { component } = contexts.get(context);\r\n\r\n  context.subscribe(async (callback, props = {}, decorator = {}) => {\r\n    // a dirty check to see it is a \"component\". Since there is not way to check if it is a svelte component\r\n    // this would atleast force it to be a function and will catch most errors where a svelte component isn't passed\r\n    if(typeof callback != 'function'){\r\n      throw new SvelteStandaloneRouterError(`Unable to load component. Did you pass a valid svelte component to the 'send' response?`);\r\n    }\r\n    \r\n    // reset the scroll position depending on the static scrollReset value\r\n    if(Router.scrollReset){\r\n      // always start from the top of the page\r\n      window.scrollTo({ top: 0 });\r\n    }\r\n    \r\n    // update the writable store\r\n    component.set({\r\n      context: decorator ? callback : class extends callback{},\r\n      decorator: !decorator.component ? undefined : class extends decorator.component{},\r\n      decoratorProps: decorator.props || undefined,\r\n      props\r\n    });\r\n\r\n    // if we have visited a a url with a hash in it\r\n    // we need to await a tick so the component is loaded\r\n    // before we can scroll to that place in the dom\r\n    if(window.location.hash){\r\n      await tick();\r\n      // but we also have this weird behaviour where the location pathname is\r\n      // not accessible so we need to pass it manually.\r\n      setTimeout(() => {internalGoTo(window.location.pathname + window.location.hash)}, 0); \r\n    }\r\n\r\n    // flag that we have a first load\r\n    if(!prev.firstLoad){\r\n      prev.firstLoad = true;\r\n    }\r\n  });\r\n</script>\r\n\r\n{#if $component}\r\n  <slot component={$component.context} props={$component.props} decorator={$component.decorator} decoratorProps={$component.decoratorProps}>\r\n    {#if $component.decorator}\r\n      <svelte:component this={$component.decorator} {...($component.decoratorProps ? $component.decoratorProps : {})}>\r\n        <svelte:component this={$component.context} {...$component.props} />\r\n      </svelte:component>\r\n    {:else}\r\n      <svelte:component this={$component.context} {...$component.props} />\r\n    {/if}\r\n  </slot>\r\n{/if}","import { Router } from './SvelteStandaloneRouter';\r\nimport { navigate, redirect, replace, alter, getPathname, cleanURL } from './helpers.js';\r\n\r\nexport default (element, props) => {\r\n  props = {\r\n    type: 'navigate',\r\n    state: {},\r\n    title: '',\r\n    ...props\r\n  };\r\n\r\n  if(Router.linkBase){\r\n    // first we need to clean the url and add the linkbase. Thats so one can right click and\r\n    // open the page in a new tab or window and go to the right url\r\n    const clean = cleanURL(element.getAttribute('href') || '');\r\n    element.setAttribute('href', clean);\r\n  }\r\n  \r\n  const clickHandler = (e) => {\r\n    // make the check before preventing default behaviour since we should not block \r\n    // the default behaviour if we don't supply the required url string\r\n    let url = props.to || props.href || e.currentTarget.getAttribute('href') || e.currentTarget.getAttribute('data-href');\r\n    if(!url){\r\n      return;\r\n    }\r\n    // here we need to only get the pathname without any linkbase\r\n    // because that is handled in the navigational helpers\r\n    url = getPathname(url);\r\n    e.preventDefault();\r\n    if(props.type == 'navigate'){\r\n      navigate(url, props.state, props.title);\r\n    }else if(props.type == 'redirect'){\r\n      redirect(url, props.state, props.title);\r\n    }else if(props.type == 'replace'){\r\n      replace(url, props.state, props.title);\r\n    }else if(props.type == 'alter'){\r\n      alter(url, props.state, props.title);\r\n    }else{\r\n      console.warn(`Invalid 'use:link' type. Expecting 'navigate'(default), 'redirect', 'replace' or 'alter'`);\r\n      return;\r\n    }\r\n  }\r\n  element.addEventListener('click', clickHandler);\r\n  return {\r\n    update(parameters){\r\n      props = {\r\n        ...props,\r\n        ...parameters\r\n      }\r\n    },\r\n    destroy(){element.removeEventListener('click', clickHandler);}\r\n  }\r\n}","import { contexts } from './router.js';\r\nimport SvelteStandaloneRouter from './SvelteStandaloneRouter.js';\r\n\r\nexport default (context, ...middleware) => {\r\n  let decorator;\r\n  // if no context is provided\r\n  if(!(context instanceof SvelteStandaloneRouter)){\r\n    // then the context is actually the decorator\r\n    decorator = context;\r\n    // and so we get the first context from the context Map\r\n    context = contexts.keys().next().value;\r\n  }else{\r\n    // but if we have a context the decorator is located at the first position\r\n    // of the middlewares so we need to remove it and define it as the decorator\r\n    decorator = middleware.shift();\r\n  }\r\n  if(!context){\r\n    throw new Error(`Invalid Router context. Did you initialize the decorator with a valid context? or made sure to call it after one has been created?`);\r\n  }\r\n  // we need to keep track of the root url else \r\n  // everything would become nested one level deeper\r\n  let root = '';\r\n  const wrappedCall = (url, ...fns) => {\r\n    // define the root of the chaining\r\n    if(!root) root = url;\r\n    let decoratorProps;\r\n    let decoratorPropsCallback = (props) => {\r\n      decoratorProps = { ...props };\r\n    };\r\n    const callback = fns.pop();\r\n    context.get(url, ...[...middleware, ...fns], (req, res) => {\r\n      callback(req, {\r\n        send: (component, props) => {\r\n          res.send(component, props, { component: decorator, props: decoratorProps });\r\n        },\r\n        error: res.error\r\n      }, decoratorPropsCallback);\r\n    });\r\n    return {\r\n      get: (_url, ...args) => wrappedCall(`${root}/${_url}`, ...args)\r\n    };\r\n  }\r\n  return wrappedCall;\r\n}","import { Router, context } from 'svelte-standalone-router';\r\nimport GeneralError from '~/_views/GeneralError.svelte';\r\nimport config, { subDir } from '~/nesbit.config.js';\r\n\r\n// no sub dir for localhost\r\nif(!config.isDev){\r\n  Router.linkBase = subDir;\r\n}\r\n\r\n// router context\r\nconst app = context({ initial: window.location.pathname, base: Router.linkBase });\r\n\r\n// general fallback\r\napp.catch((req, res) => {\r\n  res.send(GeneralError);\r\n});\r\n\r\n\r\nexport { app as context };","<script>\r\n  import { application } from '~/nesbit.config.js';\r\n\r\n  import { link, location } from 'svelte-standalone-router';\r\n  import Tabmenu from '~/_components/Tabmenu.svelte';\r\n  let list = [\r\n    {href: '/documentation', label: 'Documentation'},\r\n    {href: '/documentation/roadmap', label: 'Roadmap'},\r\n  ];\r\n</script>\r\n\r\n<Tabmenu>\r\n  {#each list as prop}\r\n    <li class=\"no-drag\" class:active={prop.href == $location}>\r\n      <button href={prop.href} label={prop.label} use:link>\r\n        {prop.label}\r\n      </button>\r\n    </li>\r\n  {/each}\r\n</Tabmenu>\r\n\r\n<style>\r\n  button{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: none;\r\n    padding: 0 20px;\r\n    background-color: transparent;\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n\r\n","<script>\r\n  export let selected;\r\n  export let title = undefined;\r\n</script>\r\n\r\n<button {title} on:dblclick on:click class:selected><slot></slot></button>\r\n\r\n<style>\r\n  button{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 5px;\r\n    height: 100%;\r\n    border: none;\r\n    border-top: 1px solid rgba(255, 83, 241, 0);\r\n    border-bottom: 1px solid rgba(255, 83, 241, 0);\r\n    background-color: rgba(255, 255, 255, .8);\r\n    box-shadow: inset 0 0px 14px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n    border-radius: 4px;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: 55%;\r\n    opacity: 1;\r\n    cursor: pointer;\r\n    transition: background.2s, opacity .2s;\r\n  }\r\n\r\n  button:hover{\r\n    border-top: 1px solid rgba(255, 83, 241, 0);\r\n    background-color: rgba(218, 218, 218, 0.8);\r\n  }\r\n\r\n  button.selected{\r\n    border-top: 1px solid rgba(83, 147, 255, 0.95);\r\n    background-color: rgb(44, 96, 252);\r\n  }\r\n\r\n  button :global(svg){\r\n    fill: rgb(20, 20, 20);\r\n    width: 14px;\r\n    image-rendering: pixelated;\r\n  }\r\n  \r\n  button.selected :global(svg){\r\n    fill: #fff;\r\n  }\r\n\r\n</style>","<script>\r\n  import ToolButton from '~/_singles/buttons/ToolButton.svelte';\r\n\r\n  // tools \r\n  import Pointer from '~/modules/spritesheet_editor/tools/pointer.js';\r\n  import Eyedropper from '~/modules/spritesheet_editor/tools/eyedropper.js';\r\n  import Pen from '~/modules/spritesheet_editor/tools/pen.js';\r\n  import Circle from '~/modules/spritesheet_editor/tools/circle.js';\r\n  import Line from '~/modules/spritesheet_editor/tools/line.js';\r\n  import Paintbucket from '~/modules/spritesheet_editor/tools/paintbucket.js';\r\n  import Brush from '~/modules/spritesheet_editor/tools/brush.js';\r\n  import Colorattribute from '~/modules/spritesheet_editor/tools/colorattribute.js';\r\n  import Colorswap from '~/modules/spritesheet_editor/tools/colorswap.js';\r\n  import Transpose from '~/modules/spritesheet_editor/tools/tileswap.js';\r\n  import Transform from '~/modules/spritesheet_editor/tools/transform.js';\r\n  import Patternpreview from '~/modules/spritesheet_editor/tools/preview.js';\r\n  import Zoom from '~/modules/spritesheet_editor/tools/zoom.js';\r\n\r\n  // \r\n  const tools = {\r\n    Pointer: new Pointer(false),\r\n    Eyedropper: new Eyedropper(false),\r\n    Circle: new Circle(false),\r\n    Line: new Line(false),\r\n    Pen: new Pen(false),\r\n    Paintbucket: new Paintbucket(false),\r\n    Brush: new Brush(false),\r\n    Colorattribute: new Colorattribute(false),\r\n    Colorswap: new Colorswap(false),\r\n    Transpose: new Transpose(false),\r\n    Transform: new Transform(false),\r\n    Patternpreview: new Patternpreview(false),\r\n    Zoom: new Zoom(false),\r\n  };\r\n</script>\r\n\r\n## General \r\nThere is shortcuts for most of everything for an intuitive native feel. Sometimes shortcuts overlapping depending on what section of the application one is currently on.\r\n\r\n#### Global shortcuts\r\n* __f11__ Toggle fullscreen\r\n* __alt + enter__ Toggle fullscreen\r\n* __ctrl + o__ Open a new project\r\n* __ctrl + s__ Save project \r\n\r\n#### Spritesheet shortcuts\r\n* __1,2,3,4__ Change color value\r\n* __ctrl + d__ Duplicate active layer/create new layer of none exist\r\n\r\n## Spritesheet\r\nAll the different tools of the spritsheet editor.  \r\n\r\nA small warning. Only drawing(in general everything except the color attributes at the time of this writing) on the screen is at this time hooked up to history, so \r\nit's not possible to undo and redo color attributes.\r\n\r\n##### Tools\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Pointer.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Default pointer(V):</strong> Does not currently have any functionality\r\n  </p>\r\n</div>\r\n\r\n\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Eyedropper.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Eyedropper(E):</strong> Get the current color value from pixel \r\n  </p>\r\n</div>\r\n\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Pen.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Pen(B):</strong> Pixel brush\r\n    <br><em><strong>shift:</strong> fills a straight line from previous point</em>\r\n    <br><em><strong>alt:</strong> hotswap to eyedropper</em>\r\n  </p>\r\n</div>\r\n\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Circle.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Circle(C):</strong> Ellipse/circle tool\r\n    <br><em><strong>shift:</strong> forced circular</em>\r\n    <br><em><strong>alt:</strong> hotswap to eyedropper</em>\r\n  </p>\r\n</div>\r\n\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Line.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Line(L):</strong> Line tool\r\n    <br><em><strong>alt:</strong> hotswap to eyedropper</em>\r\n  </p>\r\n</div>\r\n\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Paintbucket.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Paintbucket(G):</strong> Fill a colored area with a different color\r\n    <br><em><strong>alt:</strong> hotswap to eyedropper</em>\r\n    <br><em><strong>shift:</strong> fill all pixels on the canvas with the new color</em>\r\n    <br><em><strong>ctrl:</strong> fill pixels inside that 8x8 tile</em>\r\n    <br><em><strong>shift + ctrl:</strong> fill all pixels inside that 8x8 tile</em>\r\n    <br><em><strong>shift + ctrl + alt:</strong> Fill all non 0(background) pixels with 0 value. In other words a flood fill remove</em>\r\n  </p>\r\n</div>\r\n\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Brush.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Pattern brush(D):</strong> Select an area to create a custom brush to paint with\r\n    <br><em><strong>shift:</strong> conform to the size of the selected area(a caveat that it does not start from the current position currently but will be fixed)</em>\r\n    <br><em><strong>alt:</strong> drag to select an area</em>\r\n  </p>\r\n</div>\r\n\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Colorattribute.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Color attribute(A):</strong> Apply a color attribute per 8x8 tile. So it does not conform with the nes 16x16 attribute table, by design.\r\n    Name and attribute tables is/will be handled separate in a different tilemap section.     \r\n  </p>\r\n</div>\r\n\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Colorswap.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Color swap(S):</strong> Swap between two colors on the canvas.\r\n    <br><em><strong>alt:</strong> swap colors within that 8x8 tile</em>\r\n  </p>\r\n</div>\r\n\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Transpose.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Transpose(T):</strong> Select an area and place it somewhere else\r\n    <br><em><strong>ctrl:</strong> copy selected area</em>\r\n    <br><em><strong>alt:</strong> move and replace</em>\r\n  </p>\r\n</div>\r\n\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Transform.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Transform(R):</strong> Change orientation(rotate) of a tile\r\n    <br><em><strong>ctrl:</strong> flipX</em>\r\n    <br><em><strong>alt:</strong> flipY</em>\r\n  </p>\r\n</div>\r\n\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Patternpreview.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Pattern preview(P)</strong> Repeatedly preview a selected area on the canvas.\r\n    <br><em><strong>doubleclick(icon):</strong> create a preview of the whole canvas</em>\r\n  </p>\r\n</div>\r\n\r\n<div class=\"tool\">\r\n  <ToolButton selected>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n      <path d=\"{tools.Zoom.icon}\" />\r\n    </svg>\r\n  </ToolButton>\r\n\r\n  <p>\r\n    <strong>Zoom(Z):</strong> Zoom the canvas\r\n    <br><em><strong>doubleclick(icon):</strong> reset zoom</em>\r\n  </p>\r\n</div>\r\n\r\n\r\n<style>\r\n  .tool{\r\n    display: grid;\r\n    grid-template-columns: 40px auto;\r\n    margin: 20rem 0;\r\n  }\r\n\r\n  .tool p{\r\n    margin: 0;\r\n  }\r\n  \r\n  .tool :global(button){\r\n    display: inline-block;\r\n    width: 30px;\r\n    height: 30px;\r\n  }\r\n</style>","import { navigate, decorator } from 'svelte-standalone-router';\r\nimport KeyboardManager from '~/keyboard_shortcuts/manager';\r\n\r\n// toolbar \r\nimport { Toolbar } from '~/modules/spritesheet_editor/tools.js';\r\n\r\n// decorator\r\nimport _Documentation from '~/_decorators/_Documentation.svelte';\r\n// pages\r\nimport Spritesheets from '~/_views/documentation/Spritesheets.md';\r\nimport Roadmap from '~/_views/documentation/Roadmap.md';\r\n\r\n// sections \r\nconst documentation = decorator(_Documentation);\r\n\r\n// catch all /gfx/:section subroutes\r\ndocumentation('/documentation', (req, res) => {\r\n  // send the component to the view\r\n  try{\r\n    res.send(Spritesheets);\r\n  }catch(error){\r\n    res.error();\r\n  }\r\n});\r\n\r\ndocumentation('/documentation/roadmap', (req, res) => {\r\n  // send the component to the view\r\n  try{\r\n    res.send(Roadmap);\r\n  }catch(error){\r\n    res.error();\r\n  }\r\n});\r\n\r\n","<script>\r\n  import { application } from '~/nesbit.config.js';\r\n\r\n  import { link, location } from 'svelte-standalone-router';\r\n  import Tabmenu from '~/_components/Tabmenu.svelte';\r\n  let list = [\r\n    {href: '/graphics/palettes', label: 'Palettes'},\r\n    {href: '/graphics/spritesheets', label: 'Spritesheets'},\r\n  ];\r\n\r\n  if(application.isDev){\r\n    list = [\r\n      ...list,\r\n      {href: '/graphics/spritesets', label: 'Sprites'},\r\n      {href: '/graphics/metatiles', label: 'Metatiles'},\r\n      {href: '/graphics/tilemaps', label: 'Tilemaps'},\r\n    ];\r\n  }\r\n</script>\r\n\r\n<Tabmenu>\r\n  {#each list as prop}\r\n    <li class=\"no-drag\" class:active={prop.href == $location}>\r\n      <button href={prop.href} label={prop.label} use:link>\r\n        {prop.label}\r\n      </button>\r\n    </li>\r\n  {/each}\r\n</Tabmenu>\r\n\r\n<style>\r\n  button{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: none;\r\n    padding: 0 20px;\r\n    background-color: transparent;\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n\r\n","<script>\r\n  export let color; \r\n  export let selected = undefined;\r\n</script>\r\n\r\n<button class=\"color-selector\" on:click class:selected>\r\n  <div style=\"--color: {color}\">&nbsp;</div>\r\n</button>\r\n\r\n<style>\r\n  button{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 28px;\r\n    height: 28px;\r\n    border-radius: 50%;\r\n    border: none;\r\n    cursor: pointer;\r\n    background-color: transparent;\r\n    box-shadow: inset 0 0px 1px rgba(230, 195, 227, 0.03), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n  }\r\n  button.selected{\r\n    background-color: rgba(255, 255, 255, 0.1);\r\n  }\r\n  button:hover{\r\n    background-color: rgba(255, 255, 255, 0.2);\r\n  }\r\n  button > div{\r\n    background-color: rgb(var(--color));\r\n    position: relative;\r\n    width: 14px;\r\n    height: 14px;\r\n    border-radius: 50%;\r\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);  \r\n    overflow: hidden;\r\n  }\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  import ColorSelectButton from '~/_singles/buttons/ColorSelectButton.svelte';\r\n  import { Palettes } from '~/stores/palettes.store.js';\r\n  const { activeLayer, selectedColor } = Palettes.stores;\r\n</script>\r\n  \r\n{#if $activeLayer}\r\n  <ul>\r\n    {#each $activeLayer.colors as color, i}\r\n      <li>\r\n        <ColorSelectButton color={color.rgb} on:click={_ => ActionsManager.execute('palette_active_color', i)} selected={$selectedColor === i} />\r\n      </li>\r\n    {/each}\r\n  </ul>\r\n{/if}","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  import ToolButton from '~/_singles/buttons/ToolButton.svelte';\r\n  \r\n  import { Toolbar } from '~/modules/spritesheet_editor/tools.js';\r\n  const { tools, activeTool } = Toolbar;\r\n  \r\n  // get the values and sort after weight \r\n  const toolsList = Object.values(tools);\r\n  toolsList.sort((a,b) => b.weight - a.weight);\r\n</script>\r\n\r\n<ul>\r\n  {#each toolsList as tool}\r\n    {#if tool.visible_in_toolbar}\r\n      <li>\r\n        <ToolButton title={tool.title} on:dblclick={_ => ActionsManager.execute('spritesheet_tool_dblclick')} on:click={_ => ActionsManager.execute('spritesheet_set_active_tool', tool.enum)} selected={$activeTool === tool}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"{tool.icon}\" /></svg>\r\n        </ToolButton>\r\n      </li>\r\n    {/if}\r\n  {/each}\r\n</ul>\r\n\r\n<style>\r\n  li{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin: 2px 0;\r\n    width: 28px;\r\n    height: 28px;\r\n  }\r\n\r\n  svg{\r\n\r\n  }\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  import { createEventDispatcher } from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n  export let variant = undefined;\r\n  const click = (e) => {\r\n    if(variant == 'danger' && !(e.ctrlKey || e.altKey)){\r\n      ActionsManager.execute('notification', { \r\n        message: `Irreversible operations requires as a safety measure yout to ctrl or alt + click to execute it's action`, \r\n        variant: 'warning' \r\n      });   \r\n      return;\r\n    }\r\n    dispatch('click');\r\n  };\r\n</script>\r\n\r\n<button class:danger={variant == 'danger'} role=\"button\" {...$$props} on:click={click}><slot>placeholder</slot></button>\r\n\r\n<style>\r\n  \r\n  button{\r\n    margin: 0;\r\n    padding: 0;\r\n    border: none;\r\n    background: transparent;\r\n    cursor: pointer;\r\n    font-size: 11rem;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  [role=\"button\"]{\r\n    display: flex;\r\n    padding: 0 10px;\r\n    min-height: 25px;\r\n    border: none;\r\n    cursor: pointer;\r\n    border-radius: 3px;\r\n    background: rgb(44, 96, 252);\r\n    color: rgba(255, 255, 255, 0.95);\r\n    border: 1px solid rgba(255, 255, 255, 0);\r\n    transition: background .13s;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  [role=\"button\"]:hover{\r\n    background: rgb(29, 77, 221);\r\n    color: rgba(255, 255, 255, 0.95);\r\n    border: 1px solid rgba(255, 255, 255, 0.095);\r\n  }\r\n\r\n  button.danger{\r\n    background-color: var(--color-red);\r\n  }\r\n  button.danger:hover{\r\n    background-color: rgb(162, 23, 60);\r\n  }\r\n</style>","  /*\r\n    Shorten string to max amount of characters at nearest space\r\n\r\n    @param String\r\n    @param Number\r\n    @param String\r\n    @param Function\r\n\r\n    @return String\r\n\r\n    // Usage: \r\n    // const string = \"Lorem ipsum dolor sit amet consectetur adipisicing elit.\";\r\n    // const paragraph = slim(string, 40, ' ', _ => _ + '...');\r\n    // console.log(paragraph);\r\n  */\r\n export const slim = (s, n, char, fn) => {\r\n  const o = s;\r\n  if(n < o.length){\r\n    const max = s.slice(0, n);\r\n    s = max.slice(0, max.lastIndexOf(char));\r\n  }\r\n  if(typeof fn === 'function'){\r\n    s = fn.call(null, s, o, char);\r\n  }\r\n  return s;\r\n}\r\n\r\n/*\r\n  basename \r\n\r\n  get the last part of a string path\r\n\r\n  @param String\r\n  @return String\r\n\r\n  Usage:\r\n  basename('base/path/to/file.json');\r\n*/\r\nexport const basename = _ => _.split(/[\\\\/]/).pop();","<script>\r\n  import { createEventDispatcher } from 'svelte';\r\n\r\n  import { slim } from '~/utils/strings';\r\n  \r\n  export let editable = true;\r\n  export let active;\r\n  export let label;\r\n  export let iconIndicator;\r\n\r\n  const dispatch = createEventDispatcher();\r\n  \r\n  // local properties\r\n  let element;\r\n  let previous = null;\r\n  \r\n  // on click\r\n  export const edit = (e) => {\r\n    if(!editable) return;\r\n    e.preventDefault();\r\n    let once = false;\r\n    // handle single and doubleclicks. if detail is undefined assume it's called programatically\r\n    if(e.detail == 1 && e.target == element){\r\n      dispatch('makeActive');\r\n      if(!once){\r\n        once = true;\r\n        setTimeout(_ => once = false, 60);\r\n      }\r\n    }else{\r\n      iconIndicator = false;\r\n      element.contentEditable = true;\r\n      element.focus();\r\n    }\r\n  };\r\n\r\n  // on focusing label heading\r\n  const focus = _ => {\r\n    _.target.textContent = label;\r\n    const range = document.createRange();\r\n    const selection = window.getSelection();\r\n    range.selectNodeContents(_.target);\r\n    selection.removeAllRanges();\r\n    selection.addRange(range);\r\n  }\r\n\r\n  // on key down validate input\r\n  const validateInput = (e) => {\r\n    if(!previous){\r\n      previous = e.currentTarget.textContent;\r\n    }\r\n    e.stopPropagation();\r\n    e.stopImmediatePropagation();\r\n\r\n    // escape\r\n    if(e.which == 27){\r\n      e.currentTarget.textContent = previous;\r\n      e.preventDefault();\r\n      element.blur();\r\n      return;\r\n    }\r\n    \r\n    // enter\r\n    if(e.which == 13){\r\n      e.preventDefault();\r\n      element.blur();\r\n    }\r\n\r\n    // backspace, delete, left arrow, right arrow\r\n    if(e.which == 8 || e.which == 46 || e.which == 37 || e.which == 39){\r\n      return;\r\n    }\r\n\r\n    // check valid character\r\n    const isValidCharacter = /^[a-z\\s0-8\\-\\_]$/i.test(e.key);\r\n    if(!isValidCharacter && e.key !== 'Backspace'){\r\n      e.preventDefault();\r\n      return;\r\n    }\r\n\r\n    // prevent to long labels\r\n    if(e.currentTarget.textContent.length > 20){\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  // on blurring\r\n  const blur = _ => {\r\n    previous = null;\r\n    iconIndicator = true;\r\n    const v = _.target.textContent;\r\n    _.target.textContent = slim(v, 15, '', (n, o) => n != o ? n + '...' : n);\r\n    window.getSelection().removeAllRanges();\r\n    _.target.contentEditable = false;\r\n    // update the store entry with the new heading\r\n    dispatch('change', v);\r\n  };\r\n</script>\r\n\r\n<div class=\"heading\" spellcheck=\"false\" on:click={edit} on:focus={focus} on:blur={blur} on:keydown={validateInput} class:active bind:this={element}>\r\n  <slot>Label</slot>\r\n</div>\r\n\r\n<style>\r\n  .heading{\r\n    display: flex;\r\n    cursor: pointer;\r\n    align-items: center;\r\n    line-height: 33px;\r\n    padding: 0 5px;\r\n    height: 100%;\r\n    width: 100%;\r\n    font-weight: normal;\r\n  }\r\n\r\n  .heading.active{\r\n    font-style: italic;\r\n    color: var(--active-color);\r\n  }\r\n  .heading{\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    width: 100%;\r\n  }\r\n  .heading::selection{\r\n    padding: 0 5px;\r\n    background: white;\r\n    color: black;\r\n  }\r\n</style>","// drag directive\r\nexport const drag = (node, props) => {\r\n  if(!props || typeof props.type != 'string'){\r\n    throw new Error(`Invalid 'drag' actions properties. Expecting 'type' of type 'string'`)\r\n  }\r\n\r\n  if(!props.value){\r\n    throw new Error(`Invalid 'drag' actions value.`)\r\n  }\r\n\r\n  // enable the drag and drop api\r\n  node.draggable = true;\r\n  node.classList.add('draggable');\r\n  const dragStart = (e) => {\r\n    // don't let event propagate if we have possible nested drags\r\n    e.stopImmediatePropagation();\r\n    e.dataTransfer.setData(props.type, JSON.stringify(props.value || ''));\r\n    // this is some hacky stuff. since on the canvas we listen for windows mouse events but dragdrop never fires\r\n    // mouseup on release. so force it here if we start dragging something.\r\n    window.dispatchEvent(new Event('mouseup'));\r\n  };\r\n  node.addEventListener('dragstart', dragStart);\r\n  \r\n\treturn {\r\n    destroy() {\r\n      // remove listener\r\n      node.removeEventListener('dragstart', dragStart);\r\n    }\r\n\t};\r\n}\r\n\r\n\r\n// drop directive\r\nexport const drop = (node, props) => {\r\n  if(!props){\r\n    throw new Error(`Invalid 'drop' actions props.`);\r\n  }\r\n  const callback = (key, pass) => {\r\n    if(!props[key] && typeof props[key] != 'function'){\r\n      if(!pass){\r\n        throw new Error(`Invalid 'drop' callback : [${key}]`);\r\n      }\r\n      return;\r\n    }\r\n    return props[key];\r\n  }\r\n  // handle dragover\r\n  const dragOver = (e) => {\r\n    e.preventDefault();\r\n    callback('over', true).call(null, e, node);\r\n  };\r\n  node.addEventListener('dragover', dragOver);\r\n  const dragLeave = (e) => {\r\n    callback('leave', true).call(null, e, node);    \r\n  };\r\n  node.addEventListener('dragleave', dragLeave);\r\n  // handle dropping of items\r\n  const drop = (e) => {\r\n    callback('drop').call(null, { e, node, value: props.value });\r\n  };\r\n  node.addEventListener('drop', drop);\r\n\r\n\treturn {\r\n\t\tdestroy() {\r\n      // remove listener\r\n      node.removeEventListener('dragover', dragOver);\r\n      node.removeEventListener('drop', drop);\r\n    }\r\n\t};\r\n}","<script>\r\n  import { createEventDispatcher } from 'svelte';\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  \r\n  import PanelHeader from '~/_components/PanelHeader.svelte';\r\n  import LabelHeading from '~/_components/LabelHeading.svelte';\r\n  import ActionButton from '~/_singles/buttons/ActionButton.svelte';\r\n  \r\n  import { slim } from '~/utils/strings';\r\n  import { drag, drop } from '~/actions/dragdrop';\r\n  \r\n\r\n  export let source = undefined;\r\n  export let activeLayer = undefined;\r\n  export let showEditButtons = true;\r\n  export let layerIndex = undefined;\r\n\r\n  let iconIndicator = true;\r\n  \r\n  // edit heading \r\n  let label, heading;\r\n  const dispatch = createEventDispatcher();\r\n\r\n  // don't allow left-click remove\r\n  const removeLayer = (e) => {\r\n    if(e.ctrlKey || e.altKey){\r\n      dispatch('remove', source);\r\n    }else{\r\n      // send notification modal that one has to use right-click or ctrl + click\r\n      ActionsManager.execute('notification', { \r\n        message: `Irreversible operations requires ctrl or alt + click to execute it's action`, \r\n        variant: 'warning' \r\n      });    \r\n    }\r\n  };\r\n\r\n  // dispatch clone event\r\n  const cloneLayer = (e) => dispatch('clone', source);\r\n\r\n  let over;\r\n  const dropDirective = {\r\n    over: _ => over = true,\r\n    leave: _ => over = false,\r\n    drop: ({ e, value }) => {\r\n      over = false;\r\n      const flip = e.dataTransfer.getData('flipPalette');\r\n      if(flip){\r\n        const n = Number(JSON.parse(flip).layerIndex);\r\n        dispatch('swapLayers', { to: n, from: value.layerIndex });\r\n      }\r\n    }\r\n  };\r\n\r\n  // reactive statements\r\n  $: label = slim(source.label, 15, '', (n, o) => n != o ? n + '...' : n);\r\n  $: active = source == $activeLayer;\r\n</script>\r\n\r\n<div class=\"layer-item\" class:over class:active use:drag={{ type: 'flipPalette', value: {layerIndex} }} use:drop={{ ...dropDirective, value: { layerIndex }}}>\r\n  <PanelHeader>\r\n    <LabelHeading \r\n      {active} \r\n      label={source.label} \r\n      bind:iconIndicator \r\n      bind:this={heading} \r\n      on:makeActive={ e => dispatch('makeActive', source)}\r\n      on:change={e => dispatch('updateLabel', { source, value: e.detail })}>\r\n      {label}\r\n    </LabelHeading>\r\n    {#if iconIndicator}\r\n      <div class=\"icon-indicator\">\r\n        <ActionButton on:click={e => heading.edit(e)}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\"><path d=\"M19.769 9.923l-12.642 12.639-7.127 1.438 1.438-7.128 12.641-12.64 5.69 5.691zm1.414-1.414l2.817-2.82-5.691-5.689-2.816 2.817 5.69 5.692z\"/></svg>\r\n        </ActionButton>\r\n          {#if showEditButtons}\r\n            <ActionButton on:click={cloneLayer}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\"><path d=\"M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14zm-3-8h-3v-3h-2v3h-3v2h3v3h2v-3h3v-2z\"/></svg>\r\n            </ActionButton>\r\n            <ActionButton on:click={removeLayer} variant=\"danger\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\"><path d=\"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z\"/></svg>\r\n            </ActionButton>\r\n          {/if}\r\n        </div>\r\n      {/if}\r\n  </PanelHeader>\r\n  <slot></slot>\r\n</div>\r\n\r\n<style>\r\n  .layer-item.active *{\r\n    color: var(--active-color);\r\n  }\r\n  .layer-item.active{\r\n    filter: brightness(110%);\r\n  }\r\n\r\n  .layer-item :global([contenteditable]:focus){\r\n    background-color: rgb(44, 96, 252);\r\n    color: rgba(255, 255, 255, 0.8);\r\n    outline: none;\r\n  }\r\n\r\n  .icon-indicator{\r\n    padding: 5px 0;\r\n    display: flex;\r\n    align-items: center;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 5px;\r\n    height: 100%;\r\n    z-index: 10;\r\n    cursor: pointer;\r\n  }\r\n  .icon-indicator > :global(button){\r\n    margin-left: 2px;\r\n  }\r\n  .icon-indicator svg{\r\n    fill: rgba(255, 255, 255, 0.699);\r\n    transition: fill .4s;\r\n  }\r\n\r\n  svg{\r\n    fill: #fff;\r\n  }\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  import Layer from '~/_components/Layer.svelte';\r\n\r\n  const removeLayer = (e) => ActionsManager.execute('spritesheet_remove', e.detail);\r\n  const updateLabel = e => ActionsManager.execute('spritesheet_update_layer_label', { source: e.detail.source, label: e.detail.value });\r\n  const makeLayerActive = e => ActionsManager.execute('spritesheet_make_layer_active', e.detail);\r\n  const cloneLayer = e => ActionsManager.execute('spritesheet_clone_layer', e.detail);\r\n  const swapLayers = e => ActionsManager.execute('spritesheet_swap_layers', e.detail);\r\n</script>\r\n\r\n<Layer {...$$restProps} on:swapLayers={swapLayers} on:remove={removeLayer} on:updateLabel={updateLabel} on:makeActive={makeLayerActive} on:clone={cloneLayer}>\r\n  <slot></slot>\r\n</Layer>","<script>\r\n  import Button from '~/_singles/buttons/Button.svelte';\r\n  import Layer from '~/_components/graphics/SpritesheetLayer.svelte';\r\n  import CanvasPreview from '~/_components/graphics/CanvasPreview.svelte';\r\n  \r\n  import ActionsManager from '~/application/ActionsManager';  \r\n  import { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\n  const { activeLayer, layers } = Spritesheets.stores;\r\n\r\n</script>\r\n\r\n<div class=\"palette-layer\">\r\n\r\n  <div class=\"layers\">\r\n    {#if $layers.length}\r\n      {#key $layers}\r\n        {#each $layers as canvas, layerIndex}\r\n          <Layer source={canvas} activeLayer={activeLayer} {layerIndex}>\r\n            <div class=\"canvas-preview-wrapper\">\r\n              <CanvasPreview source={canvas} clamp />\r\n            </div>\r\n          </Layer>\r\n        {/each}\r\n      {/key}\r\n    {:else}\r\n      <div class=\"center\">\r\n        No spritesheets\r\n      </div>\r\n    {/if}\r\n  </div>\r\n\r\n  <div class=\"center\">\r\n    <Button on:click={_ => ActionsManager.execute('spritesheet_create')}>Create spritesheet</Button>\r\n  </div>\r\n\r\n</div>\r\n\r\n<style>\r\n  .center{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    padding: 15rem;\r\n  }\r\n\r\n  .palette-layer{\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: calc(100% - 40px) 40px;\r\n    height: 100%;\r\n  }\r\n  .layers{\r\n    overflow-y: auto;\r\n  }\r\n  .canvas-preview-wrapper{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    padding: 10rem 10rem;\r\n    background: rgba(0, 0, 0, 0.481);\r\n    border: 1px solid rgba(255, 255, 255, 0.097);\r\n  }\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  import Layer from '~/_components/Layer.svelte';\r\n\r\n  const removeLayer = (e) => ActionsManager.execute('palette_remove', e.detail);\r\n  const updateLabel = e => ActionsManager.execute('palette_update_layer_label', { source: e.detail.source, label: e.detail.value });\r\n  const makeLayerActive = e => ActionsManager.execute('palette_make_layer_active', e.detail);\r\n  const cloneLayer = e => ActionsManager.execute('palette_clone_layer', e.detail);\r\n  const swapLayers = e => ActionsManager.execute('palette_swap_layers', e.detail);\r\n</script>\r\n\r\n<Layer {...$$restProps} on:swapLayers={swapLayers} on:remove={removeLayer} on:updateLabel={updateLabel} on:makeActive={makeLayerActive} on:clone={cloneLayer}>\r\n  <slot></slot>\r\n</Layer>","<script>\r\n  import { Palettes } from '~/stores/palettes.store.js';\r\n  import { drag } from '~/actions/dragdrop';\r\n\r\n  export let rgb;\r\n  export let hex;\r\n  export let type;\r\n  export let layerIndex = undefined;\r\n  export let colorIndex = undefined;\r\n\r\n  const { selectedColor, activeLayer } = Palettes.stores;\r\n</script>\r\n\r\n<div \r\n  class=\"color\" \r\n  data-hex={hex} \r\n  style=\"--rgb: rgb({rgb.join(',')});\"  \r\n  on:click \r\n  class:active={$activeLayer && colorIndex == $selectedColor && layerIndex == Palettes.layerIndexFromSource($activeLayer)} \r\n  use:drag={{ type, value: { rgb, hex, type, layerIndex, colorIndex } }}>\r\n  <span style=\"pointer-events: none;\">\r\n    <slot>0x{hex}</slot>\r\n  </span>\r\n</div>\r\n\r\n<style>\r\n  @keyframes bounce{\r\n    from{\r\n      box-shadow: 0 0 6px var(--rgb);\r\n    }\r\n    to{\r\n      box-shadow: 0 0 18px var(--rgb);\r\n    }\r\n  }\r\n  .active::after{\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    animation-name: bounce;\r\n    animation-duration: 1.5s;\r\n    animation-timing-function: linear;\r\n    animation-fill-mode: both;\r\n    animation-iteration-count: infinite;\r\n    animation-direction: alternate;\r\n    filter:brightness(1.5);\r\n    pointer-events: none;\r\n  }\r\n  .color{\r\n    --rgb: red;\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: var(--rgb);\r\n    font-variant-numeric: tabular-nums;\r\n    border-radius: 2px;\r\n    border: 1px solid rgba(0, 0, 0, 0);\r\n    opacity: 1;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .color > span{\r\n    position: absolute;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    opacity: 1;\r\n    padding: 2px 5px;\r\n    top: 2px;\r\n    left: 2px;\r\n    border-radius: 2px;\r\n    background-color: rgba(0, 0, 0, .3);\r\n    color: white;\r\n    min-width: 20px;\r\n    min-height: 20px;\r\n  }\r\n\r\n  .color:hover{\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5), inset 0 0 10px rgba(255, 255, 255, .4);\r\n    border: 1px solid rgba(255, 255, 255, 0.025);\r\n    filter: brightness(1.1);\r\n  }\r\n</style>","<script>\r\n  import { Palettes } from '~/stores/palettes.store.js';\r\n  import Button from '~/_singles/buttons/Button.svelte';\r\n  import Layer from '~/_components/graphics/PaletteLayer.svelte';\r\n  import Color from '~/_singles/Color.svelte';\r\n\r\n  import ActionsManager from '~/application/ActionsManager';\r\n\r\n  // actions\r\n  import { drop } from '~/actions/dragdrop';\r\n  \r\n  export let showEditButtons = true;\r\n  \r\n  const { activeLayer, layers } = Palettes.stores;\r\n\r\n  let over;\r\n  const colorDirective = {\r\n    over: _ => over = true,\r\n    leave: _ => over = false,\r\n    drop: ({ e, value }) => {\r\n      over = false;\r\n      const swap = e.dataTransfer.getData('swap');\r\n      if(swap){\r\n        layers.swapColors({ ...JSON.parse(swap), to: {...value} });\r\n      }\r\n\r\n      // handle replacement\r\n      const replace = e.dataTransfer.getData('replace');\r\n      if(replace){\r\n        layers.replaceColor({ ...JSON.parse(replace), ...value });\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<div class=\"palette-layer\">\r\n  <div class=\"layers\">\r\n    {#if $layers && $layers.length}\r\n      {#each $layers as palette, layerIndex}\r\n        <Layer source={palette} {showEditButtons} activeLayer={activeLayer} {layerIndex}>\r\n          <ul>\r\n            {#each palette.colors as color, colorIndex (colorIndex)}\r\n              <li use:drop={{ ...colorDirective, value: { layerIndex, colorIndex }}}>\r\n                <Color hex={color.hex} rgb={color.rgb} {layerIndex} {colorIndex} type=\"swap\">0x{color.hex}</Color>\r\n              </li>\r\n            {/each}\r\n          </ul>\r\n        </Layer>\r\n      {/each}\r\n    {:else}\r\n      <div class=\"center\">\r\n        No palettes\r\n      </div>\r\n    {/if}\r\n  </div>\r\n  <div class=\"center\">\r\n    {#if showEditButtons}\r\n      <Button on:click={_ => ActionsManager.execute('palette_create')}>Create palette</Button>\r\n    {/if}\r\n  </div>\r\n\r\n</div>\r\n\r\n<style>\r\n  .center{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    padding: 15rem;\r\n  }\r\n\r\n  .palette-layer{\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: calc(100% - 40px) 40px;\r\n    height: 100%;\r\n  }\r\n\r\n  .layers{\r\n    overflow-y: auto;\r\n  }\r\n  ul{\r\n    padding: 2px 0;\r\n    display: grid;\r\n    grid-template-columns: repeat(4, 1fr);\r\n    gap: 2px;\r\n  }\r\n  li{\r\n    --color: #000;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: flex-start;\r\n    justify-content: left;\r\n    background-color: var(--color);\r\n    width: 100%;\r\n    height: 40px;\r\n    cursor: move;\r\n  }\r\n</style>","export default (element, fn) => {\r\n  const handler = (e) => {\r\n    if(!element.contains(e.target)){\r\n      e.preventDefault();\r\n      fn.call(null);\r\n    }\r\n  }\r\n  window.addEventListener('click', handler);\r\n  return {\r\n    destroy(){\r\n      window.removeEventListener('click', handler);\r\n    }\r\n  }\r\n}","<script>\r\n  import clickOutside from '~/actions/clickoutside.js'; \r\n  import CircularPillButton from '~/_singles/buttons/CircularPillButton.svelte';\r\n  let active = false;\r\n</script>\r\n\r\n<div class=\"select-button\" class:active use:clickOutside={_ => active = false}>\r\n  <slot></slot>\r\n  <CircularPillButton on:click={_ => active = !active}>\r\n    <slot name=\"icon\"></slot>\r\n  </CircularPillButton>\r\n  <div class=\"dropdown\">\r\n    <slot name=\"list\"></slot>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .select-button{\r\n    position: relative;\r\n  }\r\n  .active .dropdown{\r\n    opacity: 1 !important;\r\n    pointer-events: all !important;\r\n  }\r\n  .dropdown{\r\n    opacity: 0;\r\n    position: absolute;\r\n    top: 35px;\r\n    left: -5px;\r\n    background-color: rgba(0, 0, 0, 0.09);\r\n    border-radius: 4px;\r\n    padding: 0 5px;\r\n    pointer-events: none;\r\n    transition: opacity .2s;\r\n  }\r\n  .dropdown :global(*){\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 5px 0;\r\n  }\r\n  .dropdown :global(* > *){\r\n    margin: 2px 0;\r\n  }\r\n</style>\r\n\r\n\r\n","<script>\r\n  import { createEventDispatcher } from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n</script>\r\n\r\n<div id=\"buttons\">\r\n  <div class=\"group\">\r\n    <slot></slot>\r\n  </div>  \r\n  <div class=\"group\">\r\n    <button on:click={_ => dispatch('centerArtboard')}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 24 24\"><path d=\"M10.573 3.021h7.427v-3.021l6 5.39-6 5.61v-3h-7.427c-3.071 0-5.561 2.356-5.561 5.427 0 3.071 2.489 5.573 5.561 5.573h7.427v5h-7.427c-5.84 0-10.573-4.734-10.573-10.573s4.733-10.406 10.573-10.406z\"/></svg></button>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  #buttons{\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    padding: 14px 10px;\r\n    width: 100%;\r\n    color: white;\r\n    z-index: 100;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    flex-direction: row;\r\n    pointer-events: none;\r\n  }\r\n  #buttons > .group{\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n  #buttons button{\r\n    margin: 4px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    fill: white;\r\n    width: 29px;\r\n    height: 29px;\r\n    border-radius: 50%;\r\n    border: 1px solid rgba(0, 0, 0, 0);\r\n    border-top: 1px solid rgba(83, 147, 255, 0.95);\r\n    border-bottom: 1px solid rgba(0, 0, 0, .3);\r\n    background-color: rgb(44, 96, 252);\r\n    box-shadow: inset 0 0px 2px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n    /* opacity: .85; */\r\n    opacity: 1;\r\n    pointer-events: all;\r\n    cursor: pointer;\r\n    transition: opacity .13s;\r\n  }\r\n\r\n  #buttons button:hover{\r\n    opacity: 1;\r\n  }\r\n  /* .flip{\r\n    transform: scaleX(-1);\r\n  } */\r\n  svg{\r\n    display: inline-block;\r\n  }\r\n\r\n\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  \r\n  import SelectButton from '~/_components/SelectButton.svelte';\r\n  import Button from '~/_singles/buttons/Button.svelte';\r\n  import ArtboardOptions from '~/_components/ArtboardOptions.svelte';\r\n</script>\r\n\r\n<ArtboardOptions on:centerArtboard>\r\n  <SelectButton>\r\n    <slot slot=\"icon\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 24 24\"><path d=\"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z\"/></svg>\r\n    </slot>\r\n    <slot slot=\"list\">      \r\n      <div>\r\n        <Button on:click={_ => ActionsManager.execute('spritesheet_import')}>Import spritesheet</Button>\r\n        <Button on:click={_ => ActionsManager.execute('spritesheet_import_chr')}>Import CHR</Button>\r\n      </div>\r\n      <div>\r\n        <Button on:click={_ => ActionsManager.execute('spritesheet_export')}>Export spritesheet</Button>\r\n        <Button on:click={_ => ActionsManager.execute('spritesheet_export_chr')}>Export CHR</Button>\r\n        <Button on:click={_ => ActionsManager.execute('spritesheet_export_png')}>Export PNG</Button>\r\n      </div>\r\n      <div>\r\n        <Button variant=\"danger\" on:click={_ => ActionsManager.execute('spritesheet_clear')}>Clear all</Button>\r\n      </div>\r\n    </slot>\r\n  </SelectButton>\r\n</ArtboardOptions>","<script>\r\n  import { onMount } from \"svelte\";\r\n  import { Palettes } from '~/stores/palettes.store.js';\r\n  import { Spritesheets } from '~/stores/spritesheets.store.js';\r\n  import SpritesheetEditor from './SpritesheetEditor';\r\n  import { primary, secondary, move, mouseup } from '~/modules/spritesheet_editor/tools.js';\r\n  \r\n  export let zoom;\r\n\r\n  const { activeLayer, layers, width, height } = Spritesheets.stores;\r\n  const activePaletteLayer = Palettes.stores.activeLayer;\r\n\r\n  let canvas;\r\n  \r\n  let editor = new SpritesheetEditor({\r\n    width, \r\n    height \r\n  }); \r\n\r\n  // bind events\r\n  editor.on('primary', (e) => primary(e));\r\n  editor.on('secondary', (e) => secondary(e));\r\n  editor.on('move', (e) => move(e));\r\n  editor.on('mouseup', (e) => mouseup(e));\r\n\r\n\r\n  $: if(canvas){\r\n    // editor\r\n    editor.defineCanvas(canvas);\r\n  }\r\n\r\n  onMount(() => {\r\n    // clean up\r\n    return () => {\r\n      if(editor){\r\n        editor.destroy();\r\n      }\r\n    }\r\n  });\r\n</script>\r\n\r\n{#if $activeLayer && $layers.length && $activePaletteLayer}\r\n  <div style=\"--zoom: {zoom};\">\r\n    <canvas bind:this={canvas} width={128} height={128}>\r\n      <slot></slot>\r\n    </canvas>\r\n  </div>\r\n{:else}\r\n  Please select a spritesheet and palette\r\n{/if}\r\n\r\n<style>\r\n  div{\r\n    --zoom: 3;\r\n    transform: scale(var(--zoom));\r\n    transition-timing-function: linear;\r\n    transition: transform .15s;\r\n    padding: 4px;\r\n    border-radius: 1px;\r\n    background-color: rgba(0, 0, 0, .25);\r\n    transform-origin: var(--origin-x, center) var(--origin-y, center);\r\n    box-shadow: 0 0 5px rgba(0, 0, 0, .2);\r\n  }\r\n\r\n  canvas{\r\n    display: block;\r\n    cursor: var(--canvas-cursor, none);\r\n    position: relative;\r\n    image-rendering: -moz-crisp-edges;\r\n    image-rendering: -webkit-crisp-edges;\r\n    image-rendering: pixelated;\r\n    image-rendering: crisp-edges;\r\n    \r\n    /* border: 1px solid rgba(255, 255, 255, .02); */\r\n    /* transitions for when the canvas zooms */\r\n    /*\r\n    cursor: url(\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='220px' y='200px' width='16px' height='16px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E %3Cpath fill='white' d='M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z'/%3E %3C/svg%3E\"), pointer;\r\n    */\r\n  }\r\n</style>","<script>\r\n  import Canvas from \"~/modules/spritesheet_editor/Canvas.svelte\";\r\n  export let zoom;\r\n</script>\r\n\r\n<Canvas {zoom} />","<script>\r\n  import Artboard, { centerScrollAndCanvas } from '~/_components/Artboard.svelte';\r\n  import SpritesheetToolbar from '~/_components/graphics/SpritesheetToolbar.svelte';\r\n  import SpritesheetLayers from '~/_components/graphics/SpritesheetLayers.svelte';\r\n  import PaletteLayers from '~/_components/graphics/PaletteLayers.svelte';\r\n  import SpritesheetOptions from '~/_components/graphics/SpritesheetOptions.svelte';\r\n  import SpritesheetEditor from '~/modules/spritesheet_editor/SpritesheetEditor.svelte';\r\n  \r\n  import { Toolbar } from '~/modules/spritesheet_editor/tools.js';\r\n\r\n  import { Spritesheets } from '~/stores/spritesheets.store.js';\r\n  const { artboard } = Spritesheets.stores;\r\n  const { activeTool } = Toolbar;\r\n\r\n  // react to the spritesheet artboard zoom. could refactor this a bit cleaner\r\n  // but this is a fast way to get it working.\r\n  $: zoom = $artboard.zoom;\r\n\r\n  // this should be refactored to be an action \r\n  const changeZoomLevel = (e) => {\r\n    const { offsetX, offsetY } = e.detail;\r\n    // TODO: find out the x,y of the cursor position and update the canvas origin\r\n    // so it zooms where the cursor is located. will perhaps give a nicer feel\r\n    // update zoom\r\n    $artboard.zoom = Math.max(1, zoom + (e.detail.deltaY < 0 ? 2 : -2));\r\n  };\r\n  const changeOffset = (e) => $artboard.offset = e.detail;\r\n\r\n</script>\r\n<section class=\"main-artboard\">\r\n  <!-- <ToolOptions>Placeholder</ToolOptions> -->\r\n  <div class=\"options-panel\">\r\n    <svelte:component this={$activeTool.optionsComponent}></svelte:component>\r\n  </div>\r\n  <div class=\"inner-artboard\">\r\n    <SpritesheetOptions on:centerArtboard={centerScrollAndCanvas} />\r\n    <Artboard x={$artboard.offset.x} y={$artboard.offset.y} on:artboardScrollEvent={changeZoomLevel} on:artboardOffsetEvent={changeOffset}>\r\n      <SpritesheetEditor {zoom} />\r\n    </Artboard>\r\n  </div>\r\n</section>\r\n\r\n<section class=\"toolbar-layer\">\r\n  <SpritesheetToolbar />\r\n</section>\r\n\r\n<section class=\"spritesheets-layer\">\r\n  <SpritesheetLayers />\r\n</section>\r\n\r\n<section class=\"palettes-layer\">\r\n  <PaletteLayers showEditButtons={false} />\r\n</section>\r\n\r\n<style>\r\n  .main-artboard{\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: 40px auto !important;\r\n  }\r\n  .inner-artboard{\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  .toolbar-layer{\r\n    background-color: rgba(0, 0, 0, .3);\r\n  }\r\n  .spritesheets-layer{\r\n    background-color: rgba(0, 0, 0, .2);\r\n  }\r\n  .palettes-layer{\r\n    background-color: rgba(0, 0, 0, .3);\r\n  }\r\n  section{\r\n    overflow: hidden;\r\n  }\r\n  .options-panel{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n</style>","<script>\r\n  export let label = undefined;\r\n</script>\r\n\r\n<div class=\"labeled\">\r\n  {#if label}\r\n    <div class=\"label\">{label}</div>\r\n  {/if}\r\n  <slot></slot>\r\n</div>\r\n\r\n\r\n<style>\r\n  .labeled{\r\n    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.13);\r\n  }\r\n  div{\r\n    position: relative;\r\n    padding: 3px;\r\n    border: 1px dashed rgb(44, 96, 252);\r\n    border-radius: 4px;\r\n    line-height: 0;\r\n    background-color: rgba(0, 0, 0, .2);\r\n  }\r\n  div.label{\r\n    position: absolute;\r\n    top: 0;\r\n    left: -1px;\r\n    background: rgb(44, 96, 252);\r\n    transform: translate(0, -100%);\r\n    padding: 12px 8px;\r\n    border-radius: 2px 2px 0 0;\r\n    color: white;\r\n    /* cursor: url('data:image/svg+xml,%3Csvg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 13 13\"%3E,path d=\"M11.75 3.092v8.538c0 .383.688.391.688 0v-7.17c0-1.357 2.395-1.399 2.395 0v8.125c0 .5.491.573.676.197.176-.361.908-1.974.917-1.991.735-1.541 3.193-.605 2.429 1.209-.19.492-2.544 5.832-3.144 7.179-.629 1.411-1.857 2.821-4.126 2.821h-3.94c-2.388 0-3.645-1.417-3.645-3.895v-10.812c0-1.434 1.976-1.362 1.976-.066v4.741c0 .391.715.389.715 0v-7.618c0-1.475 2.208-1.435 2.208 0v7.192c0 .397.664.378.664-.008v-8.442c0-1.435 2.187-1.477 2.187 0zm-1.081-3.092c-1.055 0-1.972.499-2.53 1.277-1.833-.2-3.391 1.146-3.446 2.972-1.554.143-2.693 1.403-2.693 3.044v10.812c0 3.636 2.163 5.895 5.645 5.895h3.94c2.686 0 4.8-1.423 5.953-4.006.437-.981 2.873-6.496 3.17-7.24.464-1.119.373-2.297-.25-3.236-.761-1.146-2.233-1.75-3.624-1.41v-3.649c0-1.914-1.646-3.203-3.53-3.017-.532-.879-1.492-1.442-2.635-1.442z\"/%3E,/svg%3E'), pointer; */\r\n    /* cursor: url(\"data:image/svg+xml,%3Csvg  id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='32px' height='32px' viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;' xml:space='preserve'%3E %3Cpath d='M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z'/%3E %3C/svg%3E\"), pointer; */\r\n  }\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  \r\n  import SelectButton from '~/_components/SelectButton.svelte';\r\n  import Button from '~/_singles/buttons/Button.svelte';\r\n  import ArtboardOptions from '~/_components/ArtboardOptions.svelte';\r\n</script>\r\n\r\n<ArtboardOptions on:centerArtboard>\r\n  <SelectButton>\r\n    <slot slot=\"icon\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 24 24\"><path d=\"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z\"/></svg>\r\n    </slot>\r\n    <slot slot=\"list\">\r\n      <div>\r\n        <Button on:click={_ => ActionsManager.execute('palette_import')}>Import palette</Button>\r\n        <Button on:click={_ => ActionsManager.execute('palette_export')}>Export palette</Button>\r\n      </div>\r\n      <div>\r\n        <Button variant=\"danger\" on:click={_ => ActionsManager.execute('palette_clear')}>Clear all</Button>\r\n      </div>\r\n    </slot>\r\n  </SelectButton>\r\n</ArtboardOptions>","<script>\r\n  import Color from '~/_singles/Color.svelte';\r\n  import { NESPalette } from '~/application/project';\r\n  const click = (e) => {\r\n    console.log(e)\r\n  };\r\n</script>\r\n\r\n<ul>\r\n  {#each NESPalette as color}\r\n    <li><Color on:click={click} rgb={color.rgb} hex={color.hex} type=\"replace\" /></li>\r\n  {/each}\r\n</ul>","<script>\r\n  // components\r\n  import Color from '~/_singles/Color.svelte';\r\n  import Artboard, { centerScrollAndCanvas } from '~/_components/Artboard.svelte';\r\n  import Labeled from '~/_components/LabelWrapper.svelte';\r\n  import PaletteLayers from '~/_components/graphics/PaletteLayers.svelte';\r\n  \r\n  import PaletteOptions from '~/_components/graphics/PaletteOptions.svelte';\r\n\r\n  import { Palettes } from '~/stores/palettes.store.js';\r\n  const { activeLayer, layers } = Palettes.stores;\r\n\r\n  // actions\r\n  import { drop } from '~/actions/dragdrop';\r\n  import SwatchList from '~/_components/graphics/SwatchList.svelte';\r\n\r\n  let over;\r\n  const colorDirective = {\r\n    over: _ => over = true,\r\n    leave: _ => over = false,\r\n    drop: ({ e, value }) => {\r\n      over = false;\r\n      const swap = e.dataTransfer.getData('swap');\r\n      if(swap){\r\n        layers.swapColors({ ...JSON.parse(swap), to: {...value} });\r\n      }\r\n\r\n      // handle replacement\r\n      const replace = e.dataTransfer.getData('replace');\r\n      if(replace){\r\n        layers.replaceColor({ ...JSON.parse(replace), ...value });\r\n      }\r\n    }\r\n  };\r\n</script>\r\n        \r\n<section class=\"main-artboard\">\r\n  <!-- <ToolOptions>Placeholder</ToolOptions> -->\r\n  <div></div>\r\n  <div class=\"inner-artboard\">\r\n    <PaletteOptions on:centerArtboard={centerScrollAndCanvas} />\r\n    <Artboard>\r\n      {#if $activeLayer}\r\n        {#key $activeLayer}\r\n          <Labeled label={$activeLayer.label}>\r\n            <ul class=\"active-color-group\">\r\n              {#each $activeLayer.colors as color, colorIndex}\r\n                <li use:drop={{ ...colorDirective, value: { layerIndex: Palettes.layerIndexFromSource($activeLayer), colorIndex} }}>\r\n                  <Color hex={color.hex} rgb={color.rgb} layerIndex={Palettes.layerIndexFromSource($activeLayer)} {colorIndex}  type=\"swap\" />\r\n                </li>\r\n              {/each}\r\n            </ul>\r\n          </Labeled>\r\n        {/key}\r\n      {:else}\r\n        No layer selected\r\n      {/if}\r\n    </Artboard>\r\n  </div>\r\n</section>\r\n\r\n<section class=\"swatchlist\">\r\n  <SwatchList />\r\n</section>\r\n\r\n<section class=\"palettes-layers\">\r\n  <PaletteLayers showEditButtons />\r\n</section>\r\n\r\n<style>\r\n  .main-artboard{\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: 40px auto !important;\r\n  }\r\n  .inner-artboard{\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  section{\r\n    overflow: hidden;\r\n  }\r\n  \r\n  .swatchlist{\r\n    overflow-y: auto;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, .3);\r\n  }\r\n  .palettes-layers{\r\n    position: relative;\r\n    background-color: rgba(0, 0, 0, .2);\r\n  }\r\n  .swatchlist :global(ul){\r\n    display: grid;\r\n    grid-template-columns: repeat(3, auto);\r\n    grid-gap: 2rem;\r\n  }\r\n  .swatchlist :global(li){\r\n    height: 40px;\r\n  }\r\n\r\n  .active-color-group{\r\n    display: grid;\r\n    gap: 2px;\r\n    grid-template-columns: repeat(4, 1fr);\r\n    background-color: rgba(0, 0, 0, 0.741);\r\n  }\r\n\r\n  .active-color-group li{\r\n    width: 90px; \r\n    height: 90px;\r\n  }\r\n</style>","import { writable } from '~/utils/store.js';\r\nimport { derived } from 'svelte/store';\r\nimport { Spritesheets } from './spritesheets.store.js';\r\n\r\nlet interval;\r\nexport const activeImage = derived(Spritesheets.stores.activeLayer, ($s, set) => {\r\n  clearInterval(interval);\r\n  if(!$s) return;\r\n  interval = setInterval(() => {\r\n    $s.updateImageSource();\r\n    set($s.updateImageSource());\r\n  }, 500);\r\n  return () => {\r\n    clearInterval(interval);\r\n\t};\r\n});\r\n\r\nexport const layers = derived(Spritesheets.stores.layers, $s => $s);\r\n\r\nexport const Spritesets = writable({ layers, activeImage }, ({ store, value, get }) => {\r\n\r\n  return {\r\n    stores: value\r\n  };\r\n});","<script>\r\n  export let label = undefined;\r\n  export let disabled = false;\r\n  export let multiple = false;\r\n  export let value = undefined;\r\n</script>\r\n\r\n<div class=\"select-group\">\r\n  {#if label}\r\n    <label for=\"select\">{label}</label>\r\n  {/if}\r\n  <div class=\"select\" class:multiple on:change>\r\n    <select name=\"select\" bind:value {disabled}>\r\n      <slot></slot>\r\n    </select>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  select{\r\n    appearance: none;\r\n    background-color: transparent;\r\n    border: none;\r\n    margin: 0;\r\n    padding: 8px 40px 8px 20px;\r\n    font-family: inherit;\r\n    font-size: inherit;\r\n    cursor: inherit;\r\n    line-height: inherit;\r\n    width: 100%;\r\n    background-color: var(--accent-blue);\r\n    color: white;\r\n  }\r\n  select :global(option){\r\n    background-color: rgba(255, 255, 255, 0.659);\r\n    color: #000;\r\n    border: none;\r\n  }\r\n\r\n  select :global(option:checked){\r\n    font-style: italic;\r\n  }\r\n\r\n  .select{\r\n    color: black;\r\n    z-index: 1;\r\n    outline: none;\r\n    border: 2px solid black;\r\n    background-color: white;\r\n    border-radius: 4rem;\r\n    cursor: pointer;\r\n    line-height: 1.1;\r\n    display: grid;\r\n    grid-template-areas: \"select\";\r\n    align-items: center;\r\n    position: relative;\r\n    width: 100%;\r\n    \r\n    fill: white;\r\n    border-radius: 4px;\r\n    border: 1px solid rgba(0, 0, 0, 0);\r\n    border-top: 1px solid rgba(83, 147, 255, 0.95);\r\n    border-bottom: 1px solid rgba(0, 0, 0, .3);\r\n    background-color: rgb(44, 96, 252);\r\n    box-shadow: inset 0 0px 2px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n    opacity: 1;\r\n    pointer-events: all;\r\n    cursor: pointer;\r\n    transition: opacity .13s;\r\n  }\r\n  .select select, .select::after {\r\n    grid-area: select;\r\n  }\r\n  .select:not(.multiple)::after {\r\n    content: \"\";\r\n    justify-self: end;\r\n    margin: 0 15rem;\r\n    width: 6px;\r\n    height: 4px;\r\n    background-color: black;\r\n    clip-path: polygon(100% 0%, 0 0%, 50% 100%);\r\n    pointer-events: none;\r\n  }\r\n\r\n  .select select[disabled]{\r\n    cursor: not-allowed;\r\n    background-color: #eee;\r\n  }\r\n\r\n  label {\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n  }\r\n\r\n  .select-group{\r\n    width: 100%;\r\n  }  \r\n  .select-group > label{\r\n    margin-bottom: 20px;\r\n  }\r\n</style>","<script>\r\n  import Artboard, { centerScrollAndCanvas } from '~/_components/Artboard.svelte';\r\n  import SpritesheetToolbar from '~/_components/graphics/SpritesheetToolbar.svelte';\r\n  import SpritesheetLayers from '~/_components/graphics/SpritesheetLayers.svelte';\r\n  import PaletteLayers from '~/_components/graphics/PaletteLayers.svelte';\r\n  import SpritesheetOptions from '~/_components/graphics/SpritesheetOptions.svelte';\r\n  import SpritesheetEditor from '~/modules/spritesheet_editor/SpritesheetEditor.svelte';\r\n\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  \r\n  import { Spritesheets } from '~/stores/spritesheets.store.js';\r\n  import { Spritesets } from '~/stores/spritesets.store.js';\r\n  \r\n  import Select from '~/_singles/form/Select.svelte';\r\n  \r\n  const { activeImage } = Spritesets.stores;\r\n  const { layers, activeLayer, artboard } = Spritesheets.stores;\r\n\r\n  // this should be refactored to be an action \r\n  let zoom = $artboard.zoom;\r\n  const changeZoomLevel = (e) => {\r\n    // TODO: find out the x,y of the cursor position and update the canvas origin\r\n    // so it zooms where the cursor is located. will perhaps give a nicer feel\r\n    // update zoom\r\n    zoom = Math.max(1, zoom + (zoom - e.detail.deltaY > 0 ? 1 : -1));\r\n  };\r\n\r\n  const generateLoop = (n = 16) => new Array(n).fill(null).map((_, i) => i+1).reverse();\r\n\r\n  let xl = [...generateLoop()];\r\n  let yl = [...generateLoop()];\r\n  \r\n  let selectedSpritesheet;\r\n  const selectSpritesheet = (e) => {\r\n    ActionsManager.execute('spritesheet_make_layer_active', selectedSpritesheet)\r\n  };\r\n</script>\r\n\r\n<section class=\"main-artboard\">\r\n  <!-- <ToolOptions>Placeholder</ToolOptions> -->\r\n  <div></div>\r\n  <div class=\"inner-artboard\">\r\n    <SpritesheetOptions on:centerArtboard={centerScrollAndCanvas} />\r\n    <Artboard on:artboardScrollEvent={changeZoomLevel}>\r\n      <SpritesheetEditor {zoom} />\r\n    </Artboard>\r\n  </div>\r\n  <section class=\"tiles\">\r\n    <header>\r\n      <div>\r\n        <Select bind:value={selectedSpritesheet} on:change={selectSpritesheet}>\r\n          {#each $layers as layer}\r\n            <option value={layer}>{layer.label}</option>\r\n          {:else}\r\n            <option>oh noo!</option>\r\n          {/each}\r\n        </Select>\r\n      </div>\r\n    </header>\r\n    <div class=\"tile-grid\">\r\n      {#if $activeLayer}\r\n        {#key $activeImage}\r\n          {#each xl as a}\r\n            {#each yl as b}\r\n              <div class=\"tile-image\" style=\"--src: url({$activeLayer.image.src}); --x: {a}; --y: {b};\"></div>\r\n            {/each}\r\n          {/each}\r\n        {/key}\r\n      {/if}\r\n    </div>\r\n  </section>\r\n</section>\r\n\r\n<section class=\"toolbar-layer\">\r\n  <SpritesheetToolbar />\r\n</section>\r\n\r\n<section class=\"spritesheets-layer\">\r\n\r\n</section>\r\n\r\n<section class=\"palettes-layer\">\r\n  <PaletteLayers showEditButtons={false} />\r\n</section>\r\n\r\n<style>\r\n  .main-artboard{\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: 40px auto 200px !important;\r\n  }\r\n  .inner-artboard{\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  .toolbar-layer{\r\n    background-color: rgba(0, 0, 0, .3);\r\n  }\r\n  .spritesheets-layer{\r\n    background-color: rgba(0, 0, 0, .2);\r\n  }\r\n  .palettes-layer{\r\n    background-color: rgba(0, 0, 0, .3);\r\n  }\r\n  section{\r\n    overflow: hidden;\r\n  }\r\n  .tiles{\r\n    display: grid;\r\n    grid-template-rows: 50px auto;\r\n  }\r\n  .tiles header{\r\n    padding: 4px 8px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    background-color: rgba(0, 0, 0, .2);\r\n  }  \r\n  .tile-grid{\r\n    padding: 8px;\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, 24px);\r\n    gap: 4px;\r\n    overflow-y: scroll;\r\n  }\r\n  .tile-grid .tile-image{\r\n    cursor: pointer;\r\n    width: 24px;\r\n    height: 24px;\r\n    background-size: calc(128 * 3px) calc(128 * 3px);\r\n    background-position: calc(var(--y) * 24px) calc(var(--x) * 24px);\r\n    background-image: var(--src);\r\n    background-color: black;\r\n    image-rendering: -moz-crisp-edges;\r\n    image-rendering: -webkit-crisp-edges;\r\n    image-rendering: pixelated;\r\n    image-rendering: crisp-edges;\r\n  }\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  import Layer from '~/_components/Layer.svelte';\r\n\r\n  const removeLayer = (e) => ActionsManager.execute('tilemap_remove', e.detail);\r\n  const updateLabel = e => ActionsManager.execute('tilemap_update_layer_label', { source: e.detail.source, label: e.detail.value });\r\n  const makeLayerActive = e => ActionsManager.execute('tilemap_make_layer_active', e.detail);\r\n  const cloneLayer = e => ActionsManager.execute('tilemap_clone_layer', e.detail);\r\n  const swapLayers = e => ActionsManager.execute('tilemap_swap_layers', e.detail);\r\n</script>\r\n\r\n<Layer {...$$restProps} on:swapLayers={swapLayers} on:remove={removeLayer} on:updateLabel={updateLabel} on:makeActive={makeLayerActive} on:clone={cloneLayer}>\r\n  <slot></slot>\r\n</Layer>","<script>\r\n  import Button from '~/_singles/buttons/Button.svelte';\r\n  import Layer from '~/_components/graphics/TilemapsLayer.svelte';\r\n  import CanvasPreview from '~/_components/graphics/CanvasPreview.svelte';\r\n  \r\n  import ActionsManager from '~/application/ActionsManager';  \r\n  import { Tilemaps } from '~/stores/tilemaps.store.js';\r\n\r\n  const { activeLayer, layers } = Tilemaps.stores;\r\n\r\n</script>\r\n\r\n<div class=\"palette-layer\">\r\n\r\n  <div class=\"layers\">\r\n    {#if $layers.length}\r\n      {#key $layers}\r\n        {#each $layers as canvas, layerIndex}\r\n          <Layer source={canvas} activeLayer={activeLayer} {layerIndex}>\r\n            <div class=\"canvas-preview-wrapper\">\r\n              <CanvasPreview source={canvas} width={256} height={240} />\r\n            </div>\r\n          </Layer>\r\n        {/each}\r\n      {/key}\r\n    {:else}\r\n      <div class=\"center\">\r\n        No tilemaps\r\n      </div>\r\n    {/if}\r\n  </div>\r\n\r\n  <div class=\"center\">\r\n    <Button on:click={_ => ActionsManager.execute('tilemap_create')}>Create tilemap</Button>\r\n  </div>\r\n\r\n</div>\r\n\r\n<style>\r\n  .center{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    padding: 15rem;\r\n  }\r\n\r\n  .palette-layer{\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: calc(100% - 40px) 40px;\r\n    height: 100%;\r\n  }\r\n  .layers{\r\n    overflow-y: auto;\r\n  }\r\n  .canvas-preview-wrapper{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    padding: 10rem 10rem;\r\n    background: rgba(0, 0, 0, 0.481);\r\n    border: 1px solid rgba(255, 255, 255, 0.097);\r\n  }\r\n</style>","<script>\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  \r\n  import SelectButton from '~/_components/SelectButton.svelte';\r\n  import Button from '~/_singles/buttons/Button.svelte';\r\n  import ArtboardOptions from '~/_components/ArtboardOptions.svelte';\r\n</script>\r\n\r\n<ArtboardOptions on:centerArtboard>\r\n  <SelectButton>\r\n    <slot slot=\"icon\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 24 24\"><path d=\"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z\"/></svg>\r\n    </slot>\r\n    <slot slot=\"list\">\r\n      <div>\r\n        <Button on:click={_ => ActionsManager.execute('tilemap_import')}>Import tilemap</Button>\r\n      </div>\r\n      <div>\r\n        <Button on:click={_ => ActionsManager.execute('tilemap_export')}>Export tilemap</Button>\r\n        <Button on:click={_ => ActionsManager.execute('tilemap_export_nametable')}>Export nametable</Button>\r\n        <Button on:click={_ => ActionsManager.execute('tilemap_export_png')}>Export PNG</Button>\r\n      </div>\r\n      <div>\r\n        <Button variant=\"danger\" on:click={_ => ActionsManager.execute('tilemap_clear')}>Clear all</Button>\r\n      </div>\r\n    </slot>\r\n  </SelectButton>\r\n</ArtboardOptions>","import { AnimationLoop } from '~/utils/canvas.js';\r\n\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\nimport { Tilemaps } from '~/stores/tilemaps.store.js';\r\n\r\nexport const Type = Object.freeze({ primary: 1, secondary: 2, move: 3, mouseup: 4 });\r\n\r\n\r\n// TODO: this and the spritesheet editor should be refactored out to the same reusable component\r\n// instead of doing essentially the same thing over and over. queue it for the next major refactor\r\n\r\nexport default class TilemapEditor{\r\n  constructor({ canvas, context, width, height }){\r\n    this.activeLayer = undefined;\r\n    this.activePaletteLayer = undefined;\r\n    this.lastChanged = undefined;\r\n\r\n    this.canvas;\r\n    this.context;\r\n\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    const fps = 120;\r\n    this.animationLoop = AnimationLoop(this.render.bind(this), fps);\r\n    \r\n    this.events = {};\r\n    this.eventHandler = {};\r\n\r\n    const callActionType = (type, e) => {\r\n      e.mouseIsDown = mouseIsDown;\r\n      switch(type){\r\n        case Type.primary:\r\n          callEvent('primary', e);\r\n        break;\r\n        case Type.secondary:\r\n          callEvent('secondary', e);\r\n        break;\r\n        case Type.move:\r\n          callEvent('move', e); \r\n        break;\r\n        case Type.mouseup:\r\n          callEvent('mouseup', e); \r\n        break;\r\n        default:\r\n          console.log('hmm...')\r\n      }\r\n    }\r\n\r\n    // temp to see if mouse pos handles the transform css scale\r\n    function  getMousePos(canvas, evt) {\r\n      if(!canvas) return {x: 0, y: 0};\r\n      const rect = canvas.getBoundingClientRect(), // abs. size of element\r\n        scaleX = canvas.width / rect.width,    // relationship bitmap vs. element for X\r\n        scaleY = canvas.height / rect.height;  // relationship bitmap vs. element for Y\r\n    \r\n      return {\r\n        x: Math.floor((evt.clientX - rect.left) * scaleX),   // scale mouse coordinates after they have\r\n        y: Math.floor((evt.clientY - rect.top) * scaleY)     // been adjusted to be relative to element\r\n      }\r\n    }\r\n\r\n    const callEvent = (type, e) => {\r\n      if(this.events[type]){\r\n        e.realMousePosition = getMousePos(this.canvas, e); \r\n        this.events[type].call(null, e);\r\n      }\r\n    }\r\n    // handle event actions\r\n    let mouseIsDown = false;\r\n    this.eventHandler.mousemove = (e) => {\r\n      callActionType(Type.move, e);\r\n    }\r\n    this.eventHandler.mouseup = e => {\r\n      mouseIsDown = false;\r\n      callActionType(Type.mouseup, e);\r\n    };\r\n    this.eventHandler.mousedown = (e) => {\r\n      mouseIsDown = true;\r\n      let type;\r\n      if(e.which == 1){\r\n        type = Type.primary;\r\n      }else if(e.which == 3){\r\n        type = Type.secondary;\r\n      }else{\r\n        return;\r\n      }\r\n      callActionType(type, e);\r\n    }\r\n\r\n    // bind events\r\n    document.addEventListener('mousemove', this.eventHandler.mousemove);\r\n    document.addEventListener('mouseup', this.eventHandler.mouseup);\r\n  }\r\n\r\n  defineCanvas(canvas){\r\n    this.canvas = canvas;\r\n    this.context = this.canvas.getContext('2d');\r\n    this.canvas.addEventListener('mousedown', this.eventHandler.mousedown);\r\n  }\r\n\r\n  on(event, fn){\r\n    if(typeof event != 'string' && typeof fn !== 'function'){\r\n      throw new Error(`Invalid eventlistener`);\r\n    }\r\n    if(this.events[event]){\r\n      throw new Error(`Event already exists : ${event}`);\r\n    }\r\n    this.events[event] = fn;\r\n  }\r\n\r\n  // render\r\n  render(args){\r\n    if(!this.canvas) return;\r\n    this.context.clearRect(0,0, 256, 240);\r\n    // const activeSpritesheetLayer = Spritesheets.stores.activeLayer.get();\r\n    const activeTilemapLayer = Tilemaps.stores.activeLayer.get();\r\n    const activePaletteLayer = Palettes.stores.activeLayer.get();\r\n    if(activeTilemapLayer && activePaletteLayer){\r\n      if(this.lastChanged != Palettes.lastChanged.get() || (this.activeLayer != activeTilemapLayer || this.activePaletteLayer != activePaletteLayer)){\r\n        // draw from source\r\n        activeTilemapLayer.drawFromSource(activePaletteLayer);\r\n        // set the current active layers\r\n        this.activeLayer = activeTilemapLayer;\r\n        this.activePaletteLayer = activePaletteLayer;\r\n        // store last change to palettes so we can force an update\r\n        this.lastChanged = Palettes.lastChanged.get();\r\n      }\r\n      // draw active layer on the canvas context\r\n      this.context.drawImage(activeTilemapLayer.element, 0, 0);\r\n    }\r\n  }\r\n  // clean up\r\n  destroy(){\r\n    // stop animationframe\r\n    this.animationLoop.unsubscribe();\r\n    // clean up events\r\n    if(this.canvas){\r\n      this.canvas.removeEventListener('mousedown', this.eventHandler.mousedown);\r\n    }\r\n    document.removeEventListener('mousemove', this.eventHandler.mousemove);\r\n    document.removeEventListener('mouseup', this.eventHandler.mouseup);\r\n  }\r\n}","import { EnumerableList, Enum } from 'enums-manager';\r\n\r\n// tools \r\nexport const ToolTypes = new EnumerableList(\r\n  'pointer', \r\n  'tile', \r\n);\r\n\r\nexport const icons = {\r\n  stop: 'M14 14.655l-5.799.908 3.393 6.917-3.112 1.52-3.412-6.982-4.07 3.651v-15.857l13 9.843zm3-14.655c-3.313 0-6 2.687-6 6s2.687 6 6 6 6-2.687 6-6-2.686-6-6-6zm-4 6c0-.739.215-1.424.567-2.019l5.453 5.453c-.595.351-1.28.566-2.02.566-2.206 0-4-1.794-4-4zm7.434 2.02l-5.453-5.453c.595-.352 1.28-.567 2.019-.567 2.206 0 4 1.794 4 4 0 .74-.215 1.424-.566 2.02z',\r\n}\r\n\r\nexport class Cursor{\r\n  constructor(props){\r\n    this.icon = '';\r\n    this.offset = {x: 0, y: 0};\r\n    this.size = {width: 11, height: 11};\r\n    this.scale = {x: 1, y: 1};\r\n    Object.assign(this, props);\r\n  }\r\n}\r\n\r\nexport default class Tool{\r\n  constructor(props){\r\n    this.visible_in_toolbar = true;\r\n    this.pixelIndicator = false;\r\n    this.singleAction = false;\r\n  }\r\n  onMount(){}\r\n  onDestroy(){}\r\n  primary(){}\r\n  secondary(){}\r\n  move(){}\r\n  mouseup(){}\r\n  reset(){}\r\n}","import Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nexport default class Pointer extends Tool{\r\n  constructor(){\r\n    super();\r\n    this.title = 'Pointer (V)';\r\n    this.name = 'pointer';\r\n    this.enum = ToolTypes.get('pointer');\r\n    this.weight = 100;\r\n    this.icon = 'M4 0l16 12.279-6.78 1.138 4.256 8.676-3.902 1.907-4.281-8.758-5.293 4.581z';\r\n    this.cursor = new Cursor({});\r\n  }\r\n  primary(props){}\r\n  secondary(props){}\r\n  move(props){\r\n    console.log('aa')\r\n  }\r\n}","// const x = Math.floor(e.realMousePosition.x / 8);\r\n//   const y = Math.floor(e.realMousePosition.y / 8);\r\n//   activeLayer.get().data[y][x] = { x: 1, y: 0 };\r\n\r\nimport Tool, { ToolTypes, Cursor } from './tool.js';\r\n\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';\r\nimport ActionsManager from \"~/application/ActionsManager.js\";\r\n\r\nimport { Palettes } from '~/stores/palettes.store.js';\r\nimport { Tilemaps } from '~/stores/tilemaps.store.js';\r\nimport { Spritesheets } from '~/stores/spritesheets.store.js';\r\n\r\nimport { TileCursor, ColorAttributesOverlay } from '~/modules/spritesheet_editor/SpritesheetEditor.js';\r\n\r\nexport default class Tile extends Tool{\r\n  constructor(){\r\n    super();\r\n\r\n    // this.hotkeysGroups = ['colorattribute'];\r\n    // const toggleOverlay = HotkeysManager.set(['Tab'], { groups: this.hotkeysGroups });\r\n    // toggleOverlay.on(({ e, Hotkey, on }) => ColorAttributesOverlay.toggle());\r\n    // toggleOverlay.off(({ e, Hotkey, on }) => ColorAttributesOverlay.toggle());\r\n\r\n    // this.cursorLayers = [\r\n    //   ColorAttributesOverlay,\r\n    //   // TODO: change tilecursor to be a cursor of the 4 colors \r\n    //   TileCursor,\r\n    // ];\r\n\r\n    this.title = 'Tile (B)';\r\n    this.name = 'tile';\r\n    this.enum = ToolTypes.get('tile');\r\n    this.weight = 75;\r\n    this.icon = 'M17.831 7.672c1.096-1.096 2.875-1.865 3.688-3.106.892-1.362.508-3.192-.851-4.085-1.362-.892-3.187-.508-4.081.854-.842 1.286-.801 3.322-1.433 4.779-.817 1.882-3.553 2.116-6.698.474-1.727 3.352-4.075 6.949-6.456 9.874l2.263 1.484c1.018-.174 2.279-1.059 2.792-2.03-.04 1.167-.478 2.2-1.337 2.983l4.275 2.797c.546-.544 1.054-.976 1.616-1.345-.319.643-.532 1.324-.63 1.99l2.532 1.659c1.5-2.884 4.416-7.343 6.455-9.874-2.82-2.272-3.657-4.936-2.135-6.454zm1.762-5.545c.454.296.58.908.281 1.36-.294.457-.905.582-1.356.286-.456-.297-.582-.906-.284-1.36.295-.455.905-.583 1.359-.286zm-3.959 15.037l-8.225-5.386 1.616-2.469 8.221 5.387-1.612 2.468z';\r\n    this.cursor = new Cursor({\r\n      icon: 'M17.831 7.672c1.096-1.096 2.875-1.865 3.688-3.106.892-1.362.508-3.192-.851-4.085-1.362-.892-3.187-.508-4.081.854-.842 1.286-.801 3.322-1.433 4.779-.817 1.882-3.553 2.116-6.698.474-1.727 3.352-4.075 6.949-6.456 9.874l2.263 1.484c1.018-.174 2.279-1.059 2.792-2.03-.04 1.167-.478 2.2-1.337 2.983l4.275 2.797c.546-.544 1.054-.976 1.616-1.345-.319.643-.532 1.324-.63 1.99l2.532 1.659c1.5-2.884 4.416-7.343 6.455-9.874-2.82-2.272-3.657-4.936-2.135-6.454zm1.762-5.545c.454.296.58.908.281 1.36-.294.457-.905.582-1.356.286-.456-.297-.582-.906-.284-1.36.295-.455.905-.583 1.359-.286zm-3.959 15.037l-8.225-5.386 1.616-2.469 8.221 5.387-1.612 2.468z',\r\n      size: {\r\n        width: 66,\r\n        height: 66,\r\n      },\r\n      stroke: 1.5 ,\r\n      offset: {\r\n        x: 0, \r\n        y: 10\r\n      }    \r\n    });\r\n\r\n\r\n    this.properties = {\r\n      remove: undefined,\r\n      previous: {\r\n        x: undefined, \r\n        y: undefined\r\n      }\r\n    }\r\n  }\r\n\r\n  primary(props){\r\n    let { x, y } = props.realMousePosition;\r\n    if(!(x > 0 && x < 256 && y > 0 && y < 240)) return;\r\n    x = Math.floor(x / 8);\r\n    y = Math.floor(y / 8);\r\n    this.properties.previous.x = x;\r\n    this.properties.previous.y = y;\r\n    this.setTileAtPosition({ x, y });\r\n  }\r\n  secondary(props){\r\n    // let { x, y } = props.realMousePosition;\r\n    // x = Math.floor(x / 8);\r\n    // y = Math.floor(y / 8);\r\n    // this.properties.remove = true;\r\n    // this.setColorAttribute({ x, y });\r\n  }\r\n  setTileAtPosition({ x, y }){\r\n    const activeLayer = Tilemaps.stores.activeLayer.get();\r\n    if(!activeLayer) return;\r\n\r\n    const current = Spritesheets.stores.selectedTile.stores.current.get();\r\n    if(!current) return;\r\n\r\n    const { x: _x, y: _y } = current;\r\n\r\n    activeLayer.data[y][x] = { x: _x, y: _y, uuid: Spritesheets.stores.activeLayer.get().uuid };\r\n    activeLayer.context.drawImage(\r\n      Spritesheets.stores.activeLayer.get().element, \r\n        // that\r\n        _x * 8, \r\n        _y * 8,\r\n        8, \r\n        8,\r\n\r\n        // this\r\n        x * 8,\r\n        y * 8,\r\n        8, \r\n        8\r\n      );\r\n  }\r\n  mouseup(){\r\n    this.properties.remove = undefined;\r\n    const activeLayer = Tilemaps.stores.activeLayer.get();\r\n    if(activeLayer){\r\n      activeLayer.forceUpdate();\r\n    }\r\n  }\r\n  move(props){\r\n    \r\n    let { x, y } = props.realMousePosition;\r\n    // update cursor position\r\n    TileCursor.x = x;\r\n    TileCursor.y = y;\r\n\r\n    if(!props.mouseIsDown) return;\r\n\r\n    if(!(x > 0 && x < 256 && y > 0 && y < 240)) return;\r\n    \r\n    x = Math.floor(x / 8);\r\n    y = Math.floor(y / 8);\r\n\r\n    if(props.which == 1 || props.which == 3){\r\n      if(!(this.properties.previous.x == x && this.properties.previous.y == y)){\r\n        this.setTileAtPosition({ x, y });\r\n      }\r\n      this.properties.previous.x = x;\r\n      this.properties.previous.y = y;\r\n    }\r\n\r\n  }\r\n}","import { writable } from '~/utils/store';\r\nimport { Enum } from 'enums-manager';\r\n\r\nimport HotkeysManager from '~/keyboard_shortcuts/manager.js';;\r\n\r\n// temp \r\nimport Tool, { ToolTypes } from './tools/tool.js';\r\nexport { ToolTypes };\r\n\r\n// tools\r\nimport Pointer from './tools/pointer.js';\r\nimport Tile from './tools/tile.js';\r\n\r\nconst mapped = {\r\n  pointer: new Pointer(),\r\n  tile: new Tile(),\r\n};\r\n\r\nexport const Toolbar = {\r\n  tools: mapped, \r\n  activeTool: writable(undefined, ({ value, store, get }) => {\r\n    return {\r\n      setActive(_enum){\r\n        if(!(_enum instanceof Enum)){\r\n          throw new Error(`Invalid tool`);\r\n        }\r\n        const prev = get();\r\n        if(prev instanceof Tool){\r\n          prev.onDestroy();\r\n        }\r\n        const instance = mapped[_enum.key];\r\n        const { cursor } = instance;\r\n        // fallback cursor\r\n        let type = 'default';\r\n        // overwrite cursor if one is defined on the tool\r\n        if(cursor && cursor.icon){\r\n          type = `url(\"data:image/svg+xml,%3Csvg transform='' xmlns='http://www.w3.org/2000/svg' width='${cursor.size.width}' height='${cursor.size.height}' viewBox='0 0 100 100' xml:space='preserve'%3E %3Cpath fill='white' stroke='black' stroke-width='${cursor.stroke || 2}' d='${cursor.icon}'/%3E %3C/svg%3E\") ${cursor.offset.x} ${cursor.offset.y}, auto`\r\n        }\r\n        // set new icon to css variable\r\n        document.documentElement.style.setProperty('--canvas-cursor', type);\r\n        store.set(instance);\r\n\r\n        // activate keyboard shortcuts\r\n        if(Array.isArray(instance.hotkeysGroups)){\r\n          // TODO: refactor this so it isn't tied to the spritesheets. We might want tools in other sections\r\n          // but for now this will work\r\n          HotkeysManager.enableGroups('*', 'tilemaps', ...instance.hotkeysGroups);\r\n        }\r\n      }\r\n    }\r\n  })\r\n};\r\n\r\nToolbar.activeTool.setActive(ToolTypes.get('tile'));\r\n\r\n// tool actions\r\nconst execute = (t, ...args) => {\r\n  if(t){\r\n    t.call(Toolbar.activeTool.get(), ...args);\r\n  }\r\n}\r\n\r\nexport const primary = (...args) => execute(Toolbar.activeTool.get()?.primary, ...args);\r\nexport const secondary = (...args) => execute(Toolbar.activeTool.get()?.secondary, ...args);\r\nexport const move = (...args) => execute(Toolbar.activeTool.get()?.move, ...args);\r\nexport const mouseup = (...args) => execute(Toolbar.activeTool.get()?.mouseup, ...args);","<script>\r\n  import { onMount } from \"svelte\";\r\n  import { Palettes } from '~/stores/palettes.store.js';\r\n  import { Tilemaps } from '~/stores/tilemaps.store.js';\r\n  import TilemapEditor from './TilemapEditor.js';\r\n  import { primary, secondary, move, mouseup } from '~/modules/tilemap_editor/tools.js';\r\n\r\n  export let zoom;\r\n\r\n  const { activeLayer, layers, width, height } = Tilemaps.stores;\r\n  const activePaletteLayer = Palettes.stores.activeLayer;\r\n\r\n  let canvas;\r\n  \r\n  let editor = new TilemapEditor({\r\n    width: 256, \r\n    height: 240 \r\n  }); \r\n\r\n  // bind events\r\n  editor.on('primary', (e) => primary(e));\r\n  editor.on('secondary', (e) => secondary(e));\r\n  editor.on('move', (e) => move(e));\r\n  editor.on('mouseup', (e) => mouseup(e));\r\n\r\n\r\n  $: if(canvas){\r\n    // editor\r\n    editor.defineCanvas(canvas);\r\n  }\r\n\r\n  onMount(() => {\r\n    // clean up\r\n    return () => {\r\n      if(editor){\r\n        editor.destroy();\r\n      }\r\n    }\r\n  });\r\n</script>\r\n\r\n{#if $activeLayer && $layers.length && $activePaletteLayer}\r\n  <div style=\"--zoom: {zoom};\">\r\n    <canvas bind:this={canvas} width={256} height={240}>\r\n      <slot></slot>\r\n    </canvas>\r\n  </div>\r\n{:else}\r\n  Please select a spritesheet and palette\r\n{/if}\r\n\r\n<style>\r\n  div{\r\n    --zoom: 2;\r\n    transform: scale(var(--zoom));\r\n    transition-timing-function: linear;\r\n    transition: transform .15s;\r\n    padding: 4px;\r\n    border-radius: 1px;\r\n    background-color: rgba(0, 0, 0, .25);\r\n    transform-origin: center center;\r\n    box-shadow: 0 0 5px rgba(0, 0, 0, .2);\r\n  }\r\n\r\n  canvas{\r\n    display: block;\r\n    cursor: var(--canvas-cursor, none);\r\n    position: relative;\r\n    image-rendering: -moz-crisp-edges;\r\n    image-rendering: -webkit-crisp-edges;\r\n    image-rendering: pixelated;\r\n    image-rendering: crisp-edges;\r\n  }\r\n</style>","<script>\r\n  import Canvas from \"~/modules/tilemap_editor/Canvas.svelte\";\r\n  export let zoom;\r\n</script>\r\n\r\n<Canvas {zoom} />","<script>\r\n  import Artboard, { centerScrollAndCanvas } from '~/_components/Artboard.svelte';\r\n  import TilemapsLayers from '~/_components/graphics/TilemapsLayers.svelte';\r\n  import PaletteLayers from '~/_components/graphics/PaletteLayers.svelte';\r\n  import TilemapOptions from '~/_components/graphics/TilemapOptions.svelte';\r\n  import TilemapEditor from '~/modules/tilemap_editor/TilemapEditor.svelte';\r\n\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  \r\n  import { Tilemaps } from '~/stores/tilemaps.store.js';\r\n  import { Spritesets } from '~/stores/spritesets.store.js';\r\n  import { Spritesheets } from '~/stores/spritesheets.store.js';\r\n  \r\n  import Select from '~/_singles/form/Select.svelte';\r\n  \r\n  // get current and fallback stores\r\n  const { current, fallback } = Spritesheets.stores.selectedTile.stores;\r\n\r\n  // TODO: breakout activeImage from spritesets and on to spritesheets instead\r\n  const { layers, activeLayer } = Tilemaps.stores;\r\n  const { activeLayer: SpritesheetsActiveLayer, selectedTile } = Spritesheets.stores;\r\n  const { layers: SpritesetsLayers, activeLayer: SpritesetsActiveLayer, activeImage } = Spritesets.stores;\r\n\r\n  // this should be refactored to be an action \r\n  let zoom = 2;\r\n  const changeZoomLevel = (e) => {\r\n    // TODO: find out the x,y of the cursor position and update the canvas origin\r\n    // so it zooms where the cursor is located. will perhaps give a nicer feel\r\n    // update zoom\r\n    zoom = Math.max(1, zoom + (zoom - e.detail.deltaY > 0 ? 1 : -1));\r\n  };\r\n\r\n  // NOTE: Keyed each is running the each block in reverse (probably a side effect due to it can become modified mid loop and it needs to keep track of it)\r\n  // so to combat that we reverse it, but the coordinates then gets reversed. Simply subract 15 (16 counting with 0, length/height of the spritesheet)\r\n  // so thats why there are a and b - 15 in the dom.\r\n  const generateLoop = (n = 16) => new Array(n).fill(null).map((_, i) => i).reverse();\r\n\r\n  let xl = [...generateLoop()];\r\n  let yl = [...generateLoop()];\r\n  \r\n  let selectedSpritesheet;\r\n  const selectSpritesheet = (e) => {\r\n    ActionsManager.execute('spritesheet_make_layer_active', selectedSpritesheet)\r\n  };\r\n</script>\r\n\r\n<section class=\"main-artboard\">\r\n  <!-- <ToolOptions>Placeholder</ToolOptions> -->\r\n  <div></div>\r\n  <div class=\"inner-artboard\">\r\n    <TilemapOptions on:centerArtboard={centerScrollAndCanvas} />\r\n    <Artboard on:artboardScrollEvent={changeZoomLevel}>\r\n      <TilemapEditor {zoom} />\r\n    </Artboard>\r\n  </div>\r\n  <section class=\"tiles\">\r\n    <header>\r\n      <div>\r\n        <Select bind:value={selectedSpritesheet} on:change={selectSpritesheet}>\r\n          {#each $SpritesetsLayers as layer}\r\n            <option value={layer}>{layer.label}</option>\r\n          {:else}\r\n            <option>oh noo!</option>\r\n          {/each}\r\n        </Select>\r\n      </div>\r\n    </header>\r\n    <div class=\"tile-grid\">\r\n      {#if $SpritesheetsActiveLayer}\r\n        {#key $activeImage}\r\n          {#each xl as a}\r\n            {#each yl as b}\r\n              <div class:active={$current?.x == 15 - b && $current?.y == 15 - a && $SpritesheetsActiveLayer == $current.ref} class=\"tile-image\" style=\"--src: url({$SpritesheetsActiveLayer.image.src}); --x: {a+1}; --y: {b+1};\" on:click={_ => ActionsManager.execute('spritesheet_set_selected_tile', { x: 15 - b, y: 15 - a, ref: $SpritesheetsActiveLayer })}></div>\r\n            {/each}\r\n          {/each}\r\n        {/key}\r\n      {/if}\r\n    </div>\r\n  </section>\r\n</section>\r\n\r\n<section class=\"spritesheets-layer\">\r\n  <TilemapsLayers />\r\n</section>\r\n\r\n<section class=\"palettes-layer\">\r\n  <PaletteLayers showEditButtons={false} />\r\n</section>\r\n\r\n<style>\r\n  .main-artboard{\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: 40px auto 200px !important;\r\n  }\r\n  .inner-artboard{\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .spritesheets-layer{\r\n    background-color: rgba(0, 0, 0, .2);\r\n  }\r\n  .palettes-layer{\r\n    background-color: rgba(0, 0, 0, .3);\r\n  }\r\n  section{\r\n    overflow: hidden;\r\n  }\r\n  .tiles{\r\n    display: grid;\r\n    grid-template-rows: 50px auto;\r\n  }\r\n  .tiles header{\r\n    padding: 4px 8px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    background-color: rgba(0, 0, 0, .2);\r\n  }  \r\n  .tile-grid{\r\n    padding: 8px;\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, 28px);\r\n    gap: 4px;\r\n    overflow-y: scroll;\r\n  }\r\n  .tile-grid .tile-image{\r\n    --size: 24px;\r\n    cursor: pointer;\r\n    width: calc(var(--size) + 4px);\r\n    height: calc(var(--size) + 4px);\r\n    background-size: calc(128 * 3px) calc(128 * 3px);\r\n    background-position: calc(var(--y) * var(--size)) calc(var(--x) * var(--size));\r\n    background-image: var(--src);\r\n    background-color: black;\r\n    image-rendering: -moz-crisp-edges;\r\n    image-rendering: -webkit-crisp-edges;\r\n    image-rendering: pixelated;\r\n    image-rendering: crisp-edges;\r\n  }\r\n  .tile-image{\r\n    border: 2px solid black;\r\n  }\r\n  .active{\r\n    border: 2px solid var(--accent-blue);\r\n  }\r\n</style>","import { navigate, decorator } from 'svelte-standalone-router';\r\nimport KeyboardManager from '~/keyboard_shortcuts/manager';\r\n\r\n// toolbar \r\nimport { Toolbar } from '~/modules/spritesheet_editor/tools.js';\r\n\r\n// decorator\r\nimport _Spritesheets from '~/_decorators/_Spritesheets.svelte';\r\nimport _Palettes from '~/_decorators/_Palettes.svelte';\r\nimport _Tilemaps from '~/_decorators/_Tilemaps.svelte';\r\n\r\n// pages\r\nimport Spritesheets from '~/_views/graphics/Spritesheets.svelte';\r\nimport Palettes from '~/_views/graphics/Palettes.svelte';\r\nimport Spritesets from '~/_views/graphics/Spritesets.svelte';\r\nimport Tilemaps from '~/_views/graphics/Tilemaps.svelte';\r\n\r\n// sections \r\nconst spritesheets = decorator(_Spritesheets);\r\nspritesheets('/graphics', _ => navigate('/graphics/spritesheets'))\r\n  // catch all /gfx/:section subroutes\r\nspritesheets('/graphics/spritesheets', (req, res) => {\r\n  // send the component to the view\r\n  try{\r\n    // enable the right shortcuts group for this page\r\n    const activeTool = Toolbar.activeTool.get().hotkeysGroups ?? []; \r\n    KeyboardManager.enableGroups('*', 'spritesheets', ...activeTool);\r\n    res.send(Spritesheets);\r\n  }catch(error){\r\n    res.error();\r\n  }\r\n});\r\n\r\n// palettes section\r\nconst palettes = decorator(_Palettes);\r\n// catch all /gfx/:section subroutes\r\npalettes('/graphics/palettes', (req, res) => {\r\n  // send the component to the view\r\n  try{\r\n    // enable the right shortcuts group for this page\r\n    KeyboardManager.enableGroups('*', 'palettes');\r\n    res.send(Palettes);\r\n  }catch(error){\r\n    res.error();\r\n  }\r\n});\r\n\r\n// spritesets section\r\nconst spritesets = decorator(_Spritesheets);\r\n// catch all /gfx/:section subroutes\r\nspritesets('/graphics/spritesets', (req, res) => {\r\n  // send the component to the view\r\n  try{\r\n    // enable the right shortcuts group for this page\r\n    KeyboardManager.enableGroups('*', 'spritesheets');\r\n    res.send(Spritesets);\r\n  }catch(error){\r\n    res.error();\r\n  }\r\n});\r\n\r\n\r\n// tilemaps section\r\nconst tilemaps = decorator(_Tilemaps);\r\n// catch all /gfx/:section subroutes\r\ntilemaps('/graphics/tilemaps', (req, res) => {\r\n  // send the component to the view\r\n  try{\r\n    // enable the right shortcuts group for this page\r\n    KeyboardManager.enableGroups('*', 'tilemaps');\r\n    res.send(Tilemaps);\r\n  }catch(error){\r\n    res.error();\r\n  }\r\n});","<script>\n  import ActionsManager from '~/application/ActionsManager.js';\n  const { href } = $$props;\n</script>\n{#if !globalThis.electron}\n  <button {...$$props} on:click={_ => window.open(href)}><slot /></button>\n{:else}\n  <button {...$$props} on:click|preventDefault={_ => ActionsManager.execute('external_link', href)}><slot /></button>\n{/if}","<script>\r\n  import ExternalLink from '~/_singles/buttons/ExternalLinkButton.svelte';\r\n  import { subDir} from '~/nesbit.config.js';\r\n</script>\r\n\r\n<h2>Hey!</h2>\r\n<p>Welcome to the online version of NESBit Studio. This application is a toolkit to help the development of homebrew NES games.</p>\r\n\r\n<p>\r\n  A lot of time and effort has already gone in to making this project, however it's still very much in an alpha stage. \r\n  At this time most of the work is being focused on the spritesheet editor. And until the application reaches a stable beta point this \r\n  project will continue to only live online.\r\n</p>\r\n\r\n<h4>Breaking changes</h4>\r\n<p>\r\n  Sometimes there are major changes which will break imports and project files. At the state it's currently in there is no major benefit to cater \r\n  to backwards compatability, from a developers standpoint. But since all source data is JSON encoded it should be a simple fix if you know what's changed internally. \r\n  If that happends, feel free to get in touch with me over discord and I'll do my best to help you out.\r\n</p>\r\n\r\n<h4>Support this project</h4>\r\n<ExternalLink href=\"https://www.paypal.com/donate?hosted_button_id=N7CCZ2K5L2GV6\">\r\n  <form action=\"https://www.paypal.com/donate\" method=\"post\" target=\"_top\">\r\n    <input type=\"hidden\" name=\"hosted_button_id\" value=\"N7CCZ2K5L2GV6\" />\r\n    <input type=\"image\" src=\"https://www.paypalobjects.com/en_US/SE/i/btn/btn_donateCC_LG.gif\" border=\"0\" name=\"submit\" title=\"PayPal - The safer, easier way to pay online!\" alt=\"Donate with PayPal button\" />\r\n    <img alt=\"\" border=\"0\" src=\"https://www.paypal.com/en_SE/i/scr/pixel.gif\" width=\"1\" height=\"1\" />\r\n  </form>\r\n</ExternalLink>\r\n<p>\r\n  <ExternalLink href=\"https://www.paypal.com/donate?hosted_button_id=N7CCZ2K5L2GV6\">https://www.paypal.com/donate?hosted_button_id=N7CCZ2K5L2GV6</ExternalLink>\r\n</p>\r\n<p>\r\n  <img src=\"{subDir}/assets/images/paypal-qr-code.png\" alt=\"\">\r\n</p>\r\n\r\n<h4>Join discord</h4>\r\n<p>\r\n  Join the discord server for project updates, help or show off what you have been working on.<br>\r\n  <ExternalLink href=\"https://discord.gg/7mCVKnkjHc\">https://discord.gg/7mCVKnkjHc</ExternalLink>\r\n</p>","import { context } from '~/router/router';\r\nimport { decorator } from 'svelte-standalone-router';\r\n\r\nimport Support from '~/_views/Support.svelte';\r\n\r\n// decorator\r\nimport _Article from '~/_decorators/_Article.svelte';\r\n\r\n// home\r\ncontext.get('/', (req, res) => {});\r\n\r\n// \r\nconst article = decorator(_Article);\r\n\r\narticle('/support', (req, res) => {\r\n  try{\r\n    res.send(Support);\r\n  }catch(error){\r\n    res.error();\r\n  }\r\n});","import manager from './manager';\r\nimport ActionsManager from \"~/application/ActionsManager\";\r\n\r\n// global commands\r\n// toggle fullscreen on f11 and altleft + enter combo. \r\nmanager.set(['F11'], { data: { action: ActionsManager.action('window_toggle_fullscreen') } });\r\nmanager.set(['Altleft', 'Enter'], { data: { action: ActionsManager.action('window_toggle_fullscreen') } });\r\n\r\n// project\r\nmanager.set(['ControlLeft', 'KeyS'], { data: { action: ActionsManager.action('project_save') } });\r\n\r\n// build\r\nmanager.set(['F5'], { data: { action: ActionsManager.action('project_build_run') } });\r\nmanager.set(['F6'], { data: { action: ActionsManager.action('project_run') } });\r\nmanager.set(['F7'], { data: { action: ActionsManager.action('project_build') } });\r\n\r\n// manager.set(['enter_trigger_keys'], { data: { action: ActionsManager.action('graphics_center_artboard') } });\r\n","import manager, { executeCommand } from './manager';\r\nimport ActionsManager from \"~/application/ActionsManager\";\r\n\r\nconst groups = ['palettes'];\r\n// global commands\r\n// toggle fullscreen on f11 and altleft + enter combo. \r\nmanager.set(['insert'], { data: { action: ActionsManager.action('palette_create') }, groups });\r\nmanager.set(['ControlLeft', 'KeyD'], { data: { action: ActionsManager.action('palette_clone_active_layer') }, groups });\r\n\r\n// update active layers name\r\nmanager.set(['f2'], { data: { action: ActionsManager.action('palette_focus_rename_active_layer') }, groups });\r\n\r\n// special cases since in elctron if a dialog is spawned the keyup event never triggers. so for some events it has to \r\n// be handled manually where the dialog modal gets focus on the screen\r\nconst _import = manager.set(['ControlLeft','KeyI'], { data: { action: ActionsManager.action('palette_import') }, groups });\r\n_import.on((args) => executeCommand(args));\r\nconst _export = manager.set(['ControlLeft', 'KeyE'], { data: { action: ActionsManager.action('palette_export') }, groups });\r\n_export.on((args) => executeCommand(args));\r\n\r\n","import manager, { executeCommand } from './manager';\r\nimport ActionsManager from \"~/application/ActionsManager\";\r\n\r\nconst groups = ['*'];\r\n// special cases since in elctron if a dialog is spawned the keyup event never triggers. so for some events it has to \r\n// be handled manually where the dialog modal gets focus on the screen\r\nconst open = manager.set(['ControlLeft', 'KeyO'], { data: { action: ActionsManager.action('project_open') }, groups });\r\nopen.on((args) => executeCommand(args));","import manager, { executeCommand } from './manager';\r\nimport ActionsManager from \"~/application/ActionsManager\";\r\n\r\n// register to groups\r\nconst groups = ['spritesheets'];\r\n\r\n// global commands\r\n// toggle fullscreen on f11 and altleft + enter combo. \r\nmanager.set(['insert'], { data: { action: ActionsManager.action('spritesheet_create')}, groups });\r\nmanager.set(['ControlLeft', 'KeyD'], { data: { action: ActionsManager.action('spritesheet_clone_active_layer') }, groups });\r\n\r\nmanager.set(['ControlLeft', 'KeyZ'], { data: { action: ActionsManager.action('spritesheet_undo') }, groups });\r\nmanager.set(['ControlLeft', 'ShiftLeft', 'KeyZ'], { data: { action: ActionsManager.action('spritesheet_redo') }, groups });\r\nmanager.set(['ControlLeft', 'KeyY'], { data: { action: ActionsManager.action('spritesheet_redo') }, groups });\r\n\r\n// update active layers name\r\nmanager.set(['f2'], { data: { action: ActionsManager.action('spritesheet_focus_rename_active_layer')}, groups });\r\n\r\n// special cases since in elctron if a dialog is spawned the keyup event never triggers. so for some events it has to \r\n// be handled manually where the dialog modal gets focus on the screen\r\nconst _import = manager.set(['ControlLeft','KeyI'], { data: {action: ActionsManager.action('spritesheet_import')}, groups });\r\n_import.on((args) => executeCommand(args));\r\nconst _export = manager.set(['ControlLeft', 'KeyE'], { data: {action: ActionsManager.action('spritesheet_export')}, groups });\r\n_export.on((args) => executeCommand(args));\r\n\r\n// set active color\r\nmanager.set(['Digit1'], { data: {action: ActionsManager.action('palette_active_color'), props: 0}, groups });\r\nmanager.set(['Digit2'], { data: {action: ActionsManager.action('palette_active_color'), props: 1}, groups });\r\nmanager.set(['Digit3'], { data: {action: ActionsManager.action('palette_active_color'), props: 2}, groups });\r\nmanager.set(['Digit4'], { data: {action: ActionsManager.action('palette_active_color'), props: 3}, groups });\r\n\r\n// zoom\r\nmanager.set(['NumpadAdd'], { data: {action: ActionsManager.action('spritesheet_zoom_in')}, groups });\r\nmanager.set(['NumpadSubtract'], { data: {action: ActionsManager.action('spritesheet_zoom_out')}, groups });\r\nmanager.set(['Numpad0'], { data: {action: ActionsManager.action('spritesheet_zoom_reset')}, groups });\r\n\r\n// toolbar\r\nmanager.set(['KeyV'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'pointer'}, groups });\r\nmanager.set(['KeyB'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'pen'}, groups });\r\nmanager.set(['KeyG'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'paintbucket'}, groups });\r\nmanager.set(['KeyA'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'colorattribute'}, groups });\r\nmanager.set(['KeyE'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'eyedropper'}, groups });\r\nmanager.set(['KeyP'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'preview'}, groups });\r\nmanager.set(['KeyS'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'colorswap'}, groups });\r\nmanager.set(['KeyT'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'tileswap'}, groups });\r\nmanager.set(['KeyR'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'transform'}, groups });\r\nmanager.set(['KeyM'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'marquee'}, groups });\r\nmanager.set(['KeyD'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'brush'}, groups });\r\nmanager.set(['KeyZ'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'zoom'}, groups });\r\nmanager.set(['KeyL'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'line'}, groups });\r\nmanager.set(['KeyC'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'circle'}, groups });\r\n// manager.set(['KeyW'], { data: {action: ActionsManager.action('spritesheet_set_active_tool'), props: 'text'}, groups });\r\n\r\n\r\n","import ActionsManager from '~/application/ActionsManager.js';\r\nimport { application } from '~/nesbit.config.js';\r\nimport { Project } from '~/stores/project.store.js';\r\n\r\n// we need to handle some preprocessing or atleast make a plugin \r\n// that transforms the source to serialized json string\r\nimport demo from '../../demo_project/demo.nesbitproject';\r\n\r\nif(application.isDev){\r\n  ActionsManager.execute('spritesheet_set_active_tool', 'marquee');\r\n  if(globalThis.electron){\r\n    const projectPath = 'C:/Users/jensa/Development/project/applications/NESBitStudio/demo_project/demo.nesbitproject';\r\n    ActionsManager.execute('project_open', projectPath);\r\n  }else{\r\n    Project.open(demo.path, demo, true);\r\n  }\r\n}","import { Project } from '~/stores/project.store.js';\r\nimport { application } from '~/nesbit.config.js';\r\nimport demo from '../../demo_project/demo.nesbitproject';\r\n\r\nif(!application.isDev){\r\n  if(application.initWithDemoProject && !globalThis.electron){\r\n    Project.open(undefined, demo, true);\r\n  }\r\n}\r\n","<script>\r\n  import { onDestroy, onMount } from 'svelte';\r\n  import { link } from 'svelte-standalone-router';\r\n\r\n  import ActionsManager from '~/application/ActionsManager.js';\r\n  \r\n  import ExternalLink from '~/_singles/buttons/ExternalLinkButton.svelte';\r\n\r\n  // Could we clean this up a bit? or simply just not bother?\r\n  let isActive = false;\r\n  let topLevelElements = [];\r\n  const clearActive = (e) => {\r\n    topLevelElements.forEach(_ => _.classList.remove('show'));\r\n    isActive = false;\r\n  }\r\n  window.addEventListener('click', clearActive);\r\n\r\n  // toplevel handlers\r\n  const toplevelClickHandler = e => {\r\n    e.stopPropagation();\r\n    // NOTE: this will toggle active menu and close menu if a sublink is clicked as well\r\n    isActive = !isActive;\r\n    e.currentTarget.classList.toggle('show');\r\n  };\r\n  const toplevelOverHandler = e => {\r\n    topLevelElements.forEach(_ => _.classList.remove('show'));\r\n    if(isActive){\r\n      e.currentTarget.classList.add('show');\r\n    }\r\n  };\r\n\r\n  onMount(() => {\r\n    // top level menu\r\n    topLevelElements = document.querySelectorAll('nav > ul > li');\r\n    topLevelElements.forEach(li => li.addEventListener('click', toplevelClickHandler));\r\n    topLevelElements.forEach(li => li.addEventListener('mouseover', toplevelOverHandler));\r\n  });\r\n\r\n  onDestroy(() => {\r\n    // clear active \r\n    window.removeEventListener('click', clearActive);\r\n    // clear toplevel\r\n    topLevelElements.forEach(li => li.removeEventListener('click', toplevelClickHandler));\r\n    topLevelElements.forEach(li => li.removeEventListener('mouseover', toplevelOverHandler));\r\n  });\r\n</script>\r\n\r\n<nav id=\"main-nav\" class=\"no-drag\">\r\n  <ul id=\"filemenu\">\r\n    <li class:show={false}>\r\n      <span>file</span>\r\n      <ul>\r\n        <li><button href=\"/\" on:click|preventDefault={_ => ActionsManager.execute('project_create')}><span>new project</span></button></li>\r\n        <li><button href=\"/\" on:click|preventDefault={_ => ActionsManager.execute('project_open')}><span>open</span></button></li>\r\n        <li><button href=\"/\" on:click|preventDefault={_ => ActionsManager.execute('project_save')}><span>save</span></button></li>\r\n        <li><button href=\"/\" on:click|preventDefault={_ => ActionsManager.execute('project_save_as')}><span>save as</span></button></li>\r\n        {#if globalThis.electron}\r\n          <li><button href=\"/\" on:click={_ => ActionsManager.execute(`window_close`)}><span>quit</span></button></li>\r\n        {/if}\r\n      </ul>\r\n    </li>\r\n    <li>\r\n      <span>edit</span>\r\n    </li>\r\n    {#if globalThis.electron}\r\n      <li>\r\n        <span>project</span>\r\n        <ul>\r\n          <li><button>build and run</button></li>\r\n          <li><button>build</button></li>\r\n          <li><button>run</button></li>\r\n          <li><button>settings</button></li>\r\n        </ul>\r\n      </li>\r\n    {/if}\r\n    <li>\r\n      <span>window</span>\r\n      <ul>\r\n        <li><button href=\"/\" on:click|preventDefault={_ => ActionsManager.execute('window_toggle_fullscreen')}><span>toggle fullscreen</span></button></li>\r\n      </ul>\r\n    </li>\r\n    <li>\r\n      <span>help</span>\r\n      <ul>\r\n        <li>\r\n          <button href=\"/documentation\" use:link>Documentation</button>\r\n        </li>\r\n        <li>\r\n          <button href=\"/support\" use:link>Support</button>\r\n        </li>\r\n        <li>\r\n          <ExternalLink href=\"https://discord.gg/7mCVKnkjHc\">Join discord community</ExternalLink>\r\n        </li>\r\n      </ul>\r\n    </li>\r\n  </ul>\r\n</nav>\r\n\r\n<style>\r\n  .show{\r\n    color: white;\r\n    background-color: rgba(255, 255, 255, 0.035);\r\n    box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.15);\r\n    border-left: 1px solid rgba(255, 255, 255, 0.385);  \r\n    border-right: 1px solid rgba(255, 255, 255, .385);  \r\n  }\r\n  #filemenu{\r\n    text-transform: capitalize;\r\n    color: white;\r\n    font-size: 11rem;\r\n    font-weight: normal;\r\n    color: rgba(255, 255, 255, .6);\r\n  }\r\n  \r\n  #filemenu li > ul{\r\n    box-shadow: 10px 10px 60px rgba(0, 0, 0, 1);\r\n    background: rgb(31, 21, 30);\r\n  }\r\n  #filemenu > li{\r\n    border-left: 1px solid rgba(255, 255, 255, 0);  \r\n    border-right: 1px solid rgba(255, 255, 255, 0);  \r\n  }\r\n  #filemenu li :global(button){\r\n    display: flex;\r\n    align-items: center;\r\n    align-content: center;\r\n    justify-content: space-between;\r\n    padding: 15px 20px;\r\n    border: none;\r\n    border-top: 1px solid rgba(255, 255, 255, 0);\r\n    width: 100%;\r\n    background: transparent;\r\n    transition: padding .3s, color .3s, box-shadow .5s;\r\n    color: rgba(255, 255, 255, .6);\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n  }\r\n  #filemenu li :global(button > *::first-letter){\r\n    text-transform: uppercase;\r\n  }\r\n  \r\n  #filemenu li :global(button:hover){\r\n    border-top: 1px solid rgba(255, 255, 255, 0.055);\r\n    color: var(--active-color);\r\n    padding-left: 25px;\r\n    background: rgba(60, 43, 66, .41);\r\n    box-shadow: inset 0 0 16px rgba(0, 0, 0, 0.15);\r\n  }\r\n</style>","<script>\r\n  import { navigate, location } from 'svelte-standalone-router';\r\n  \r\n  export let area = null;\r\n  let _self;\r\n\r\n  // update active state\r\n  $: active = $location.startsWith(`/${area}`);\r\n  const click = _ => {\r\n    if(area){\r\n      navigate('/' + area);\r\n    }\r\n  };\r\n</script>\r\n\r\n<button class=\"no-drag\" bind:this={_self} on:click={ click } class:active><slot></slot></button>\r\n\r\n<style>\r\n  button{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-right: 1px;\r\n    width: 26px;\r\n    padding: 5px;\r\n    height: 100%;\r\n    border: none;\r\n    border-top: 1px solid rgba(255, 83, 241, 0);\r\n    background-color: rgba(255, 255, 255, .8);\r\n    box-shadow: inset 0 0px 14px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n    border-radius: 4px;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: 55%;\r\n    opacity: 1;\r\n    cursor: pointer;\r\n  }\r\n\r\n  button:hover{\r\n    opacity: 1;\r\n    border-top: 1px solid rgba(255, 83, 241, 0.95);\r\n    background-color: rgba(197, 36, 149, 0.8);\r\n    box-shadow: inset 0 0px 2px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n  }\r\n  /* yea, what can you do with sottet content??? */\r\n  button:hover :global(svg){\r\n    fill: white !important;\r\n  }\r\n  button.active :global(svg){\r\n    fill: white !important;\r\n  }\r\n  button.active{\r\n    border-top: 1px solid rgba(83, 147, 255, 0.95);\r\n    background-color: rgb(44, 96, 252);\r\n    box-shadow: inset 0 0px 2px rgba(0, 0, 0, .41), 0 2px 10px rgba(0, 0, 0, 0.5);\r\n  }\r\n</style>","<script>\r\n  import AreaButton from '~/_singles/buttons/AreaButton.svelte';\r\n  import ActionsManager from '~/application/ActionsManager.js';  \r\n  import { application } from '~/nesbit.config.js'; \r\n</script>\r\n\r\n<ul class=\"area\">\r\n  {#if application.isDev}\r\n    <li>\r\n      <AreaButton area=\"game\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M6 2l1.171.203c-.355 2.245.791 2.519 2.699 2.874 1.468.273 3.13.622 3.13 3.284v.639h-1.183v-.639c0-1.556-.48-1.809-2.164-2.122-2.583-.48-4.096-1.391-3.653-4.239zm18 14c0 3.312-2.607 6-5.825 6-1.511 0-2.886-.595-3.921-1.565-1.311-1.229-3.278-1.132-4.55.038-1.03.948-2.389 1.527-3.879 1.527-3.217 0-5.825-2.688-5.825-6s2.608-6 5.825-6l12.563.007c3.118.116 5.612 2.755 5.612 5.993zm-15-1h-2v-2h-2v2h-2v2h2v2h2v-2h2v-2zm4 1h-2v1h2v-1zm4-2c0 .552.447 1 1 1s1-.448 1-1-.447-1-1-1-1 .448-1 1zm0 2c0-.552-.447-1-1-1s-1 .448-1 1 .447 1 1 1 1-.448 1-1zm2 2c0-.552-.447-1-1-1s-1 .448-1 1 .447 1 1 1 1-.448 1-1zm2-2c0-.552-.447-1-1-1s-1 .448-1 1 .447 1 1 1 1-.448 1-1z\"/></svg>\r\n      </AreaButton>\r\n    </li>\r\n  {/if}\r\n  <li>\r\n    <AreaButton area=\"graphics\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M0 21.398c5.504.456 3.533-5.392 8.626-5.445l2.206 1.841c.549 6.645-7.579 8.127-10.832 3.604zm16.878-8.538c1.713-2.687 7.016-11.698 7.016-11.698.423-.747-.515-1.528-1.17-.976 0 0-7.887 6.857-10.213 9.03-1.838 1.719-1.846 2.504-2.441 5.336l2.016 1.681c2.67-1.098 3.439-1.248 4.792-3.373z\"/></svg>\r\n    </AreaButton>\r\n  </li>\r\n  {#if application.isDev}\r\n    <li>\r\n      <AreaButton area=\"audio\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M13 0h-2v15.676c-3.379-.667-7 1.915-7 4.731 0 2.367 1.881 3.593 3.919 3.593 2.423 0 5.077-1.728 5.081-5.24v-12.76c3.009 2.223 5.623 3.243 5.059 7 1.431-1.727 1.941-2.817 1.941-4.051 0-4.446-7-5.915-7-8.949z\"/></svg>\r\n      </AreaButton>\r\n    </li>\r\n    <li>\r\n      <AreaButton area=\"code\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M23 10.826v2.349c-1.562 0-3 1.312-3 2.857 0 2.181 1.281 5.968-6 5.968v-2.002c4.917 0 3.966-1.6 3.966-3.967 0-2.094 1.211-3.5 2.278-4.031-1.067-.531-2.278-1.438-2.278-3.312 0-2.372.94-4.692-3.966-4.686v-2.002c7.285 0 6 4.506 6 6.688 0 1.544 1.438 2.138 3 2.138zm-19-2.138c0-2.182-1.285-6.688 6-6.688v2.002c-4.906-.007-3.966 2.313-3.966 4.686 0 1.875-1.211 2.781-2.278 3.312 1.067.531 2.278 1.938 2.278 4.031 0 2.367-.951 3.967 3.966 3.967v2.002c-7.281 0-6-3.787-6-5.969 0-1.545-1.438-2.857-3-2.857v-2.349c1.562.001 3-.593 3-2.137z\"/></svg>\r\n      </AreaButton>\r\n    </li>\r\n  {/if}\r\n  {#if globalThis.electron}\r\n    <li on:click={_ => ActionsManager.execute('project_build_run')} class=\"last\">\r\n      <AreaButton>\r\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"><path d=\"M24 19h-1v-2.2c-1.853 4.237-6.083 7.2-11 7.2-6.623 0-12-5.377-12-12h1c0 6.071 4.929 11 11 11 4.66 0 8.647-2.904 10.249-7h-2.249v-1h4v4zm-11.036 0h-1.886c-.34-.957-.437-1.571-1.177-1.878h-.001c-.743-.308-1.251.061-2.162.494l-1.333-1.333c.427-.899.804-1.415.494-2.163-.308-.74-.926-.839-1.878-1.177v-1.886c.954-.339 1.57-.437 1.878-1.178.308-.743-.06-1.248-.494-2.162l1.333-1.333c.918.436 1.421.801 2.162.494l.001-.001c.74-.307.838-.924 1.177-1.877h1.886c.34.958.437 1.57 1.177 1.877l.001.001c.743.308 1.252-.062 2.162-.494l1.333 1.333c-.435.917-.801 1.421-.494 2.161v.001c.307.739.915.835 1.878 1.178v1.886c-.953.338-1.571.437-1.878 1.178-.308.743.06 1.249.494 2.162l-1.333 1.333c-.92-.438-1.42-.802-2.157-.496-.746.31-.844.926-1.183 1.88zm-.943-4.667c-1.289 0-2.333-1.044-2.333-2.333 0-1.289 1.044-2.334 2.333-2.334 1.289 0 2.333 1.045 2.333 2.334 0 1.289-1.044 2.333-2.333 2.333zm-8.021-5.333h-4v-4h1v2.2c1.853-4.237 6.083-7.2 11-7.2 6.623 0 12 5.377 12 12h-1c0-6.071-4.929-11-11-11-4.66 0-8.647 2.904-10.249 7h2.249v1z\"/></svg>\r\n      </AreaButton>\r\n    </li>\r\n  {/if}\r\n</ul>\r\n\r\n<style>\r\n  .area{\r\n    display: flex;\r\n    margin-left: 7px;\r\n    padding-top: 4px;\r\n    height: 35px;\r\n  }\r\n  .area svg{\r\n    display: flex;\r\n    object-fit: contain;\r\n    pointer-events: none;\r\n    /* need to force height here else it wont be centered */\r\n    height: 20px;\r\n    fill: rgb(54, 54, 54);\r\n  }\r\n  li{\r\n    margin-right: 2px;\r\n  }\r\n  .last{\r\n    margin-left: 60px;\r\n  }\r\n</style>","<script>\n  import ActionsManager from '~/application/ActionsManager.js';\n  const windowCommand = (command) => ActionsManager.execute(`window_${command}`);\n</script>\n\n<button class=\"minimize\" on:click={_ => windowCommand('minimize')}></button>\n<button class=\"maximize\" on:click={_ => windowCommand('maximize')}></button>\n<button class=\"close\" on:click={_ => windowCommand('close')}></button>\n\n<style>  \n  button{\n    display: block;\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    cursor: pointer;\n    border: none;\n    /* transition: box-shadow .3s; */\n  }\n\n  .minimize{\n    background-color: rgb(21, 197, 159);\n  }\n  .maximize{\n    background-color: rgb(212, 192, 13);\n  }\n  .close{\n    background-color: hsl(345, 81%, 43%);\n  }\n</style>","<script>\r\n  import Filemenu from '~/_components/header/Navigation.svelte';\r\n  import SectionNavigation from '~/_components/header/SectionNavigation.svelte';\r\n  import WindowButtons from '~/_components/header/WindowButtons.svelte';\r\n  import { Project } from '~/stores/project.store.js';\r\n\r\n  import { basename } from '~/utils/strings.js';\r\n\r\n  $: projectName = basename($Project.path || '');\r\n</script>\r\n\r\n<header id=\"masthead\">\r\n  <div class=\"drag app-region\"></div>\r\n  <div class=\"inner\">\r\n    <div class=\"titlebar\">\r\n      [<span class=\"no-paint\">{projectName || 'not saved *'}</span>]\r\n    </div>\r\n    <div id=\"top-navigation\">\r\n      <Filemenu />\r\n      <SectionNavigation />\r\n    </div>\r\n    <!-- {#if globalThis.electron}\r\n    {/if} -->\r\n    <div id=\"window-buttons\">\r\n      <WindowButtons />\r\n    </div>\r\n  </div>\r\n</header>\r\n\r\n<style>\r\n  .inner{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    padding: 0 13px;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 200;\r\n    -webkit-user-drag: none;\r\n  }\r\n  .drag{\r\n    position: absolute;\r\n    top: 5px;\r\n    left: 5px;\r\n    width: calc(100% - 95px);\r\n    height: calc(100% - 5px);\r\n  }\r\n  #masthead{\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    z-index: 1564;\r\n    padding: 0 25px;\r\n    background: linear-gradient(0deg, rgba(69, 28, 78, 1) 30%, rgb(34, 18, 26));\r\n    height: 100%;\r\n    box-shadow: 0 3px 20px rgba(0, 0, 0, 1);\r\n    border-bottom: 1px solid rgba(89, 53, 98, .81);\r\n    line-height: 44px;\r\n    text-align: center;\r\n  }\r\n\r\n  #masthead::before{\r\n    content: '';\r\n    position: absolute;\r\n    top: 2px;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 5px;\r\n    background: rgba(234, 187, 250, 0.25);\r\n    filter: blur(3px);\r\n    pointer-events: none;\r\n  }\r\n\r\n  #masthead::after{\r\n    content: '';\r\n    position: absolute;\r\n    top: 5px;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 1px;\r\n    background: rgba(215, 130, 255, 0.25);\r\n    filter: blur(1px);\r\n    pointer-events: none;\r\n  }\r\n  \r\n  .titlebar{\r\n    position: absolute !important;\r\n    pointer-events: none;\r\n    z-index: 10;\r\n    top: 0;\r\n    left: 50%;\r\n    font-style: normal;\r\n    color: rgba(255, 255, 255, .6);\r\n    transform-origin: center;\r\n    transform: translateX(-50%);\r\n  }\r\n\r\n  .titlebar > span{\r\n    font-style: italic;\r\n    color: rgba(255, 255, 255, 0.95);\r\n  }\r\n\r\n  #top-navigation{\r\n    display: flex;\r\n    height: 100%;\r\n  }\r\n  #window-buttons{\r\n    display: grid;\r\n    align-items: center;\r\n    grid-template-columns: repeat(3, auto);\r\n    gap: 10px;\r\n  }\r\n</style>","<script>\r\n  import { onDestroy, tick } from 'svelte';\r\n  import { log } from '~/application/project';\r\n  let element;\r\n  let errors = [];\r\n  const unsubscribe = log.subscribe(async (store) => {\r\n    errors = [...store];\r\n    await tick();\r\n    if(element){\r\n      element.scrollTo({\r\n        top: 1000000000,\r\n        left: 0,\r\n        behavior: 'smooth'\r\n      });\r\n    }\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n  });\r\n</script>\r\n\r\n<ul bind:this={element}>\r\n  {#each errors as { error, date }}\r\n    {#if error}\r\n      <li>\r\n        [{date}] ( {error.message} )\r\n        <div class=\"details\">\r\n          some extra hidden details\r\n        </div>\r\n      </li>  \r\n    {/if}\r\n  {/each}\r\n</ul>\r\n\r\n<style>\r\n  ul{\r\n    padding: 4rem 10rem;\r\n    width: 100%;\r\n    height: 100%;\r\n    color: var(--color);\r\n    overflow-y: auto;\r\n  }\r\n  li:last-child{\r\n    color: white;\r\n  }\r\n\r\n  .details{\r\n    display: none;\r\n  }\r\n</style>","<script context=\"module\">\r\n  import { writable } from \"svelte/store\";\r\n  const store = writable();\r\n  export const set = (component, props = {}) => store.set({ component, props });\r\n</script>\r\n\r\n{#if $store && $store.component}\r\n  {#key $store.component}\r\n    <section>\r\n      <div class=\"popup\">\r\n        <button on:click={_ => set(undefined)}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"white\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n            <path d=\"M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z\"/>\r\n          </svg>\r\n        </button>\r\n        <div class=\"content\">\r\n          <svelte:component this={$store.component} {...$store.props} />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  {/key}\r\n{/if}\r\n\r\n<style>\r\n  button{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: absolute;\r\n    top: -15px;\r\n    right: -15px;\r\n    border-radius: 50%;\r\n    border: none;\r\n    background-color: var(--accent-blue);\r\n    padding: 13px;\r\n    width: 40px;\r\n    height: 40px;\r\n    cursor: pointer;\r\n    z-index: 989797979797979797;\r\n  }\r\n  section{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background-color: rgba(0, 0, 0, 0.707);\r\n    z-index: 99999999999999;\r\n  }\r\n\r\n  .popup{\r\n    position: relative;\r\n    width: 100%;\r\n    height: calc(100vh - 200px);\r\n    max-width: 600px;\r\n    background: linear-gradient(0deg, rgba(69, 28, 78, 1) 30%, rgb(34, 18, 26));\r\n    border-radius: 10px;\r\n    padding: 40rem 5rem;\r\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.44);\r\n  }\r\n  \r\n  .content{\r\n    overflow-y: auto;\r\n    padding: 0 40rem;\r\n    height: 100%;\r\n  }\r\n</style>","<script>\n  import Router from 'svelte-standalone-router';\n  import Header from '~/_components/header/Header.svelte';\n  import Footer from '~/_components/Footer.svelte';\n  import ToastNotifications from '~/_components/ToastNotifications.svelte';\n  import Popup, { set } from '~/_components/Popup.svelte';\n  import Support from '~/_views/Support.svelte';\n\n  import { application } from '~/nesbit.config.js';\n  import ModalWindow from '~/_components/ModalWindow.svelte';\n  \n  if(!globalThis.electron && !application.isDev && application.showSupportPopup){\n    set(Support);\n  }\n</script>\n\n<div id=\"app\">\n  <Header />\n  <main>\n    <Router />\n  </main>\n  <Footer />\n</div>\n<ModalWindow />\n<Popup />\n<ToastNotifications />\n<style>\n  main{\n    width: 100%;\n    height: 100%;\n  }\n</style>","<script>\n  import { onMount, tick } from 'svelte';\n  import { redirect, location } from 'svelte-standalone-router';\n\n  import { Project } from '~/stores/project.store.js';\n  import { application } from '~/nesbit.config';\n  import { basename } from '~/utils/strings.js';\n\n  import App from './App.svelte';  \n\n  // electron specific initializations\n  if(globalThis.electron){\n    // if we are in electron context add a class to the body element\n    // of electron to be able to distinguish between webapp and electron\n    document.body.classList.add('electron');  \n    // we only want to redirect on an electron application\n    // this only if you need to get the correct location of the startup page \n    // since the initial pathname is the filepath to the local file and not '/' as we expect.\n    redirect('/');\n  }\n\n  // force entry at startPage during development\n  onMount(async () => {\n    // wait tick just to be sure things have been properly executed\n    await tick();\n    if(application.startPage !== $location){\n      redirect(application.startPage);\n    }\n  });\n\n  $: projectName = basename($Project.path || '');\n</script>\n\n<svelte:head>\n  <title>[{projectName || 'not saved *'}]</title>\n  <!-- during development we want to inject liverealod. so we set this csp here so electron doesn't complain -->\n  <!-- could scripts from other source be executed before? maybe, probably, but whatever. Maybe should be removed all together since livereload is not bundled on build? -->\n  <meta http-equiv=\"Content-Security-Policy\" content=\"script-src 'self'\">\n</svelte:head>\n\n<App {...$$props} />","import '~/bootstrap';\nimport '~/application/actions.js';\nimport '~/router/router';\nimport './router/**/*.route.js';\nimport './keyboard_shortcuts/**/*.shortcut.js';\n\n// \nimport '~/dev.init.js';\nimport '~/public.init.js';\n\n// initialize svelte\nimport Init from './Init.svelte';\nimport AdBlock from './Adblock.svelte';\n\nimport { application } from '~/nesbit.config.js';\n\n// shift depending on if adblock or not\n// TODO: this needs to be exluded from import all together for electron build\n// since adsense is not allowed in desktop applictions\nlet component = !application.isDev && !globalThis.electron && window.adblocked ? AdBlock : Init;\n\nconst app = new component({\n  target: document.querySelector('body')\n});\n\nexport default app;"],"names":["dispatch","writable","remove","push","artboard","ShortcutsManager","ActionsManager","_writable","get","array.chunk","AttributeTable","Palettes","Spritesheets","canvas.createCanvas","layers","activeLayer","Config","chr.parse","chr.generateExport","numbers.dec2hex","NESPalette","selectedColor","Tilemaps","TilemapsLayer","clearModalWindows","ToolTypes","Cursor","Tool","Pointer","Layer","TileCursor","MarqueeCursor","BrushCursor","ShapeLayer","Type","Tile","Marquee","Brush","ShapeOverlay","SpritesheetEditor","Toolbar","HotkeysManager","ColorAttributeOptions","mapped","execute","primary","secondary","move","mouseup","PushNotification","this","global","saveAs","Router","StandaloneRouter","location","RouterContext","SvelteStandaloneRouter","app","Colorattribute","Transpose","Patternpreview","_Documentation","TilemapEditor","spritesheets","_Spritesheets","KeyboardManager","palettes","_Palettes","Spritesets","tilemaps","_Tilemaps","context","_Article","groups","_import","_export","open","AdBlock"],"mappings":";;;;;IAAA,SAAS,IAAI,GAAG,GAAG;IACnB,MAAM,QAAQ,GAAG,CAAC,IAAI,CAAC,CAAC;IACxB,SAAS,MAAM,CAAC,GAAG,EAAE,GAAG,EAAE;IAC1B;IACA,IAAI,KAAK,MAAM,CAAC,IAAI,GAAG;IACvB,QAAQ,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IACxB,IAAI,OAAO,GAAG,CAAC;IACf,CAAC;IAID,SAAS,YAAY,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE;IACzD,IAAI,OAAO,CAAC,aAAa,GAAG;IAC5B,QAAQ,GAAG,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE;IACzC,KAAK,CAAC;IACN,CAAC;IACD,SAAS,GAAG,CAAC,EAAE,EAAE;IACjB,IAAI,OAAO,EAAE,EAAE,CAAC;IAChB,CAAC;IACD,SAAS,YAAY,GAAG;IACxB,IAAI,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IACD,SAAS,OAAO,CAAC,GAAG,EAAE;IACtB,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACrB,CAAC;IACD,SAAS,WAAW,CAAC,KAAK,EAAE;IAC5B,IAAI,OAAO,OAAO,KAAK,KAAK,UAAU,CAAC;IACvC,CAAC;IACD,SAAS,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE;IAC9B,IAAI,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,OAAO,CAAC,KAAK,QAAQ,KAAK,OAAO,CAAC,KAAK,UAAU,CAAC,CAAC;IAClG,CAAC;IAID,SAAS,QAAQ,CAAC,GAAG,EAAE;IACvB,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;IACzC,CAAC;IACD,SAAS,cAAc,CAAC,KAAK,EAAE,IAAI,EAAE;IACrC,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,OAAO,KAAK,CAAC,SAAS,KAAK,UAAU,EAAE;IAChE,QAAQ,MAAM,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,0CAA0C,CAAC,CAAC,CAAC;IAC9E,KAAK;IACL,CAAC;IACD,SAAS,SAAS,CAAC,KAAK,EAAE,GAAG,SAAS,EAAE;IACxC,IAAI,IAAI,KAAK,IAAI,IAAI,EAAE;IACvB,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK;IACL,IAAI,MAAM,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,GAAG,SAAS,CAAC,CAAC;IAChD,IAAI,OAAO,KAAK,CAAC,WAAW,GAAG,MAAM,KAAK,CAAC,WAAW,EAAE,GAAG,KAAK,CAAC;IACjE,CAAC;IACD,SAAS,eAAe,CAAC,KAAK,EAAE;IAChC,IAAI,IAAI,KAAK,CAAC;IACd,IAAI,SAAS,CAAC,KAAK,EAAE,CAAC,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC;IACvC,IAAI,OAAO,KAAK,CAAC;IACjB,CAAC;IACD,SAAS,mBAAmB,CAAC,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE;IACzD,IAAI,SAAS,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC;IAC7D,CAAC;IACD,SAAS,WAAW,CAAC,UAAU,EAAE,GAAG,EAAE,OAAO,EAAE,EAAE,EAAE;IACnD,IAAI,IAAI,UAAU,EAAE;IACpB,QAAQ,MAAM,QAAQ,GAAG,gBAAgB,CAAC,UAAU,EAAE,GAAG,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;IACxE,QAAQ,OAAO,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;IACvC,KAAK;IACL,CAAC;IACD,SAAS,gBAAgB,CAAC,UAAU,EAAE,GAAG,EAAE,OAAO,EAAE,EAAE,EAAE;IACxD,IAAI,OAAO,UAAU,CAAC,CAAC,CAAC,IAAI,EAAE;IAC9B,UAAU,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7D,UAAU,OAAO,CAAC,GAAG,CAAC;IACtB,CAAC;IACD,SAAS,gBAAgB,CAAC,UAAU,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE;IAC1D,IAAI,IAAI,UAAU,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE;IAC7B,QAAQ,MAAM,IAAI,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAC9C,QAAQ,IAAI,OAAO,CAAC,KAAK,KAAK,SAAS,EAAE;IACzC,YAAY,OAAO,IAAI,CAAC;IACxB,SAAS;IACT,QAAQ,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;IACtC,YAAY,MAAM,MAAM,GAAG,EAAE,CAAC;IAC9B,YAAY,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACpE,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE;IAC7C,gBAAgB,MAAM,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IACvD,aAAa;IACb,YAAY,OAAO,MAAM,CAAC;IAC1B,SAAS;IACT,QAAQ,OAAO,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;IACpC,KAAK;IACL,IAAI,OAAO,OAAO,CAAC,KAAK,CAAC;IACzB,CAAC;IACD,SAAS,WAAW,CAAC,IAAI,EAAE,eAAe,EAAE,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,mBAAmB,EAAE,mBAAmB,EAAE;IAC3G,IAAI,MAAM,YAAY,GAAG,gBAAgB,CAAC,eAAe,EAAE,OAAO,EAAE,KAAK,EAAE,mBAAmB,CAAC,CAAC;IAChG,IAAI,IAAI,YAAY,EAAE;IACtB,QAAQ,MAAM,YAAY,GAAG,gBAAgB,CAAC,eAAe,EAAE,GAAG,EAAE,OAAO,EAAE,mBAAmB,CAAC,CAAC;IAClG,QAAQ,IAAI,CAAC,CAAC,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;IAC3C,KAAK;IACL,CAAC;IAQD,SAAS,sBAAsB,CAAC,KAAK,EAAE;IACvC,IAAI,MAAM,MAAM,GAAG,EAAE,CAAC;IACtB,IAAI,KAAK,MAAM,CAAC,IAAI,KAAK;IACzB,QAAQ,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG;IACxB,YAAY,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;IACjC,IAAI,OAAO,MAAM,CAAC;IAClB,CAAC;IACD,SAAS,kBAAkB,CAAC,KAAK,EAAE,IAAI,EAAE;IACzC,IAAI,MAAM,IAAI,GAAG,EAAE,CAAC;IACpB,IAAI,IAAI,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC;IACzB,IAAI,KAAK,MAAM,CAAC,IAAI,KAAK;IACzB,QAAQ,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG;IACxC,YAAY,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAI,OAAO,IAAI,CAAC;IAChB,CAAC;IAoBD,SAAS,eAAe,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,GAAG,GAAG,EAAE;IAClD,IAAI,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACrB,IAAI,OAAO,GAAG,CAAC;IACf,CAAC;IAED,SAAS,gBAAgB,CAAC,aAAa,EAAE;IACzC,IAAI,OAAO,aAAa,IAAI,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;IAC9F,CAAC;AACD;IACA,MAAM,SAAS,GAAG,OAAO,MAAM,KAAK,WAAW,CAAC;IAChD,IAAI,GAAG,GAAG,SAAS;IACnB,MAAM,MAAM,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE;IACpC,MAAM,MAAM,IAAI,CAAC,GAAG,EAAE,CAAC;IACvB,IAAI,GAAG,GAAG,SAAS,GAAG,EAAE,IAAI,qBAAqB,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;AAQ7D;IACA,MAAM,KAAK,GAAG,IAAI,GAAG,EAAE,CAAC;IACxB,SAAS,SAAS,CAAC,GAAG,EAAE;IACxB,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,IAAI;IAC1B,QAAQ,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;IAC1B,YAAY,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC/B,YAAY,IAAI,CAAC,CAAC,EAAE,CAAC;IACrB,SAAS;IACT,KAAK,CAAC,CAAC;IACP,IAAI,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC;IACxB,QAAQ,GAAG,CAAC,SAAS,CAAC,CAAC;IACvB,CAAC;IAOD;IACA;IACA;IACA;IACA,SAAS,IAAI,CAAC,QAAQ,EAAE;IACxB,IAAI,IAAI,IAAI,CAAC;IACb,IAAI,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC;IACxB,QAAQ,GAAG,CAAC,SAAS,CAAC,CAAC;IACvB,IAAI,OAAO;IACX,QAAQ,OAAO,EAAE,IAAI,OAAO,CAAC,OAAO,IAAI;IACxC,YAAY,KAAK,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;IAC1D,SAAS,CAAC;IACV,QAAQ,KAAK,GAAG;IAChB,YAAY,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC/B,SAAS;IACT,KAAK,CAAC;IACN,CAAC;AACD;IACA,SAAS,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE;IAC9B,IAAI,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IACD,SAAS,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;IACtC,IAAI,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,IAAI,IAAI,CAAC,CAAC;IAC9C,CAAC;IACD,SAAS,MAAM,CAAC,IAAI,EAAE;IACtB,IAAI,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IACD,SAAS,YAAY,CAAC,UAAU,EAAE,SAAS,EAAE;IAC7C,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;IACnD,QAAQ,IAAI,UAAU,CAAC,CAAC,CAAC;IACzB,YAAY,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;IACvC,KAAK;IACL,CAAC;IACD,SAAS,OAAO,CAAC,IAAI,EAAE;IACvB,IAAI,OAAO,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAgBD,SAAS,WAAW,CAAC,IAAI,EAAE;IAC3B,IAAI,OAAO,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,IAAI,CAAC,CAAC;IACxE,CAAC;IACD,SAAS,IAAI,CAAC,IAAI,EAAE;IACpB,IAAI,OAAO,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IACD,SAAS,KAAK,GAAG;IACjB,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;IACrB,CAAC;IACD,SAAS,KAAK,GAAG;IACjB,IAAI,OAAO,IAAI,CAAC,EAAE,CAAC,CAAC;IACpB,CAAC;IACD,SAAS,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE;IAC/C,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IACnD,IAAI,OAAO,MAAM,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IACnE,CAAC;IACD,SAAS,eAAe,CAAC,EAAE,EAAE;IAC7B,IAAI,OAAO,UAAU,KAAK,EAAE;IAC5B,QAAQ,KAAK,CAAC,cAAc,EAAE,CAAC;IAC/B;IACA,QAAQ,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACpC,KAAK,CAAC;IACN,CAAC;IAeD,SAAS,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE;IACtC,IAAI,IAAI,KAAK,IAAI,IAAI;IACrB,QAAQ,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;IACxC,SAAS,IAAI,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,KAAK,KAAK;IACnD,QAAQ,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IAC5C,CAAC;IACD,SAAS,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE;IAC1C;IACA,IAAI,MAAM,WAAW,GAAG,MAAM,CAAC,yBAAyB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACzE,IAAI,KAAK,MAAM,GAAG,IAAI,UAAU,EAAE;IAClC,QAAQ,IAAI,UAAU,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE;IACrC,YAAY,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;IACtC,SAAS;IACT,aAAa,IAAI,GAAG,KAAK,OAAO,EAAE;IAClC,YAAY,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;IACjD,SAAS;IACT,aAAa,IAAI,GAAG,KAAK,SAAS,EAAE;IACpC,YAAY,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;IACrD,SAAS;IACT,aAAa,IAAI,WAAW,CAAC,GAAG,CAAC,IAAI,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE;IAC3D,YAAY,IAAI,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;IACxC,SAAS;IACT,aAAa;IACb,YAAY,IAAI,CAAC,IAAI,EAAE,GAAG,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7C,SAAS;IACT,KAAK;IACL,CAAC;IAsCD,SAAS,QAAQ,CAAC,OAAO,EAAE;IAC3B,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IAC1C,CAAC;IAkDD,SAAS,SAAS,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,SAAS,EAAE;IAChD,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,EAAE,KAAK,EAAE,SAAS,GAAG,WAAW,GAAG,EAAE,CAAC,CAAC;IACrE,CAAC;IACD,SAAS,aAAa,CAAC,MAAM,EAAE,KAAK,EAAE;IACtC,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;IACvD,QAAQ,MAAM,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACzC,QAAQ,IAAI,MAAM,CAAC,OAAO,KAAK,KAAK,EAAE;IACtC,YAAY,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC;IACnC,YAAY,OAAO;IACnB,SAAS;IACT,KAAK;IACL,CAAC;IAOD,SAAS,YAAY,CAAC,MAAM,EAAE;IAC9B,IAAI,MAAM,eAAe,GAAG,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAClF,IAAI,OAAO,eAAe,IAAI,eAAe,CAAC,OAAO,CAAC;IACtD,CAAC;IAyDD,SAAS,YAAY,CAAC,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE;IAC7C,IAAI,OAAO,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,GAAG,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC;IACvD,CAAC;IACD,SAAS,YAAY,CAAC,IAAI,EAAE,MAAM,EAAE;IACpC,IAAI,MAAM,CAAC,GAAG,QAAQ,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;IAClD,IAAI,CAAC,CAAC,eAAe,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IAClD,IAAI,OAAO,CAAC,CAAC;IACb,CAAC;AAiDD;IACA,MAAM,WAAW,GAAG,IAAI,GAAG,EAAE,CAAC;IAC9B,IAAI,MAAM,GAAG,CAAC,CAAC;IACf;IACA,SAAS,IAAI,CAAC,GAAG,EAAE;IACnB,IAAI,IAAI,IAAI,GAAG,IAAI,CAAC;IACpB,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC;IACvB,IAAI,OAAO,CAAC,EAAE;IACd,QAAQ,IAAI,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IACxD,IAAI,OAAO,IAAI,KAAK,CAAC,CAAC;IACtB,CAAC;IACD,SAAS,WAAW,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,EAAE;IACrE,IAAI,MAAM,IAAI,GAAG,MAAM,GAAG,QAAQ,CAAC;IACnC,IAAI,IAAI,SAAS,GAAG,KAAK,CAAC;IAC1B,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,IAAI,EAAE;IACvC,QAAQ,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;IACxC,QAAQ,SAAS,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IACtD,KAAK;IACL,IAAI,MAAM,IAAI,GAAG,SAAS,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IACzD,IAAI,MAAM,IAAI,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;IACjD,IAAI,MAAM,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC;IACnC,IAAI,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACzB,IAAI,MAAM,UAAU,GAAG,GAAG,CAAC,mBAAmB,KAAK,GAAG,CAAC,mBAAmB,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IAC3H,IAAI,MAAM,aAAa,GAAG,GAAG,CAAC,cAAc,KAAK,GAAG,CAAC,cAAc,GAAG,EAAE,CAAC,CAAC;IAC1E,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE;IAC9B,QAAQ,aAAa,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;IACnC,QAAQ,UAAU,CAAC,UAAU,CAAC,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IACxF,KAAK;IACL,IAAI,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,EAAE,CAAC;IACjD,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,EAAE,SAAS,GAAG,CAAC,EAAE,SAAS,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,QAAQ,CAAC,UAAU,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;IAChH,IAAI,MAAM,IAAI,CAAC,CAAC;IAChB,IAAI,OAAO,IAAI,CAAC;IAChB,CAAC;IACD,SAAS,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE;IACjC,IAAI,MAAM,QAAQ,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;IAC9D,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI;IACrC,UAAU,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;IACxC,UAAU,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACjD,KAAK,CAAC;IACN,IAAI,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IAClD,IAAI,IAAI,OAAO,EAAE;IACjB,QAAQ,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/C,QAAQ,MAAM,IAAI,OAAO,CAAC;IAC1B,QAAQ,IAAI,CAAC,MAAM;IACnB,YAAY,WAAW,EAAE,CAAC;IAC1B,KAAK;IACL,CAAC;IACD,SAAS,WAAW,GAAG;IACvB,IAAI,GAAG,CAAC,MAAM;IACd,QAAQ,IAAI,MAAM;IAClB,YAAY,OAAO;IACnB,QAAQ,WAAW,CAAC,OAAO,CAAC,GAAG,IAAI;IACnC,YAAY,MAAM,UAAU,GAAG,GAAG,CAAC,mBAAmB,CAAC;IACvD,YAAY,IAAI,CAAC,GAAG,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC;IAC/C,YAAY,OAAO,CAAC,EAAE;IACtB,gBAAgB,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IACzC,YAAY,GAAG,CAAC,cAAc,GAAG,EAAE,CAAC;IACpC,SAAS,CAAC,CAAC;IACX,QAAQ,WAAW,CAAC,KAAK,EAAE,CAAC;IAC5B,KAAK,CAAC,CAAC;IACP,CAAC;AACD;IACA,SAAS,gBAAgB,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE;IAClD,IAAI,IAAI,CAAC,IAAI;IACb,QAAQ,OAAO,IAAI,CAAC;IACpB,IAAI,MAAM,EAAE,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC5C,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,EAAE,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,EAAE,CAAC,KAAK,IAAI,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,MAAM,KAAK,EAAE,CAAC,MAAM;IAC5G,QAAQ,OAAO,IAAI,CAAC;IACpB,IAAI,MAAM,EAAE,KAAK,GAAG,CAAC,EAAE,QAAQ,GAAG,GAAG,EAAE,MAAM,GAAG,QAAQ;IACxD;IACA,IAAI,KAAK,EAAE,UAAU,GAAG,GAAG,EAAE,GAAG,KAAK;IACrC;IACA,IAAI,GAAG,GAAG,UAAU,GAAG,QAAQ,EAAE,IAAI,GAAG,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC;IACrF,IAAI,IAAI,OAAO,GAAG,IAAI,CAAC;IACvB,IAAI,IAAI,OAAO,GAAG,KAAK,CAAC;IACxB,IAAI,IAAI,IAAI,CAAC;IACb,IAAI,SAAS,KAAK,GAAG;IACrB,QAAQ,IAAI,GAAG,EAAE;IACjB,YAAY,IAAI,GAAG,WAAW,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;IACzE,SAAS;IACT,QAAQ,IAAI,CAAC,KAAK,EAAE;IACpB,YAAY,OAAO,GAAG,IAAI,CAAC;IAC3B,SAAS;IACT,KAAK;IACL,IAAI,SAAS,IAAI,GAAG;IACpB,QAAQ,IAAI,GAAG;IACf,YAAY,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IACpC,QAAQ,OAAO,GAAG,KAAK,CAAC;IACxB,KAAK;IACL,IAAI,IAAI,CAAC,GAAG,IAAI;IAChB,QAAQ,IAAI,CAAC,OAAO,IAAI,GAAG,IAAI,UAAU,EAAE;IAC3C,YAAY,OAAO,GAAG,IAAI,CAAC;IAC3B,SAAS;IACT,QAAQ,IAAI,OAAO,IAAI,GAAG,IAAI,GAAG,EAAE;IACnC,YAAY,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACvB,YAAY,IAAI,EAAE,CAAC;IACnB,SAAS;IACT,QAAQ,IAAI,CAAC,OAAO,EAAE;IACtB,YAAY,OAAO,KAAK,CAAC;IACzB,SAAS;IACT,QAAQ,IAAI,OAAO,EAAE;IACrB,YAAY,MAAM,CAAC,GAAG,GAAG,GAAG,UAAU,CAAC;IACvC,YAAY,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC;IACnD,YAAY,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IAC3B,SAAS;IACT,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC,CAAC;IACP,IAAI,KAAK,EAAE,CAAC;IACZ,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACf,IAAI,OAAO,IAAI,CAAC;IAChB,CAAC;IACD,SAAS,YAAY,CAAC,IAAI,EAAE;IAC5B,IAAI,MAAM,KAAK,GAAG,gBAAgB,CAAC,IAAI,CAAC,CAAC;IACzC,IAAI,IAAI,KAAK,CAAC,QAAQ,KAAK,UAAU,IAAI,KAAK,CAAC,QAAQ,KAAK,OAAO,EAAE;IACrE,QAAQ,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,KAAK,CAAC;IACxC,QAAQ,MAAM,CAAC,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC/C,QAAQ,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;IACzC,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;IACjC,QAAQ,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;IACnC,QAAQ,aAAa,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;IAC/B,KAAK;IACL,CAAC;IACD,SAAS,aAAa,CAAC,IAAI,EAAE,CAAC,EAAE;IAChC,IAAI,MAAM,CAAC,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC3C,IAAI,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAE;IAC9C,QAAQ,MAAM,KAAK,GAAG,gBAAgB,CAAC,IAAI,CAAC,CAAC;IAC7C,QAAQ,MAAM,SAAS,GAAG,KAAK,CAAC,SAAS,KAAK,MAAM,GAAG,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC;IAC5E,QAAQ,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,EAAE,SAAS,CAAC,WAAW,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAClG,KAAK;IACL,CAAC;AACD;IACA,IAAI,iBAAiB,CAAC;IACtB,SAAS,qBAAqB,CAAC,SAAS,EAAE;IAC1C,IAAI,iBAAiB,GAAG,SAAS,CAAC;IAClC,CAAC;IACD,SAAS,qBAAqB,GAAG;IACjC,IAAI,IAAI,CAAC,iBAAiB;IAC1B,QAAQ,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAAC;IAC5E,IAAI,OAAO,iBAAiB,CAAC;IAC7B,CAAC;IAID,SAAS,OAAO,CAAC,EAAE,EAAE;IACrB,IAAI,qBAAqB,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACjD,CAAC;IAID,SAAS,SAAS,CAAC,EAAE,EAAE;IACvB,IAAI,qBAAqB,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACnD,CAAC;IACD,SAAS,qBAAqB,GAAG;IACjC,IAAI,MAAM,SAAS,GAAG,qBAAqB,EAAE,CAAC;IAC9C,IAAI,OAAO,CAAC,IAAI,EAAE,MAAM,KAAK;IAC7B,QAAQ,MAAM,SAAS,GAAG,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IACvD,QAAQ,IAAI,SAAS,EAAE;IACvB;IACA;IACA,YAAY,MAAM,KAAK,GAAG,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACrD,YAAY,SAAS,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,EAAE,IAAI;IAC5C,gBAAgB,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IAC1C,aAAa,CAAC,CAAC;IACf,SAAS;IACT,KAAK,CAAC;IACN,CAAC;IAUD;IACA;IACA;IACA,SAAS,MAAM,CAAC,SAAS,EAAE,KAAK,EAAE;IAClC,IAAI,MAAM,SAAS,GAAG,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IACzD,IAAI,IAAI,SAAS,EAAE;IACnB,QAAQ,SAAS,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IACnD,KAAK;IACL,CAAC;AACD;IACA,MAAM,gBAAgB,GAAG,EAAE,CAAC;IAE5B,MAAM,iBAAiB,GAAG,EAAE,CAAC;IAC7B,MAAM,gBAAgB,GAAG,EAAE,CAAC;IAC5B,MAAM,eAAe,GAAG,EAAE,CAAC;IAC3B,MAAM,gBAAgB,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3C,IAAI,gBAAgB,GAAG,KAAK,CAAC;IAC7B,SAAS,eAAe,GAAG;IAC3B,IAAI,IAAI,CAAC,gBAAgB,EAAE;IAC3B,QAAQ,gBAAgB,GAAG,IAAI,CAAC;IAChC,QAAQ,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACrC,KAAK;IACL,CAAC;IACD,SAAS,IAAI,GAAG;IAChB,IAAI,eAAe,EAAE,CAAC;IACtB,IAAI,OAAO,gBAAgB,CAAC;IAC5B,CAAC;IACD,SAAS,mBAAmB,CAAC,EAAE,EAAE;IACjC,IAAI,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC9B,CAAC;IACD,SAAS,kBAAkB,CAAC,EAAE,EAAE;IAChC,IAAI,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC7B,CAAC;IACD,IAAI,QAAQ,GAAG,KAAK,CAAC;IACrB,MAAM,cAAc,GAAG,IAAI,GAAG,EAAE,CAAC;IACjC,SAAS,KAAK,GAAG;IACjB,IAAI,IAAI,QAAQ;IAChB,QAAQ,OAAO;IACf,IAAI,QAAQ,GAAG,IAAI,CAAC;IACpB,IAAI,GAAG;IACP;IACA;IACA,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;IAC7D,YAAY,MAAM,SAAS,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC;IAClD,YAAY,qBAAqB,CAAC,SAAS,CAAC,CAAC;IAC7C,YAAY,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IACjC,SAAS;IACT,QAAQ,qBAAqB,CAAC,IAAI,CAAC,CAAC;IACpC,QAAQ,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC;IACpC,QAAQ,OAAO,iBAAiB,CAAC,MAAM;IACvC,YAAY,iBAAiB,CAAC,GAAG,EAAE,EAAE,CAAC;IACtC;IACA;IACA;IACA,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;IAC7D,YAAY,MAAM,QAAQ,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACjD,YAAY,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;IAC/C;IACA,gBAAgB,cAAc,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAC7C,gBAAgB,QAAQ,EAAE,CAAC;IAC3B,aAAa;IACb,SAAS;IACT,QAAQ,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC;IACpC,KAAK,QAAQ,gBAAgB,CAAC,MAAM,EAAE;IACtC,IAAI,OAAO,eAAe,CAAC,MAAM,EAAE;IACnC,QAAQ,eAAe,CAAC,GAAG,EAAE,EAAE,CAAC;IAChC,KAAK;IACL,IAAI,gBAAgB,GAAG,KAAK,CAAC;IAC7B,IAAI,QAAQ,GAAG,KAAK,CAAC;IACrB,IAAI,cAAc,CAAC,KAAK,EAAE,CAAC;IAC3B,CAAC;IACD,SAAS,MAAM,CAAC,EAAE,EAAE;IACpB,IAAI,IAAI,EAAE,CAAC,QAAQ,KAAK,IAAI,EAAE;IAC9B,QAAQ,EAAE,CAAC,MAAM,EAAE,CAAC;IACpB,QAAQ,OAAO,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;IAClC,QAAQ,MAAM,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;IAC/B,QAAQ,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACxB,QAAQ,EAAE,CAAC,QAAQ,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACpD,QAAQ,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;IACrD,KAAK;IACL,CAAC;AACD;IACA,IAAI,OAAO,CAAC;IACZ,SAAS,IAAI,GAAG;IAChB,IAAI,IAAI,CAAC,OAAO,EAAE;IAClB,QAAQ,OAAO,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;IACpC,QAAQ,OAAO,CAAC,IAAI,CAAC,MAAM;IAC3B,YAAY,OAAO,GAAG,IAAI,CAAC;IAC3B,SAAS,CAAC,CAAC;IACX,KAAK;IACL,IAAI,OAAO,OAAO,CAAC;IACnB,CAAC;IACD,SAASA,UAAQ,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE;IACzC,IAAI,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,GAAG,OAAO,GAAG,OAAO,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IAChF,CAAC;IACD,MAAM,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC;IAC3B,IAAI,MAAM,CAAC;IACX,SAAS,YAAY,GAAG;IACxB,IAAI,MAAM,GAAG;IACb,QAAQ,CAAC,EAAE,CAAC;IACZ,QAAQ,CAAC,EAAE,EAAE;IACb,QAAQ,CAAC,EAAE,MAAM;IACjB,KAAK,CAAC;IACN,CAAC;IACD,SAAS,YAAY,GAAG;IACxB,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE;IACnB,QAAQ,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC1B,KAAK;IACL,IAAI,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC;IACtB,CAAC;IACD,SAAS,aAAa,CAAC,KAAK,EAAE,KAAK,EAAE;IACrC,IAAI,IAAI,KAAK,IAAI,KAAK,CAAC,CAAC,EAAE;IAC1B,QAAQ,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC/B,QAAQ,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACvB,KAAK;IACL,CAAC;IACD,SAAS,cAAc,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE;IACxD,IAAI,IAAI,KAAK,IAAI,KAAK,CAAC,CAAC,EAAE;IAC1B,QAAQ,IAAI,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC;IAC/B,YAAY,OAAO;IACnB,QAAQ,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC5B,QAAQ,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM;IAC5B,YAAY,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACnC,YAAY,IAAI,QAAQ,EAAE;IAC1B,gBAAgB,IAAI,MAAM;IAC1B,oBAAoB,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/B,gBAAgB,QAAQ,EAAE,CAAC;IAC3B,aAAa;IACb,SAAS,CAAC,CAAC;IACX,QAAQ,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACvB,KAAK;IACL,CAAC;IACD,MAAM,eAAe,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC;IACxC,SAAS,oBAAoB,CAAC,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE;IAChD,IAAI,IAAI,MAAM,GAAG,EAAE,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAClC,IAAI,IAAI,OAAO,GAAG,KAAK,CAAC;IACxB,IAAI,IAAI,cAAc,CAAC;IACvB,IAAI,IAAI,IAAI,CAAC;IACb,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC;IAChB,IAAI,SAAS,OAAO,GAAG;IACvB,QAAQ,IAAI,cAAc;IAC1B,YAAY,WAAW,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;IAC9C,KAAK;IACL,IAAI,SAAS,EAAE,GAAG;IAClB,QAAQ,MAAM,EAAE,KAAK,GAAG,CAAC,EAAE,QAAQ,GAAG,GAAG,EAAE,MAAM,GAAG,QAAQ,EAAE,IAAI,GAAG,IAAI,EAAE,GAAG,EAAE,GAAG,MAAM,IAAI,eAAe,CAAC;IAC7G,QAAQ,IAAI,GAAG;IACf,YAAY,cAAc,GAAG,WAAW,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IAC1F,QAAQ,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACnB,QAAQ,MAAM,UAAU,GAAG,GAAG,EAAE,GAAG,KAAK,CAAC;IACzC,QAAQ,MAAM,QAAQ,GAAG,UAAU,GAAG,QAAQ,CAAC;IAC/C,QAAQ,IAAI,IAAI;IAChB,YAAY,IAAI,CAAC,KAAK,EAAE,CAAC;IACzB,QAAQ,OAAO,GAAG,IAAI,CAAC;IACvB,QAAQ,mBAAmB,CAAC,MAAMA,UAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;IACjE,QAAQ,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI;IAC3B,YAAY,IAAI,OAAO,EAAE;IACzB,gBAAgB,IAAI,GAAG,IAAI,QAAQ,EAAE;IACrC,oBAAoB,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,oBAAoBA,UAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;IAChD,oBAAoB,OAAO,EAAE,CAAC;IAC9B,oBAAoB,OAAO,OAAO,GAAG,KAAK,CAAC;IAC3C,iBAAiB;IACjB,gBAAgB,IAAI,GAAG,IAAI,UAAU,EAAE;IACvC,oBAAoB,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,GAAG,GAAG,UAAU,IAAI,QAAQ,CAAC,CAAC;IACpE,oBAAoB,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IACnC,iBAAiB;IACjB,aAAa;IACb,YAAY,OAAO,OAAO,CAAC;IAC3B,SAAS,CAAC,CAAC;IACX,KAAK;IACL,IAAI,IAAI,OAAO,GAAG,KAAK,CAAC;IACxB,IAAI,OAAO;IACX,QAAQ,KAAK,GAAG;IAChB,YAAY,IAAI,OAAO;IACvB,gBAAgB,OAAO;IACvB,YAAY,WAAW,CAAC,IAAI,CAAC,CAAC;IAC9B,YAAY,IAAI,WAAW,CAAC,MAAM,CAAC,EAAE;IACrC,gBAAgB,MAAM,GAAG,MAAM,EAAE,CAAC;IAClC,gBAAgB,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAChC,aAAa;IACb,iBAAiB;IACjB,gBAAgB,EAAE,EAAE,CAAC;IACrB,aAAa;IACb,SAAS;IACT,QAAQ,UAAU,GAAG;IACrB,YAAY,OAAO,GAAG,KAAK,CAAC;IAC5B,SAAS;IACT,QAAQ,GAAG,GAAG;IACd,YAAY,IAAI,OAAO,EAAE;IACzB,gBAAgB,OAAO,EAAE,CAAC;IAC1B,gBAAgB,OAAO,GAAG,KAAK,CAAC;IAChC,aAAa;IACb,SAAS;IACT,KAAK,CAAC;IACN,CAAC;IACD,SAAS,qBAAqB,CAAC,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE;IACjD,IAAI,IAAI,MAAM,GAAG,EAAE,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAClC,IAAI,IAAI,OAAO,GAAG,IAAI,CAAC;IACvB,IAAI,IAAI,cAAc,CAAC;IACvB,IAAI,MAAM,KAAK,GAAG,MAAM,CAAC;IACzB,IAAI,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC;IACjB,IAAI,SAAS,EAAE,GAAG;IAClB,QAAQ,MAAM,EAAE,KAAK,GAAG,CAAC,EAAE,QAAQ,GAAG,GAAG,EAAE,MAAM,GAAG,QAAQ,EAAE,IAAI,GAAG,IAAI,EAAE,GAAG,EAAE,GAAG,MAAM,IAAI,eAAe,CAAC;IAC7G,QAAQ,IAAI,GAAG;IACf,YAAY,cAAc,GAAG,WAAW,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;IACnF,QAAQ,MAAM,UAAU,GAAG,GAAG,EAAE,GAAG,KAAK,CAAC;IACzC,QAAQ,MAAM,QAAQ,GAAG,UAAU,GAAG,QAAQ,CAAC;IAC/C,QAAQ,mBAAmB,CAAC,MAAMA,UAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC;IAClE,QAAQ,IAAI,CAAC,GAAG,IAAI;IACpB,YAAY,IAAI,OAAO,EAAE;IACzB,gBAAgB,IAAI,GAAG,IAAI,QAAQ,EAAE;IACrC,oBAAoB,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,oBAAoBA,UAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;IACjD,oBAAoB,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE;IACpC;IACA;IACA,wBAAwB,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACzC,qBAAqB;IACrB,oBAAoB,OAAO,KAAK,CAAC;IACjC,iBAAiB;IACjB,gBAAgB,IAAI,GAAG,IAAI,UAAU,EAAE;IACvC,oBAAoB,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,GAAG,GAAG,UAAU,IAAI,QAAQ,CAAC,CAAC;IACpE,oBAAoB,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IACnC,iBAAiB;IACjB,aAAa;IACb,YAAY,OAAO,OAAO,CAAC;IAC3B,SAAS,CAAC,CAAC;IACX,KAAK;IACL,IAAI,IAAI,WAAW,CAAC,MAAM,CAAC,EAAE;IAC7B,QAAQ,IAAI,EAAE,CAAC,IAAI,CAAC,MAAM;IAC1B;IACA,YAAY,MAAM,GAAG,MAAM,EAAE,CAAC;IAC9B,YAAY,EAAE,EAAE,CAAC;IACjB,SAAS,CAAC,CAAC;IACX,KAAK;IACL,SAAS;IACT,QAAQ,EAAE,EAAE,CAAC;IACb,KAAK;IACL,IAAI,OAAO;IACX,QAAQ,GAAG,CAAC,KAAK,EAAE;IACnB,YAAY,IAAI,KAAK,IAAI,MAAM,CAAC,IAAI,EAAE;IACtC,gBAAgB,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAClC,aAAa;IACb,YAAY,IAAI,OAAO,EAAE;IACzB,gBAAgB,IAAI,cAAc;IAClC,oBAAoB,WAAW,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;IACtD,gBAAgB,OAAO,GAAG,KAAK,CAAC;IAChC,aAAa;IACb,SAAS;IACT,KAAK,CAAC;IACN,CAAC;AA4LD;IACA,MAAM,OAAO,IAAI,OAAO,MAAM,KAAK,WAAW;IAC9C,MAAM,MAAM;IACZ,MAAM,OAAO,UAAU,KAAK,WAAW;IACvC,UAAU,UAAU;IACpB,UAAU,MAAM,CAAC,CAAC;IAMlB,SAAS,uBAAuB,CAAC,KAAK,EAAE,MAAM,EAAE;IAChD,IAAI,cAAc,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM;IACtC,QAAQ,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACjC,KAAK,CAAC,CAAC;IACP,CAAC;IAKD,SAAS,+BAA+B,CAAC,KAAK,EAAE,MAAM,EAAE;IACxD,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC;IACd,IAAI,uBAAuB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IAC3C,CAAC;IACD,SAAS,iBAAiB,CAAC,UAAU,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,iBAAiB,EAAE,IAAI,EAAE,WAAW,EAAE;IACxI,IAAI,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC;IAC9B,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;IACxB,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;IACd,IAAI,MAAM,WAAW,GAAG,EAAE,CAAC;IAC3B,IAAI,OAAO,CAAC,EAAE;IACd,QAAQ,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC3C,IAAI,MAAM,UAAU,GAAG,EAAE,CAAC;IAC1B,IAAI,MAAM,UAAU,GAAG,IAAI,GAAG,EAAE,CAAC;IACjC,IAAI,MAAM,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC;IAC7B,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,IAAI,OAAO,CAAC,EAAE,EAAE;IAChB,QAAQ,MAAM,SAAS,GAAG,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IACpD,QAAQ,MAAM,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;IACvC,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACpC,QAAQ,IAAI,CAAC,KAAK,EAAE;IACpB,YAAY,KAAK,GAAG,iBAAiB,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;IACtD,YAAY,KAAK,CAAC,CAAC,EAAE,CAAC;IACtB,SAAS;IACT,aAAa,IAAI,OAAO,EAAE;IAC1B,YAAY,KAAK,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IACtC,SAAS;IACT,QAAQ,UAAU,CAAC,GAAG,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;IACnD,QAAQ,IAAI,GAAG,IAAI,WAAW;IAC9B,YAAY,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC5D,KAAK;IACL,IAAI,MAAM,SAAS,GAAG,IAAI,GAAG,EAAE,CAAC;IAChC,IAAI,MAAM,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC;IAC/B,IAAI,SAAS,MAAM,CAAC,KAAK,EAAE;IAC3B,QAAQ,aAAa,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAChC,QAAQ,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC5B,QAAQ,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACrC,QAAQ,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC;IAC3B,QAAQ,CAAC,EAAE,CAAC;IACZ,KAAK;IACL,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE;IACnB,QAAQ,MAAM,SAAS,GAAG,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAC5C,QAAQ,MAAM,SAAS,GAAG,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAC5C,QAAQ,MAAM,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC;IACtC,QAAQ,MAAM,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC;IACtC,QAAQ,IAAI,SAAS,KAAK,SAAS,EAAE;IACrC;IACA,YAAY,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC;IACnC,YAAY,CAAC,EAAE,CAAC;IAChB,YAAY,CAAC,EAAE,CAAC;IAChB,SAAS;IACT,aAAa,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;IAC3C;IACA,YAAY,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IACvC,YAAY,CAAC,EAAE,CAAC;IAChB,SAAS;IACT,aAAa,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;IACjE,YAAY,MAAM,CAAC,SAAS,CAAC,CAAC;IAC9B,SAAS;IACT,aAAa,IAAI,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;IACxC,YAAY,CAAC,EAAE,CAAC;IAChB,SAAS;IACT,aAAa,IAAI,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;IAC5D,YAAY,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IAClC,YAAY,MAAM,CAAC,SAAS,CAAC,CAAC;IAC9B,SAAS;IACT,aAAa;IACb,YAAY,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACnC,YAAY,CAAC,EAAE,CAAC;IAChB,SAAS;IACT,KAAK;IACL,IAAI,OAAO,CAAC,EAAE,EAAE;IAChB,QAAQ,MAAM,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;IACxC,QAAQ,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC;IAC1C,YAAY,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IACvC,KAAK;IACL,IAAI,OAAO,CAAC;IACZ,QAAQ,MAAM,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAClC,IAAI,OAAO,UAAU,CAAC;IACtB,CAAC;IACD,SAAS,kBAAkB,CAAC,GAAG,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE;IAC7D,IAAI,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC;IAC3B,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;IAC1C,QAAQ,MAAM,GAAG,GAAG,OAAO,CAAC,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IACvD,QAAQ,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;IAC3B,YAAY,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAC;IAC1E,SAAS;IACT,QAAQ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACtB,KAAK;IACL,CAAC;AACD;IACA,SAAS,iBAAiB,CAAC,MAAM,EAAE,OAAO,EAAE;IAC5C,IAAI,MAAM,MAAM,GAAG,EAAE,CAAC;IACtB,IAAI,MAAM,WAAW,GAAG,EAAE,CAAC;IAC3B,IAAI,MAAM,aAAa,GAAG,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IACzC,IAAI,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;IAC1B,IAAI,OAAO,CAAC,EAAE,EAAE;IAChB,QAAQ,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;IAC5B,QAAQ,MAAM,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IAC7B,QAAQ,IAAI,CAAC,EAAE;IACf,YAAY,KAAK,MAAM,GAAG,IAAI,CAAC,EAAE;IACjC,gBAAgB,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC;IAC/B,oBAAoB,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACzC,aAAa;IACb,YAAY,KAAK,MAAM,GAAG,IAAI,CAAC,EAAE;IACjC,gBAAgB,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE;IACzC,oBAAoB,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;IACzC,oBAAoB,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC3C,iBAAiB;IACjB,aAAa;IACb,YAAY,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAC1B,SAAS;IACT,aAAa;IACb,YAAY,KAAK,MAAM,GAAG,IAAI,CAAC,EAAE;IACjC,gBAAgB,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACvC,aAAa;IACb,SAAS;IACT,KAAK;IACL,IAAI,KAAK,MAAM,GAAG,IAAI,WAAW,EAAE;IACnC,QAAQ,IAAI,EAAE,GAAG,IAAI,MAAM,CAAC;IAC5B,YAAY,MAAM,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC;IACpC,KAAK;IACL,IAAI,OAAO,MAAM,CAAC;IAClB,CAAC;IACD,SAAS,iBAAiB,CAAC,YAAY,EAAE;IACzC,IAAI,OAAO,OAAO,YAAY,KAAK,QAAQ,IAAI,YAAY,KAAK,IAAI,GAAG,YAAY,GAAG,EAAE,CAAC;IACzF,CAAC;AAyID;IACA,SAAS,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE;IACzC,IAAI,MAAM,KAAK,GAAG,SAAS,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC3C,IAAI,IAAI,KAAK,KAAK,SAAS,EAAE;IAC7B,QAAQ,SAAS,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC;IAC7C,QAAQ,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;IAC1C,KAAK;IACL,CAAC;IACD,SAAS,gBAAgB,CAAC,KAAK,EAAE;IACjC,IAAI,KAAK,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC;IACvB,CAAC;IAID,SAAS,eAAe,CAAC,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE;IACnE,IAAI,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,UAAU,EAAE,YAAY,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;IAC1E,IAAI,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAC3C,IAAI,IAAI,CAAC,aAAa,EAAE;IACxB;IACA,QAAQ,mBAAmB,CAAC,MAAM;IAClC,YAAY,MAAM,cAAc,GAAG,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;IACzE,YAAY,IAAI,UAAU,EAAE;IAC5B,gBAAgB,UAAU,CAAC,IAAI,CAAC,GAAG,cAAc,CAAC,CAAC;IACnD,aAAa;IACb,iBAAiB;IACjB;IACA;IACA,gBAAgB,OAAO,CAAC,cAAc,CAAC,CAAC;IACxC,aAAa;IACb,YAAY,SAAS,CAAC,EAAE,CAAC,QAAQ,GAAG,EAAE,CAAC;IACvC,SAAS,CAAC,CAAC;IACX,KAAK;IACL,IAAI,YAAY,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;IAC9C,CAAC;IACD,SAAS,iBAAiB,CAAC,SAAS,EAAE,SAAS,EAAE;IACjD,IAAI,MAAM,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;IAC5B,IAAI,IAAI,EAAE,CAAC,QAAQ,KAAK,IAAI,EAAE;IAC9B,QAAQ,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;IAC/B,QAAQ,EAAE,CAAC,QAAQ,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;IAChD;IACA;IACA,QAAQ,EAAE,CAAC,UAAU,GAAG,EAAE,CAAC,QAAQ,GAAG,IAAI,CAAC;IAC3C,QAAQ,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC;IACpB,KAAK;IACL,CAAC;IACD,SAAS,UAAU,CAAC,SAAS,EAAE,CAAC,EAAE;IAClC,IAAI,IAAI,SAAS,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;IACtC,QAAQ,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACzC,QAAQ,eAAe,EAAE,CAAC;IAC1B,QAAQ,SAAS,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACnC,KAAK;IACL,IAAI,SAAS,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACxD,CAAC;IACD,SAAS,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,eAAe,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;IAC7F,IAAI,MAAM,gBAAgB,GAAG,iBAAiB,CAAC;IAC/C,IAAI,qBAAqB,CAAC,SAAS,CAAC,CAAC;IACrC,IAAI,MAAM,EAAE,GAAG,SAAS,CAAC,EAAE,GAAG;IAC9B,QAAQ,QAAQ,EAAE,IAAI;IACtB,QAAQ,GAAG,EAAE,IAAI;IACjB;IACA,QAAQ,KAAK;IACb,QAAQ,MAAM,EAAE,IAAI;IACpB,QAAQ,SAAS;IACjB,QAAQ,KAAK,EAAE,YAAY,EAAE;IAC7B;IACA,QAAQ,QAAQ,EAAE,EAAE;IACpB,QAAQ,UAAU,EAAE,EAAE;IACtB,QAAQ,aAAa,EAAE,EAAE;IACzB,QAAQ,aAAa,EAAE,EAAE;IACzB,QAAQ,YAAY,EAAE,EAAE;IACxB,QAAQ,OAAO,EAAE,IAAI,GAAG,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,EAAE,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC;IAChG;IACA,QAAQ,SAAS,EAAE,YAAY,EAAE;IACjC,QAAQ,KAAK;IACb,QAAQ,UAAU,EAAE,KAAK;IACzB,KAAK,CAAC;IACN,IAAI,IAAI,KAAK,GAAG,KAAK,CAAC;IACtB,IAAI,EAAE,CAAC,GAAG,GAAG,QAAQ;IACrB,UAAU,QAAQ,CAAC,SAAS,EAAE,OAAO,CAAC,KAAK,IAAI,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,KAAK;IACxE,YAAY,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IACtD,YAAY,IAAI,EAAE,CAAC,GAAG,IAAI,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE;IACnE,gBAAgB,IAAI,CAAC,EAAE,CAAC,UAAU,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IACjD,oBAAoB,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACvC,gBAAgB,IAAI,KAAK;IACzB,oBAAoB,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;IAC7C,aAAa;IACb,YAAY,OAAO,GAAG,CAAC;IACvB,SAAS,CAAC;IACV,UAAU,EAAE,CAAC;IACb,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IAChB,IAAI,KAAK,GAAG,IAAI,CAAC;IACjB,IAAI,OAAO,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;IAC9B;IACA,IAAI,EAAE,CAAC,QAAQ,GAAG,eAAe,GAAG,eAAe,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;IACpE,IAAI,IAAI,OAAO,CAAC,MAAM,EAAE;IACxB,QAAQ,IAAI,OAAO,CAAC,OAAO,EAAE;IAC7B,YAAY,MAAM,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IACnD;IACA,YAAY,EAAE,CAAC,QAAQ,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IAChD,YAAY,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAClC,SAAS;IACT,aAAa;IACb;IACA,YAAY,EAAE,CAAC,QAAQ,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC;IAC3C,SAAS;IACT,QAAQ,IAAI,OAAO,CAAC,KAAK;IACzB,YAAY,aAAa,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;IACjD,QAAQ,eAAe,CAAC,SAAS,EAAE,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,aAAa,CAAC,CAAC;IAC1F,QAAQ,KAAK,EAAE,CAAC;IAChB,KAAK;IACL,IAAI,qBAAqB,CAAC,gBAAgB,CAAC,CAAC;IAC5C,CAAC;IA8CD;IACA;IACA;IACA,MAAM,eAAe,CAAC;IACtB,IAAI,QAAQ,GAAG;IACf,QAAQ,iBAAiB,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;IACnC,QAAQ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IAC7B,KAAK;IACL,IAAI,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAE;IACxB,QAAQ,MAAM,SAAS,IAAI,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACtF,QAAQ,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACjC,QAAQ,OAAO,MAAM;IACrB,YAAY,MAAM,KAAK,GAAG,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACtD,YAAY,IAAI,KAAK,KAAK,CAAC,CAAC;IAC5B,gBAAgB,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC3C,SAAS,CAAC;IACV,KAAK;IACL,IAAI,IAAI,CAAC,OAAO,EAAE;IAClB,QAAQ,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;IAC9C,YAAY,IAAI,CAAC,EAAE,CAAC,UAAU,GAAG,IAAI,CAAC;IACtC,YAAY,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAChC,YAAY,IAAI,CAAC,EAAE,CAAC,UAAU,GAAG,KAAK,CAAC;IACvC,SAAS;IACT,KAAK;IACL,CAAC;AACD;IACA,SAAS,YAAY,CAAC,IAAI,EAAE,MAAM,EAAE;IACpC,IAAI,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;IAC7F,CAAC;IACD,SAAS,UAAU,CAAC,MAAM,EAAE,IAAI,EAAE;IAClC,IAAI,YAAY,CAAC,iBAAiB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;IACtD,IAAI,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACzB,CAAC;IACD,SAAS,UAAU,CAAC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;IAC1C,IAAI,YAAY,CAAC,iBAAiB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;IAC9D,IAAI,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;IACjC,CAAC;IACD,SAAS,UAAU,CAAC,IAAI,EAAE;IAC1B,IAAI,YAAY,CAAC,iBAAiB,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;IAC9C,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC;IACjB,CAAC;IAgBD,SAAS,UAAU,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,mBAAmB,EAAE,oBAAoB,EAAE;IAC9F,IAAI,MAAM,SAAS,GAAG,OAAO,KAAK,IAAI,GAAG,CAAC,SAAS,CAAC,GAAG,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC;IACvG,IAAI,IAAI,mBAAmB;IAC3B,QAAQ,SAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACzC,IAAI,IAAI,oBAAoB;IAC5B,QAAQ,SAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC1C,IAAI,YAAY,CAAC,2BAA2B,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC;IACnF,IAAI,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IAC1D,IAAI,OAAO,MAAM;IACjB,QAAQ,YAAY,CAAC,8BAA8B,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC;IAC1F,QAAQ,OAAO,EAAE,CAAC;IAClB,KAAK,CAAC;IACN,CAAC;IACD,SAAS,QAAQ,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE;IAC1C,IAAI,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;IACjC,IAAI,IAAI,KAAK,IAAI,IAAI;IACrB,QAAQ,YAAY,CAAC,0BAA0B,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;IACtE;IACA,QAAQ,YAAY,CAAC,uBAAuB,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;IAC1E,CAAC;IACD,SAAS,QAAQ,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE;IACzC,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;IAC3B,IAAI,YAAY,CAAC,sBAAsB,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;IACpE,CAAC;IAKD,SAAS,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE;IAClC,IAAI,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC;IACrB,IAAI,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI;IAC/B,QAAQ,OAAO;IACf,IAAI,YAAY,CAAC,kBAAkB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IAC3D,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IACD,SAAS,sBAAsB,CAAC,GAAG,EAAE;IACrC,IAAI,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,EAAE,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,QAAQ,IAAI,GAAG,CAAC,EAAE;IACzF,QAAQ,IAAI,GAAG,GAAG,gDAAgD,CAAC;IACnE,QAAQ,IAAI,OAAO,MAAM,KAAK,UAAU,IAAI,GAAG,IAAI,MAAM,CAAC,QAAQ,IAAI,GAAG,EAAE;IAC3E,YAAY,GAAG,IAAI,+DAA+D,CAAC;IACnF,SAAS;IACT,QAAQ,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;IAC7B,KAAK;IACL,CAAC;IACD,SAAS,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;IAC1C,IAAI,KAAK,MAAM,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;IAC9C,QAAQ,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;IACtC,YAAY,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,+BAA+B,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;IACjF,SAAS;IACT,KAAK;IACL,CAAC;IACD;IACA;IACA;IACA,MAAM,kBAAkB,SAAS,eAAe,CAAC;IACjD,IAAI,WAAW,CAAC,OAAO,EAAE;IACzB,QAAQ,IAAI,CAAC,OAAO,KAAK,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;IAChE,YAAY,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;IAC7D,SAAS;IACT,QAAQ,KAAK,EAAE,CAAC;IAChB,KAAK;IACL,IAAI,QAAQ,GAAG;IACf,QAAQ,KAAK,CAAC,QAAQ,EAAE,CAAC;IACzB,QAAQ,IAAI,CAAC,QAAQ,GAAG,MAAM;IAC9B,YAAY,OAAO,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAC;IAC5D,SAAS,CAAC;IACV,KAAK;IACL,IAAI,cAAc,GAAG,GAAG;IACxB,IAAI,aAAa,GAAG,GAAG;IACvB;;ICrpDA,MAAM,gBAAgB,GAAG,EAAE,CAAC;IAC5B;IACA;IACA;IACA;IACA;IACA,SAAS,QAAQ,CAAC,KAAK,EAAE,KAAK,EAAE;IAChC,IAAI,OAAO;IACX,QAAQ,SAAS,EAAEC,UAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,SAAS;IACnD,KAAK,CAAC;IACN,CAAC;IACD;IACA;IACA;IACA;IACA;IACA,SAASA,UAAQ,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI,EAAE;IACvC,IAAI,IAAI,IAAI,CAAC;IACb,IAAI,MAAM,WAAW,GAAG,EAAE,CAAC;IAC3B,IAAI,SAAS,GAAG,CAAC,SAAS,EAAE;IAC5B,QAAQ,IAAI,cAAc,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE;IAC9C,YAAY,KAAK,GAAG,SAAS,CAAC;IAC9B,YAAY,IAAI,IAAI,EAAE;IACtB,gBAAgB,MAAM,SAAS,GAAG,CAAC,gBAAgB,CAAC,MAAM,CAAC;IAC3D,gBAAgB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;IAChE,oBAAoB,MAAM,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;IAC7C,oBAAoB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC3B,oBAAoB,gBAAgB,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;IACpD,iBAAiB;IACjB,gBAAgB,IAAI,SAAS,EAAE;IAC/B,oBAAoB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;IACzE,wBAAwB,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACxE,qBAAqB;IACrB,oBAAoB,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC;IAChD,iBAAiB;IACjB,aAAa;IACb,SAAS;IACT,KAAK;IACL,IAAI,SAAS,MAAM,CAAC,EAAE,EAAE;IACxB,QAAQ,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IACvB,KAAK;IACL,IAAI,SAAS,SAAS,CAAC,GAAG,EAAE,UAAU,GAAG,IAAI,EAAE;IAC/C,QAAQ,MAAM,UAAU,GAAG,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;IAC7C,QAAQ,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACrC,QAAQ,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;IACtC,YAAY,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC;IACtC,SAAS;IACT,QAAQ,GAAG,CAAC,KAAK,CAAC,CAAC;IACnB,QAAQ,OAAO,MAAM;IACrB,YAAY,MAAM,KAAK,GAAG,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IAC1D,YAAY,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;IAC9B,gBAAgB,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC7C,aAAa;IACb,YAAY,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;IAC1C,gBAAgB,IAAI,EAAE,CAAC;IACvB,gBAAgB,IAAI,GAAG,IAAI,CAAC;IAC5B,aAAa;IACb,SAAS,CAAC;IACV,KAAK;IACL,IAAI,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC;IACtC,CAAC;IACD,SAAS,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,aAAa,EAAE;IAC5C,IAAI,MAAM,MAAM,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAC1C,IAAI,MAAM,YAAY,GAAG,MAAM;IAC/B,UAAU,CAAC,MAAM,CAAC;IAClB,UAAU,MAAM,CAAC;IACjB,IAAI,MAAM,IAAI,GAAG,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;IAC/B,IAAI,OAAO,QAAQ,CAAC,aAAa,EAAE,CAAC,GAAG,KAAK;IAC5C,QAAQ,IAAI,MAAM,GAAG,KAAK,CAAC;IAC3B,QAAQ,MAAM,MAAM,GAAG,EAAE,CAAC;IAC1B,QAAQ,IAAI,OAAO,GAAG,CAAC,CAAC;IACxB,QAAQ,IAAI,OAAO,GAAG,IAAI,CAAC;IAC3B,QAAQ,MAAM,IAAI,GAAG,MAAM;IAC3B,YAAY,IAAI,OAAO,EAAE;IACzB,gBAAgB,OAAO;IACvB,aAAa;IACb,YAAY,OAAO,EAAE,CAAC;IACtB,YAAY,MAAM,MAAM,GAAG,EAAE,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,EAAE,GAAG,CAAC,CAAC;IAChE,YAAY,IAAI,IAAI,EAAE;IACtB,gBAAgB,GAAG,CAAC,MAAM,CAAC,CAAC;IAC5B,aAAa;IACb,iBAAiB;IACjB,gBAAgB,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,GAAG,MAAM,GAAG,IAAI,CAAC;IAC9D,aAAa;IACb,SAAS,CAAC;IACV,QAAQ,MAAM,aAAa,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC,KAAK,SAAS,CAAC,KAAK,EAAE,CAAC,KAAK,KAAK;IACzF,YAAY,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;IAC9B,YAAY,OAAO,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;IACjC,YAAY,IAAI,MAAM,EAAE;IACxB,gBAAgB,IAAI,EAAE,CAAC;IACvB,aAAa;IACb,SAAS,EAAE,MAAM;IACjB,YAAY,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;IAChC,SAAS,CAAC,CAAC,CAAC;IACZ,QAAQ,MAAM,GAAG,IAAI,CAAC;IACtB,QAAQ,IAAI,EAAE,CAAC;IACf,QAAQ,OAAO,SAAS,IAAI,GAAG;IAC/B,YAAY,OAAO,CAAC,aAAa,CAAC,CAAC;IACnC,YAAY,OAAO,EAAE,CAAC;IACtB,SAAS,CAAC;IACV,KAAK,CAAC,CAAC;IACP;;ICxGA;IACO,MAAM,QAAQ,GAAG,CAAC,CAAC,KAAK;IAC/B,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;IAC/C,EAAE,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACvD,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;AAChC;IACA,EAAE,GAAG,GAAG,IAAI,GAAG,EAAE;IACjB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACd,GAAG,MAAM;IACT,IAAI,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC;IACtB,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC;IACxD,IAAI,OAAO,GAAG;IACd,MAAM,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM;IACvD,MAAM,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM;IACzC,MAAM,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM;IACzC,KAAK;IACL,IAAI,CAAC,IAAI,CAAC,CAAC;IACX,GAAG;IACH,EAAE,OAAO,IAAI,KAAK,CAAC,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC;IAC9C,EAAC;AACD;IACA;IACA,MAAM,UAAU,GAAG;IACnB,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAC7B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAC7B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAC9B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC9B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC9B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC7B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC7B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC7B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC5B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC7B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IAC9B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAC9B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC9B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC7B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC7B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC9B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAChC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC/B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CA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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WApMvB,KAAK;MACT,O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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}