var app=function(){"use strict";function e(){}function t(e,t){for(const r in t)e[r]=t[r];return e}function r(e){return e()}function s(){return Object.create(null)}function n(e){e.forEach(r)}function o(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,...r){if(null==t)return e;const s=t.subscribe(...r);return s.unsubscribe?()=>s.unsubscribe():s}function a(e){let t;return i(e,(e=>t=e))(),t}function c(e,t,r){e.$$.on_destroy.push(i(t,r))}function u(e,t,r,s){if(e){const n=h(e,t,r,s);return e[0](n)}}function h(e,r,s,n){return e[1]&&n?t(s.ctx.slice(),e[1](n(r))):s.ctx}function p(e,t,r,s,n,o,l){const i=function(e,t,r,s){if(e[2]&&s){const n=e[2](s(r));if(void 0===t.dirty)return n;if("object"==typeof n){const e=[],r=Math.max(t.dirty.length,n.length);for(let s=0;s<r;s+=1)e[s]=t.dirty[s]|n[s];return e}return t.dirty|n}return t.dirty}(t,s,n,o);if(i){const n=h(t,r,s,l);e.p(n,i)}}function d(e){const t={};for(const r in e)"$"!==r[0]&&(t[r]=e[r]);return t}function g(e,t){const r={};t=new Set(t);for(const s in e)t.has(s)||"$"===s[0]||(r[s]=e[s]);return r}function f(e){return null==e?"":e}function m(t){return t&&o(t.destroy)?t.destroy:e}function x(e,t){e.appendChild(t)}function $(e,t,r){e.insertBefore(t,r||null)}function b(e){e.parentNode.removeChild(e)}function v(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function y(e){return document.createElement(e)}function w(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function _(e){return document.createTextNode(e)}function L(){return _(" ")}function k(){return _("")}function z(e,t,r,s){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r,s)}function E(e){return function(t){return t.preventDefault(),e.call(this,t)}}function C(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function I(e,t){const r=Object.getOwnPropertyDescriptors(e.__proto__);for(const s in t)null==t[s]?e.removeAttribute(s):"style"===s?e.style.cssText=t[s]:"__value"===s?e.value=e[s]=t[s]:r[s]&&r[s].set?e[s]=t[s]:C(e,s,t[s])}function A(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function F(e,t,r,s){e.style.setProperty(t,r,s?"important":"")}function M(e,t){for(let r=0;r<e.options.length;r+=1){const s=e.options[r];if(s.__value===t)return void(s.selected=!0)}}function S(e,t,r){e.classList[r?"add":"remove"](t)}let P;function T(e){P=e}function j(){if(!P)throw new Error("Function called outside component initialization");return P}function N(e){j().$$.on_mount.push(e)}function B(e){j().$$.on_destroy.push(e)}function R(){const e=j();return(t,r)=>{const s=e.$$.callbacks[t];if(s){const n=function(e,t){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!1,!1,t),r}(t,r);s.slice().forEach((t=>{t.call(e,n)}))}}}function D(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach((e=>e(t)))}const O=[],H=[],q=[],K=[],G=Promise.resolve();let U=!1;function J(){U||(U=!0,G.then(Q))}function W(){return J(),G}function Y(e){q.push(e)}function X(e){K.push(e)}let V=!1;const Z=new Set;function Q(){if(!V){V=!0;do{for(let e=0;e<O.length;e+=1){const t=O[e];T(t),ee(t.$$)}for(T(null),O.length=0;H.length;)H.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];Z.has(t)||(Z.add(t),t())}q.length=0}while(O.length);for(;K.length;)K.pop()();U=!1,V=!1,Z.clear()}}function ee(e){if(null!==e.fragment){e.update(),n(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}const te=new Set;let re;function se(){re={r:0,c:[],p:re}}function ne(){re.r||n(re.c),re=re.p}function oe(e,t){e&&e.i&&(te.delete(e),e.i(t))}function le(e,t,r,s){if(e&&e.o){if(te.has(e))return;te.add(e),re.c.push((()=>{te.delete(e),s&&(r&&e.d(1),s())})),e.o(t)}}const ie="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ae(e,t){e.d(1),t.delete(e.key)}function ce(e,t){le(e,1,1,(()=>{t.delete(e.key)}))}function ue(e,t,r,s,n,o,l,i,a,c,u,h){let p=e.length,d=o.length,g=p;const f={};for(;g--;)f[e[g].key]=g;const m=[],x=new Map,$=new Map;for(g=d;g--;){const e=h(n,o,g),i=r(e);let a=l.get(i);a?s&&a.p(e,t):(a=c(i,e),a.c()),x.set(i,m[g]=a),i in f&&$.set(i,Math.abs(g-f[i]))}const b=new Set,v=new Set;function y(e){oe(e,1),e.m(i,u),l.set(e.key,e),u=e.first,d--}for(;p&&d;){const t=m[d-1],r=e[p-1],s=t.key,n=r.key;t===r?(u=t.first,p--,d--):x.has(n)?!l.has(s)||b.has(s)?y(t):v.has(n)?p--:$.get(s)>$.get(n)?(v.add(s),y(t)):(b.add(n),p--):(a(r,l),p--)}for(;p--;){const t=e[p];x.has(t.key)||a(t,l)}for(;d;)y(m[d-1]);return m}function he(e,t){const r={},s={},n={$$scope:1};let o=e.length;for(;o--;){const l=e[o],i=t[o];if(i){for(const e in l)e in i||(s[e]=1);for(const e in i)n[e]||(r[e]=i[e],n[e]=1);e[o]=i}else for(const e in l)n[e]=1}for(const e in s)e in r||(r[e]=void 0);return r}function pe(e){return"object"==typeof e&&null!==e?e:{}}function de(e,t,r){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=r,r(e.$$.ctx[s]))}function ge(e){e&&e.c()}function fe(e,t,s){const{fragment:l,on_mount:i,on_destroy:a,after_update:c}=e.$$;l&&l.m(t,s),Y((()=>{const t=i.map(r).filter(o);a?a.push(...t):n(t),e.$$.on_mount=[]})),c.forEach(Y)}function me(e,t){const r=e.$$;null!==r.fragment&&(n(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function xe(t,r,o,l,i,a,c=[-1]){const u=P;T(t);const h=r.props||{},p=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:i,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:c,skip_bound:!1};let d=!1;if(p.ctx=o?o(t,h,((e,r,...s)=>{const n=s.length?s[0]:r;return p.ctx&&i(p.ctx[e],p.ctx[e]=n)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](n),d&&function(e,t){-1===e.$$.dirty[0]&&(O.push(e),J(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),r})):[],p.update(),d=!0,n(p.before_update),p.fragment=!!l&&l(p.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);p.fragment&&p.fragment.l(e),e.forEach(b)}else p.fragment&&p.fragment.c();r.intro&&oe(t.$$.fragment),fe(t,r.target,r.anchor),Q()}T(u)}class $e{$destroy(){me(this,1),this.$destroy=e}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const be=[];function ve(t,r=e){let s;const n=[];function o(e){if(l(t,e)&&(t=e,s)){const e=!be.length;for(let e=0;e<n.length;e+=1){const r=n[e];r[1](),be.push(r,t)}if(e){for(let e=0;e<be.length;e+=2)be[e][0](be[e+1]);be.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(l,i=e){const a=[l,i];return n.push(a),1===n.length&&(s=r(o)||e),l(t),()=>{const e=n.indexOf(a);-1!==e&&n.splice(e,1),0===n.length&&(s(),s=null)}}}}function ye(t,r,s){const l=!Array.isArray(t),a=l?[t]:t,c=r.length<2;return{subscribe:ve(s,(t=>{let s=!1;const u=[];let h=0,p=e;const d=()=>{if(h)return;p();const s=r(l?u[0]:u,t);c?t(s):p=o(s)?s:e},g=a.map(((e,t)=>i(e,(e=>{u[t]=e,h&=~(1<<t),s&&d()}),(()=>{h|=1<<t}))));return s=!0,d(),function(){n(g),p()}})).subscribe}}const we=e=>{var t,r,s=e[0]/255,n=e[1]/255,o=e[2]/255,l=Math.max(s,n,o),i=Math.min(s,n,o),a=(l+i)/2;if(l==i)t=r=0;else{var c=l-i;switch(r=a>.5?c/(2-l-i):c/(l+i),l){case s:t=(n-o)/c+(n<o?6:0);break;case n:t=(o-s)/c+2;break;case o:t=(s-n)/c+4}t/=6}return new Array(360*t,100*r,100*a)},_e=[{hex:"00",rgb:[124,124,124]},{hex:"01",rgb:[0,0,252]},{hex:"02",rgb:[0,0,188]},{hex:"03",rgb:[68,40,188]},{hex:"04",rgb:[148,0,132]},{hex:"05",rgb:[168,0,32]},{hex:"06",rgb:[168,16,0]},{hex:"07",rgb:[136,20,0]},{hex:"08",rgb:[80,48,0]},{hex:"09",rgb:[0,120,0]},{hex:"0A",rgb:[0,104,0]},{hex:"0B",rgb:[0,88,0]},{hex:"0C",rgb:[0,64,88]},{hex:"0D",rgb:[0,0,0]},{hex:"0E",rgb:[0,0,0]},{hex:"0F",rgb:[0,0,0]},{hex:"10",rgb:[188,188,188]},{hex:"11",rgb:[0,120,248]},{hex:"12",rgb:[0,88,248]},{hex:"13",rgb:[104,68,252]},{hex:"14",rgb:[216,0,204]},{hex:"15",rgb:[228,0,88]},{hex:"16",rgb:[248,56,0]},{hex:"17",rgb:[228,92,16]},{hex:"18",rgb:[172,124,0]},{hex:"19",rgb:[0,184,0]},{hex:"1A",rgb:[0,168,0]},{hex:"1B",rgb:[0,168,68]},{hex:"1C",rgb:[0,136,136]},{hex:"1D",rgb:[0,0,0]},{hex:"1E",rgb:[0,0,0]},{hex:"1F",rgb:[0,0,0]},{hex:"20",rgb:[248,248,248]},{hex:"21",rgb:[60,188,252]},{hex:"22",rgb:[104,136,252]},{hex:"23",rgb:[152,120,248]},{hex:"24",rgb:[248,120,248]},{hex:"25",rgb:[248,88,152]},{hex:"26",rgb:[248,120,88]},{hex:"27",rgb:[252,160,68]},{hex:"28",rgb:[248,184,0]},{hex:"29",rgb:[184,248,24]},{hex:"2A",rgb:[88,216,84]},{hex:"2B",rgb:[88,248,152]},{hex:"2C",rgb:[0,232,216]},{hex:"2D",rgb:[120,120,120]},{hex:"2E",rgb:[0,0,0]},{hex:"2F",rgb:[0,0,0]},{hex:"30",rgb:[252,252,252]},{hex:"31",rgb:[164,228,252]},{hex:"32",rgb:[184,184,248]},{hex:"33",rgb:[216,184,248]},{hex:"34",rgb:[248,184,248]},{hex:"35",rgb:[248,164,192]},{hex:"36",rgb:[240,208,176]},{hex:"37",rgb:[252,224,168]},{hex:"38",rgb:[248,216,120]},{hex:"39",rgb:[216,248,120]},{hex:"3A",rgb:[184,248,184]},{hex:"3B",rgb:[184,248,216]},{hex:"3C",rgb:[0,252,252]},{hex:"3D",rgb:[216,216,216]},{hex:"3E",rgb:[0,0,0]},{hex:"3F",rgb:[0,0,0]}],Le=_e.map(((e,t)=>({rgb:we(e.rgb),index:t}))).sort(((e,t)=>t.rgb[0]-e.rgb[0]||e.rgb[2]-t.rgb[2])).map((e=>_e[e.index]));class ke{constructor(e,t){this.hex=e,this.rgb=t,Object.freeze(this)}}const ze=Le.map((e=>new ke(e.hex,e.rgb))),Ee=(()=>{const e=ve([]),{subscribe:t,update:r}=e;return{subscribe:t,push(e){if(e instanceof ErrorEvent){const t=new Date,s=`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}`;e.date=s,r((t=>(t.length>20&&(t=[]),t.push(e),t)))}}}})(),Ce=(()=>{const{subscribe:e,set:t,update:r}=ve({name:void 0,saved:null});return{subscribe:e,name:e=>{if("string"!=typeof e)throw new Error("Invalid project name.");r((t=>({...t,name:e})))},save:e=>{console.log("saving to location:",e)}}})();window.addEventListener("contextmenu",(e=>e.preventDefault())),window.addEventListener("error",(function(e){Ee.push(e)})),window.addEventListener("keydown",(e=>{}));class Ie extends Number{constructor(e,t){if("number"!=typeof e||"string"!=typeof t)throw new Error("Invalid Enumerable arguments");super(e),this.key=t,this.value=e,Object.freeze(this)}}class Ae extends Map{constructor(...e){super(),e.forEach(((e,t)=>{if(this.has(e))throw new Error(`enum key : '${e}' already exists`);if("string"!=typeof e)throw new Error(`Invalid key. Expecting string, got : [${typeof e}](${e})`);const r=new Ie(t+1,e);this.set(e,r)})),Object.freeze(this)}}const Fe=new class{constructor(...e){this.__actions=this.define(...e),this.__binds=new Map}define(...e){const t=new Ae(...e);return this.__actions=t,t}action(e){if(!this.__actions.has(e))throw new Error(`Action is not defined for key '${e}'`);return this.__actions.get(e)}register(e,t){if("string"!=typeof e){if(!(e instanceof Ie))throw new Error(`Invalid key value '${e}'. Expecting instance of 'Enum'`);if(this.__binds.has(e))throw new Error(`Action already defined : [${e.key}]`);if("function"!=typeof t)throw new Error("Invalid callback function");this.__binds.set(e,t)}else this.register(this.action(e),t)}exist(e){return this.__binds.has(e)}call(e,...t){if("string"!=typeof e){if(!(e instanceof Ie))throw new Error(`Invalid key '${e}'. Expecting 'Enum'`);if(!this.__binds.has(e))throw new Error(`Action for '${e}' does not exist`);return new Promise(((r,s)=>{try{r(this.__binds.get(e).call(null,...t))}catch(e){s(e.message)}}))}this.call(this.action(e),...t)}execute(...e){return this.call(...e)}}("noop","application_log","window_close","window_minimize","window_maximize","window_toggle_fullscreen","external_link","project_create","project_open","project_save","project_save_as","palette_clear","palette_create","palette_remove","palette_clone_layer","palette_clone_active_layer","palette_make_layer_active","palette_swap_layers","palette_update_layer_label","palette_focus_rename_active_layer","palette_export","palette_import","palette_active_color","spritesheet_clear","spritesheet_create","spritesheet_remove","spritesheet_clone_layer","spritesheet_clone_active_layer","spritesheet_update_layer_label","spritesheet_make_layer_active","spritesheet_swap_layers","spritesheet_focus_rename_active_layer","spritesheet_zoom","spritesheet_zoom_in","spritesheet_zoom_out","spritesheet_zoom_reset","spritesheet_set_active_tool","spritesheet_import","spritesheet_export","spritesheet_import_chr","spritesheet_export_chr","spritesheet_export_png","spritesheet_undo","spritesheet_redo","tool_action","toggle_theme","light_theme","dark_theme"),Me=(e,t)=>{const r=ve(e);let s={...r,get:e=>a(r)};return t&&(s={...s,...t.call(null,{value:e,store:r,get:s.get}||{...s})}),Object.freeze(s)},{window:Se}=ie;function Pe(e){let t,r,s,o;const l=e[8].default,i=u(l,e,e[7],null);return{c(){t=y("div"),i&&i.c(),C(t,"class","draggable svelte-1262lmj"),F(t,"left",e[1]+"px"),F(t,"top",e[0]+"px")},m(n,l){$(n,t,l),i&&i.m(t,null),e[9](t),r=!0,s||(o=[z(Se,"mouseup",e[4]),z(Se,"mousemove",e[5],!0),z(t,"mousedown",e[3])],s=!0)},p(e,[s]){i&&i.p&&128&s&&p(i,l,e,e[7],s,null,null),(!r||2&s)&&F(t,"left",e[1]+"px"),(!r||1&s)&&F(t,"top",e[0]+"px")},i(e){r||(oe(i,e),r=!0)},o(e){le(i,e),r=!1},d(r){r&&b(t),i&&i.d(r),e[9](null),s=!1,n(o)}}}let Te=9999,je=[];function Ne(e,t,r){let s,{$$slots:n={},$$scope:o}=t,{clamp:l}=t,{top:i=0}=t,{left:a=0}=t,c=!1;return N((()=>{var e;return(e=s).style.setProperty("--zindex",++Te),je.push(e),()=>{(e=>{je=je.filter((t=>t!==e))})(s)}})),e.$$set=e=>{"clamp"in e&&r(6,l=e.clamp),"top"in e&&r(0,i=e.top),"left"in e&&r(1,a=e.left),"$$scope"in e&&r(7,o=e.$$scope)},[i,a,s,e=>{s.style.setProperty("--zindex",++Te),c=!0},e=>c=!1,e=>{if(c&&(r(1,a+=e.movementX),r(0,i+=e.movementY),l)){const e=window.innerWidth,t=window.innerHeight;r(1,a=Math.min(Math.max(a,0),e-s.clientWidth-2)),r(0,i=Math.min(Math.max(i,0),t-s.clientHeight-2))}},l,o,n,function(e){H[e?"unshift":"push"]((()=>{s=e,r(2,s)}))}]}class Be extends $e{constructor(e){super(),xe(this,e,Ne,Pe,l,{clamp:6,top:0,left:1})}}function Re(e){let t,r;const s=e[1].default,n=u(s,e,e[0],null);return{c(){t=y("div"),n&&n.c(),C(t,"class","panel-header svelte-18pvy6o")},m(e,s){$(e,t,s),n&&n.m(t,null),r=!0},p(e,[t]){n&&n.p&&1&t&&p(n,s,e,e[0],t,null,null)},i(e){r||(oe(n,e),r=!0)},o(e){le(n,e),r=!1},d(e){e&&b(t),n&&n.d(e)}}}function De(e,t,r){let{$$slots:s={},$$scope:n}=t;return e.$$set=e=>{"$$scope"in e&&r(0,n=e.$$scope)},[n,s]}class Oe extends $e{constructor(e){super(),xe(this,e,De,Re,l,{})}}function He(e){let t,r,s,n;const o=e[2].default,l=u(o,e,e[1],null);return{c(){t=y("button"),l&&l.c(),C(t,"class","svelte-1dsxcgu"),S(t,"danger","danger"==e[0])},m(o,i){$(o,t,i),l&&l.m(t,null),r=!0,s||(n=z(t,"click",e[3]),s=!0)},p(e,[r]){l&&l.p&&2&r&&p(l,o,e,e[1],r,null,null),1&r&&S(t,"danger","danger"==e[0])},i(e){r||(oe(l,e),r=!0)},o(e){le(l,e),r=!1},d(e){e&&b(t),l&&l.d(e),s=!1,n()}}}function qe(e,t,r){let{$$slots:s={},$$scope:n}=t,{variant:o}=t;return e.$$set=e=>{"variant"in e&&r(0,o=e.variant),"$$scope"in e&&r(1,n=e.$$scope)},[o,n,s,function(t){D(e,t)}]}class Ke extends $e{constructor(e){super(),xe(this,e,qe,He,l,{variant:0})}}function Ge(e,t,r){const s=e.slice();return s[2]=t[r],s}function Ue(e){let t,r;return{c(){t=w("svg"),r=w("path"),C(r,"d","M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"),C(t,"xmlns","http://www.w3.org/2000/svg"),C(t,"width","10"),C(t,"height","10"),C(t,"viewBox","0 0 24 24")},m(e,s){$(e,t,s),x(t,r)},d(e){e&&b(t)}}}function Je(e){let t,r,s,n,o,l,i=e[2].props.label+"";return o=new Ke({props:{$$slots:{default:[Ue]},$$scope:{ctx:e}}}),o.$on("click",(function(...t){return e[1](e[2],...t)})),{c(){t=y("span"),r=_(i),s=L(),n=y("div"),ge(o.$$.fragment),C(n,"class","actions")},m(e,i){$(e,t,i),x(t,r),$(e,s,i),$(e,n,i),fe(o,n,null),l=!0},p(t,s){e=t,(!l||1&s)&&i!==(i=e[2].props.label+"")&&A(r,i);const n={};32&s&&(n.$$scope={dirty:s,ctx:e}),o.$set(n)},i(e){l||(oe(o.$$.fragment,e),l=!0)},o(e){le(o.$$.fragment,e),l=!1},d(e){e&&b(t),e&&b(s),e&&b(n),me(o)}}}function We(t){let r;return{c(){r=_("No component")},m(e,t){$(e,r,t)},p:e,i:e,o:e,d(e){e&&b(r)}}}function Ye(e){let r,s,n;const o=[e[2].props];var l=e[2].component;function i(e){let r={};for(let e=0;e<o.length;e+=1)r=t(r,o[e]);return{props:r}}return l&&(r=new l(i())),{c(){r&&ge(r.$$.fragment),s=k()},m(e,t){r&&fe(r,e,t),$(e,s,t),n=!0},p(e,t){const n=1&t?he(o,[pe(e[2].props)]):{};if(l!==(l=e[2].component)){if(r){se();const e=r;le(e.$$.fragment,1,0,(()=>{me(e,1)})),ne()}l?(r=new l(i()),ge(r.$$.fragment),oe(r.$$.fragment,1),fe(r,s.parentNode,s)):r=null}else l&&r.$set(n)},i(e){n||(r&&oe(r.$$.fragment,e),n=!0)},o(e){r&&le(r.$$.fragment,e),n=!1},d(e){e&&b(s),r&&me(r,e)}}}function Xe(e){let t,r,s,n,o,l,i,a,c;s=new Oe({props:{$$slots:{default:[Je]},$$scope:{ctx:e}}});const u=[Ye,We],h=[];function p(e,t){return e[2].component?0:1}return l=p(e),i=h[l]=u[l](e),{c(){t=y("div"),r=y("div"),ge(s.$$.fragment),n=L(),o=y("div"),i.c(),a=L(),C(r,"class","controls svelte-1kabj79"),C(o,"class","content-window svelte-1kabj79"),C(t,"class","window svelte-1kabj79")},m(e,i){$(e,t,i),x(t,r),fe(s,r,null),x(t,n),x(t,o),h[l].m(o,null),$(e,a,i),c=!0},p(e,t){const r={};33&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r);let n=l;l=p(e),l===n?h[l].p(e,t):(se(),le(h[n],1,1,(()=>{h[n]=null})),ne(),i=h[l],i?i.p(e,t):(i=h[l]=u[l](e),i.c()),oe(i,1),i.m(o,null))},i(e){c||(oe(s.$$.fragment,e),oe(i),c=!0)},o(e){le(s.$$.fragment,e),le(i),c=!1},d(e){e&&b(t),me(s),h[l].d(),e&&b(a)}}}function Ve(e,t){let r,s,n;return s=new Be({props:{clamp:!0,$$slots:{default:[Xe]},$$scope:{ctx:t}}}),{key:e,first:null,c(){r=k(),ge(s.$$.fragment),this.first=r},m(e,t){$(e,r,t),fe(s,e,t),n=!0},p(e,r){t=e;const n={};33&r&&(n.$$scope={dirty:r,ctx:t}),s.$set(n)},i(e){n||(oe(s.$$.fragment,e),n=!0)},o(e){le(s.$$.fragment,e),n=!1},d(e){e&&b(r),me(s,e)}}}function Ze(e){let t,r,s=[],n=new Map,o=e[0];const l=e=>e[2];for(let t=0;t<o.length;t+=1){let r=Ge(e,o,t),i=l(r);n.set(i,s[t]=Ve(i,r))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=k()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);$(e,t,n),r=!0},p(e,[r]){1&r&&(o=e[0],se(),s=ue(s,r,l,1,e,o,n,t.parentNode,ce,Ve,t,Ge),ne())},i(e){if(!r){for(let e=0;e<o.length;e+=1)oe(s[e]);r=!0}},o(e){for(let e=0;e<s.length;e+=1)le(s[e]);r=!1},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&b(t)}}}const Qe=ve([]);function et(e,t,r){let s;c(e,Qe,(e=>r(0,s=e)));return[s,(e,t)=>{return r=e,void Qe.update((e=>e.filter((e=>e!==r))));var r}]}class tt extends $e{constructor(e){super(),xe(this,e,et,Ze,l,{})}}const rt={startPage:"/graphics/spritesheets"};var st={project:{save:{mimetype:"nesbit/project",extension:"nesbitproject",version:3}},palettes:{save:{mimetype:"nesbit/palette",extension:"nesbitpalette",version:2},export:{mimetype:"text/plain",extension:"",version:1}},spritesheets:{save:{mimetype:"nesbit/spritesheet",extension:"nesbitspritesheet",version:3},export:{mimetype:"text/plain",extension:"",version:2}},settings:{save:{mimetype:"nesbit/settings",extension:"nesbitsettings",version:2}}};const nt=e=>{const t=ze.find((t=>t.hex==e));if(t)return t},ot=nt("0F");let lt=1;class it{constructor(e,t){if(this.label=e||"",this.colors=[],this.uuid=++lt,Array.isArray(t)&&4==t.length)for(const e of t)this.addColor(e.hex);else this.colors=[...Array(4).fill("").map((e=>({...ot})))]}addColor(e){if(!(this.colors.length<4))throw new Error("Max 4 colors per 'ColorPaletteGroup'");const t=nt(e);t&&this.colors.push({...t})}}const at=Me(0,(({store:e,get:t})=>({setActiveColorIndex(t){if(!Number.isInteger(t))throw new Error("Invalid 'setActiveColorIndex' value. Expecting 'Integer'");if(!(t>=0&&t<=4))throw new Error("Invalid 'setActiveColorIndex' number range. Expecting number between '0-4'");e.set(t)},getActiveColorIndex:()=>t(),getActiveColorValue(e){const r=ut.stores.activeLayer.get();if(!r)throw new Error("No 'activeLayer' selected");return Number.isInteger(e)||(e=t()),r.colors[e]}}))),ct=Me([],(({store:e,value:t,get:r,update:s})=>({clear(){ut.stores.activeLayer.set(void 0),e.set([])},swapLayers(t,r){e.update((e=>e[t]&&e[r]?([e[t],e[r]]=[e[r],e[t]],ut.stores.activeLayer.set(e[r]),e):e))},replaceColor(t){e.update((e=>{const r=e[t.layerIndex],s=nt(t.hex);return r.colors[t.colorIndex]={hex:s.hex,rgb:s.rgb},ut.makeLayerActive(e[t.layerIndex]),e}))},swapColors(t){e.update((e=>{ut.update();const r=e[t.layerIndex].colors,s=e[t.to.layerIndex].colors;let n=r[t.colorIndex],o=s[t.to.colorIndex];return r[t.colorIndex]={...nt(o.hex)},s[t.to.colorIndex]={...nt(n.hex)},ut.makeLayerActive(e[t.to.layerIndex]),e}))}}))),ut=Me({selectedColor:at,activeLayer:Me(),layers:ct},(({store:e,value:t,get:r})=>({lastChanged:Me(),stores:t,update(){ut.lastChanged.set(Math.random()+Date.now())},createLayer({label:e,colors:r}={},s=!1){t.layers.update((t=>{e=e||"palette_"+(t.length+1);const n=new it(e,r);return t=s?[...t,n]:[n,...t],ut.makeLayerActive(n),t}))},removeLayer(e){t.layers.update((r=>{const s=r.indexOf(e);return e==t.activeLayer.get()&&(r[s+1]?ut.makeLayerActive(r[s+1]):r[s-1]?ut.makeLayerActive(r[s-1]):t.activeLayer.set(void 0)),r.splice(s,1),r}))},cloneLayer(e){t.layers.update((t=>{let{label:r,colors:s}=e;r+=" copy";const n=new it(r,s);return t=[n,...t],ut.makeLayerActive(n),t}))},cloneActiveLayer(){const e=t.activeLayer.get();e?ut.cloneLayer(e):ut.createLayer()},makeLayerActive(e){if(!(e instanceof it))throw new Error("Invalid 'ColorPaletteGroupInstance' while setting 'activeLayer'");t.activeLayer.set(e)},layerIndexFromSource(e){if(!(e instanceof it))throw new Error("Invalid 'ColorPaletteGroupInstance' in 'layerIndexFromSource'");return t.layers.get().indexOf(e)},updateLayerLabel(e,r){t.layers.update((t=>(e.label=r,ut.makeLayerActive(e),t)))},import(e,t){const r=ut.stores.layers.get().length<=0,s=t?e:JSON.parse(e);if(s.version==st.palettes.save.version)for(const e of s.data)ut.createLayer({...e},!0);r&&ut.stores.layers.length&&ut.makeLayerActive(ut.stores.layers.get()[0])},export(e){const t=ut.stores.layers.get();let r={version:st.palettes.save.version,data:[...t]};return e&&(r=JSON.stringify(r)),r},clear(){ut.stores.activeLayer.set(void 0),ut.stores.layers.set([])}}))),ht=(e,t)=>{const r=e?e.length:0;if(r<1)return[];const s=new Array(Math.ceil(r/t));let n=0,o=0;for(;n<r;)s[o++]=e.slice(n,n+=t);return s},pt=e=>(e=Number(e>>>0).toString(2),"00000000".substring(e.length)+e);function dt(e,t){let r=Number(e);return Number(t)&&(r=2),Number(e)+Number(t)>1&&(r=3),r}class gt{constructor(){this.future=[],this.past=[],this.present}get last(){return this.present}setPresent(e){this.future=[],this.present=JSON.parse(JSON.stringify(e))}push(e){this.past.push(JSON.parse(JSON.stringify(e)))}undo(){if(this.past.length){const e=this.past.pop();this.future.push(this.present),this.present=e}return this.present}redo(){if(this.future.length){const e=this.future.pop();this.push(this.present),this.present=e}return this.present}}class ft{constructor({label:e,width:t,height:r,data:s,colorAttributes:n}={}){this._isInitialized=!1,this.uuid=Math.random()+Date.now(),this.width=t||128,this.height=r||128,this.label=e||"",this.element=document.createElement("canvas"),this.element.width=this.width,this.element.height=this.height,this.context=this.element.getContext("2d"),this.image=document.createElement("img"),this.data=s,this.history=new gt,this.colorAttributes=n,this.colorAttributes||(this.colorAttributes=new Array(16).fill().map((e=>new Array(16).fill().map((e=>null))))),this.data?this._isInitialized||this.drawFromSource(ut.stores.activeLayer.get()):this.data=new Array(16).fill().map((e=>new Array(16).fill().map((e=>new Array(8).fill().map((e=>new Array(8).fill().map((e=>0))))))))}updateImageSource(){return this.image.src=this.element.toDataURL("image/png",.1)}setPresent(e){this.history.setPresent(e||this.data)}forceUpdate(){this.drawFromSource(ut.stores.activeLayer.get())}async toDataURL(e="image/png",t){return await fetch(this.element.toDataURL(e,t)).then((e=>e.blob()))}colorIndexAtPosition(e,t){const r=this.data,s=Math.floor(e/8),n=e%8,o=t%8;return r[Math.floor(t/8)][s][o][n]}setColorIndexAtPosition(e,t,r){const s=this.data,n=Math.floor(e/8),o=e%8,l=t%8;s[Math.floor(t/8)][n][l][o]=r}saveHistory(){this.history.push(this.data)}undo(){const e=this.history.undo();e&&(this.data=e,this.drawFromSource(ut.stores.activeLayer.get()))}redo(){const e=this.history.redo();e&&(this.data=e,this.drawFromSource(ut.stores.activeLayer.get()))}drawFromSource(e){e&&(this._isInitialized||(this._isInitialized=!0),this.data.map(((t,r)=>{t.map(((t,s)=>{this.context.save(),this.context.translate(8*s,8*r);let n,o=$t.stores.activeLayer.get().colorAttributes[s][r];o&&(n=o),t.map(((t,r)=>{this.context.save(),this.context.translate(0,r),t.map(((t,r)=>{this.context.save(),this.context.translate(r,0);let s=(n||e).colors[t];s&&(this.context.fillStyle=`rgb(${s.rgb})`,this.context.fillRect(0,0,1,1),this.context.restore())})),this.context.restore()})),this.context.restore()}))})))}clear(){this.context.clearRect(0,0,this.element.width,this.element.height)}}const mt=Me([],(({store:e,value:t,get:r})=>({swapLayers(t,r){e.update((e=>e[t]&&e[r]?([e[t],e[r]]=[e[r],e[t]],$t.stores.activeLayer.set(e[r]),e):e))}}))),xt=Me(void 0),$t=Me({activeLayer:xt,layers:mt},(({store:e,value:t,get:r})=>({data:{width:128,height:128},stores:t,createLayer({label:e,data:t,colorAttributes:r}={}){$t.stores.layers.update((s=>{e=e||"spritesheet_"+(s.length+1);const n=new ft({label:e,data:t,colorAttributes:r}),o=[n,...s];return $t.makeLayerActive(n),o}))},removeLayer(e){$t.stores.layers.update((t=>{let r=[...t];const s=r.indexOf(e);return e==$t.stores.activeLayer.get()&&(r[s+1]?$t.makeLayerActive(r[s+1]):r[s-1]?$t.makeLayerActive(r[s-1]):$t.stores.activeLayer.set(void 0)),r=r.filter((t=>t!=e)),r}))},cloneLayer(e){$t.stores.layers.update((t=>{let{width:r,height:s,label:n,data:o,colorAttributes:l}=e;Array.isArray(o)&&(o=JSON.parse(JSON.stringify(o)),l=JSON.parse(JSON.stringify(l))),n+=" copy";const i=new ft({width:r,height:s,label:n,data:o,colorAttributes:l});return t=[i,...t],$t.makeLayerActive(i),t}))},cloneActiveLayer(){const e=$t.stores.activeLayer.get();e?$t.cloneLayer(e):$t.createLayer()},makeLayerActive(e){if(!(e instanceof ft))throw new Error("Invalid 'CanvasLayerInstance' while setting 'activeLayer'");$t.stores.activeLayer.set(e)},updateLayerLabel(e,t){$t.stores.layers.update((r=>(e.label=t,r)))},import(e,t){const r=t?e:JSON.parse(e);if(r.version==st.spritesheets.save.version)for(const e of r.data.spritesheets.layers)$t.createLayer({...e});else console.warn("Invalid file version.")},export(e){const t=JSON.parse(JSON.stringify($t.stores.layers.get())).map((e=>({label:e.label,data:e.data,colorAttributes:e.colorAttributes})));let r={version:st.spritesheets.save.version,data:{spritesheets:{layers:t}}};return e&&(r=JSON.stringify(r)),r},importCHR(e){(e=>{const t=ht(new Uint8Array(e),16);let r=[];for(let e of t){let t,s,n=[];for(let r=8;r<16;r++){t=pt(e[r-8]),s=pt(e[r]);const o=[];for(let e=0;e<8;e++){const r=dt(t[e],s[e]);o.push(r)}n.push(o)}r.push(n)}return r=ht(r,16),ht(r,16)})(e).forEach((e=>$t.createLayer({data:e})))},exportCHR(){const e=$t.stores.activeLayer.get();if(!e||!e.data)throw new Error("Unable to export CHR. No 'activeLayer'");const t=(e=>{const t=[0,85,170,255],r=new ArrayBuffer(4096),s=new Uint8Array(r);let n="";for(let r of e)for(let e of r){let r="",s="";for(let n of e)for(let e of n){const n=t[e];r+=1&n,s+=n>>1&1}n+=r+s}return n.match(/.{8}/g).map(((e,t)=>s[t]=parseInt(e,2))),s})(e.data);return{label:e.label,data:t}},exportAsImage(e,t="image/png",r=1){const s=$t.stores.activeLayer.get();if(!(s instanceof ft))throw new Error("Unable to export Image. No 'activeLayer'");return{label:s.label,image:s.element.toBlob((n=>{e.call(null,{blob:n,label:s.label,options:{mimetype:t,quality:r}})}),t,r),options:{type:t}}},clear(){$t.stores.activeLayer.set(void 0),$t.stores.layers.set([])}}))),bt=Me({path:void 0},(({store:e,value:t,get:r})=>({create(){Qe.set([]),$t.clear(),ut.clear()},open(e,t){try{if((t=JSON.parse(t)).project.version!==st.project.save.version)throw new Error(`Invalid project version. Trying to load project file with version '${t.project.version}' but expecting '${st.project.save.version}'`);$t.clear(),ut.clear(),$t.import(t.spritesheets,!0),ut.import(t.palettes,!0),bt.set({path:e})}catch(e){throw new Error(e)}},export(e){const t=r(),s=$t.export(),n=ut.export(),o={project:{...t,version:st.project.save.version},spritesheets:s,palettes:n};return e?JSON.stringify(o):o}})));bt.open("",'\n{"project":{"path":"2021_01_04_insert_projectname (7).nesbitproject","version":3},"spritesheets":{"version":3,"data":{"spritesheets":{"layers":[{"label":"tc","data":[[[[3,0,3,3,0,0,0,0],[0,0,3,3,0,0,0,3],[0,0,0,3,0,0,3,3],[3,3,0,0,0,0,0,3],[3,3,0,0,3,3,0,0],[0,3,0,3,3,3,3,0],[0,0,0,3,3,3,0,0],[0,0,0,3,3,0,0,2]],[[0,0,0,0,0,0,0,0],[0,0,3,3,3,0,0,3],[3,0,3,3,0,0,3,3],[3,3,0,0,0,0,3,3],[3,0,0,3,3,0,0,0],[0,0,0,3,3,3,3,0],[2,2,2,0,3,3,0,0],[3,3,3,0,3,0,0,2]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,3,3,3,3,3,3],[0,3,3,0,1,2,3,2],[3,3,0,3,1,3,2,2],[3,0,1,2,3,2,3,2],[3,1,0,0,0,0,2,2],[3,3,0,0,0,0,2,2],[3,2,0,1,0,0,2,2],[3,3,2,0,0,0,2,3]],[[3,3,0,3,3,3,3,0],[2,2,3,0,1,2,3,0],[2,2,3,0,1,3,2,3],[2,2,2,3,0,1,3,3],[2,2,2,2,1,2,2,3],[2,2,2,3,0,2,2,3],[2,2,2,3,0,1,2,3],[2,2,2,2,3,0,1,3]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0],[2,0,2,2,2,2,0,2],[0,2,0,0,2,0,0,2],[3,3,0,0,0,0,0,0],[0,3,0,3,3,3,3,0],[0,0,0,3,3,3,0,0],[0,0,0,3,3,0,0,2]],[[3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0],[2,0,2,0,2,0,2,0],[0,3,0,3,0,3,0,2],[2,0,0,3,2,0,0,0],[0,0,0,3,3,3,3,0],[2,2,2,0,3,3,0,0],[3,3,3,0,3,0,0,2]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3],[0,0,0,0,0,2,0,3],[0,0,0,0,0,2,0,3],[0,0,0,0,0,2,0,3],[0,0,0,0,0,2,0,3],[0,0,0,0,0,2,0,3]]],[[[2,2,0,0,0,0,0,3],[3,3,2,0,2,2,0,0],[3,3,3,0,3,3,2,0],[3,3,0,2,3,3,0,0],[0,0,0,0,0,0,0,2],[0,2,2,0,2,2,0,3],[0,3,3,2,3,3,0,0],[2,3,3,3,3,3,0,0]],[[3,3,3,0,0,0,2,3],[3,0,0,0,0,0,3,3],[0,0,2,2,2,0,3,3],[0,0,3,3,3,0,0,3],[2,2,2,0,0,0,0,0],[3,3,3,0,2,2,2,2],[3,3,0,3,3,3,3,3],[0,0,0,0,3,3,3,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,2,3,2,3,2],[3,3,3,3,3,3,3,3],[0,1,3,3,1,3,1,3],[0,0,3,0,0,3,0,3],[0,3,0,0,3,0,0,3],[3,3,1,3,3,1,3,3],[3,3,3,3,3,3,3,3],[0,3,3,1,3,1,1,3]],[[3,2,3,2,2,3,0,0],[2,3,2,3,2,2,3,3],[3,2,3,1,3,2,3,3],[3,3,0,1,2,3,3,3],[2,3,0,1,3,2,3,3],[3,0,1,3,3,3,3,3],[0,1,3,2,3,3,3,0],[0,1,1,3,1,3,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[2,2,0,0,0,0,0,3],[3,3,2,0,2,2,0,0],[3,3,3,0,3,3,2,0],[3,3,0,2,3,3,0,0],[0,0,0,0,0,0,0,2],[0,2,2,0,2,2,0,3],[0,3,3,2,3,3,0,0],[2,3,3,3,3,3,0,0]],[[3,3,3,0,0,0,2,3],[3,0,0,0,0,0,3,3],[0,0,2,2,2,0,3,3],[0,0,3,3,3,0,0,3],[2,2,2,0,0,0,0,0],[3,3,3,0,2,2,2,2],[3,3,0,3,3,3,3,3],[0,0,0,0,3,3,3,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,2,0,3],[0,0,0,0,0,2,0,3],[0,0,0,0,0,2,0,3],[0,0,0,0,0,2,0,3],[0,0,0,0,0,2,0,3],[0,0,0,0,0,2,0,3],[0,0,0,0,0,2,0,3],[0,0,0,0,0,2,0,3]]],[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,0,3,3,0,0,0,0],[0,0,3,3,0,0,0,3],[0,0,0,3,0,0,3,3],[3,3,0,0,0,0,0,3],[3,3,0,0,3,3,0,0],[0,3,0,3,3,3,3,0],[0,0,0,3,3,3,0,0],[0,0,0,3,3,0,0,2]],[[0,0,0,0,0,0,0,0],[0,0,3,3,3,0,0,3],[3,0,3,3,0,0,3,3],[3,3,0,0,0,0,3,3],[3,0,0,3,3,0,0,0],[0,0,0,3,3,3,3,0],[2,2,2,0,3,3,0,0],[3,3,3,0,3,0,0,2]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,3,3,3,2,3,3]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[3,3,2,2,2,2,2,2]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,3,2,2,3,3],[0,0,0,0,0,0,0,0],[2,2,3,3,3,3,2,2]],[[0,0,0,0,0,2,0,3],[0,0,0,0,0,2,0,3],[0,0,0,0,0,3,0,3],[0,0,0,0,0,3,0,3],[0,0,0,0,0,3,0,3],[3,2,2,3,3,0,0,3],[0,0,0,0,0,0,0,3],[2,2,2,2,2,2,3,0]]],[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[2,2,0,0,0,0,0,3],[3,3,2,0,2,2,0,0],[3,3,3,0,3,3,2,0],[3,3,0,2,3,3,0,0],[0,0,0,0,0,0,0,2],[0,2,2,0,2,2,0,3],[0,3,3,2,3,3,0,0],[2,3,3,3,3,3,0,0]],[[3,3,3,0,0,0,2,3],[3,0,0,0,0,0,3,3],[0,0,2,2,2,0,3,3],[0,0,3,3,3,0,0,3],[2,2,2,0,0,0,0,0],[3,3,3,0,2,2,2,2],[3,3,0,3,3,3,3,3],[0,0,0,0,3,3,3,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,3,0,0,0,0,0,0],[0,3,3,3,0,0,3,0],[0,0,3,3,0,0,3,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,3,0],[3,0,0,0,3,3,3,0],[3,0,0,3,3,3,3,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]],[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,3,0,0,0,0,0,0],[0,3,3,3,0,0,0,3],[0,3,3,3,3,0,0,3]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,3,0],[0,3,0,0,3,3,3,0],[0,3,0,0,3,3,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,3,3,0,3,0,0],[0,0,0,3,0,2,0,2],[0,0,0,0,0,2,1,2],[0,0,0,0,2,2,2,2],[0,0,0,0,1,2,0,2],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,3,0,0,3,3,0,0],[0,3,2,0,3,0,0,0],[1,2,2,0,3,0,0,0],[2,2,2,0,0,0,0,0],[0,2,1,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]],[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,3,3,0,0,3,0],[0,0,0,3,0,2,3,0],[0,0,0,3,0,2,2,1],[0,0,0,0,0,2,2,2],[0,0,0,0,0,1,2,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,3,0,3,3,0,0],[2,0,2,0,3,0,0,0],[2,1,2,0,0,0,0,0],[2,2,2,2,0,0,0,0],[2,0,2,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]],[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,1,3,0,0],[0,3,2,0,0,0,3,3]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,2,0,0,0,0],[0,2,0,2,0,0,0,0],[0,2,0,2,0,0,0,0],[0,2,0,0,3,0,0,0],[0,3,0,0,3,0,3,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,2,2,2,3,3,2,0],[2,3,3,3,3,3,3,3],[2,3,2,1,1,2,3,3],[3,3,0,0,0,0,3,3],[2,3,2,1,1,2,3,2],[3,3,0,2,2,0,3,2],[0,3,3,0,0,2,2,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,3,2,1,3,0,0],[0,1,3,2,2,3,0,3],[2,2,3,2,2,3,0,3],[3,1,3,2,1,3,0,0],[3,1,3,2,1,3,0,0],[3,2,3,2,1,3,0,3],[2,1,3,0,2,3,0,3],[3,1,3,0,2,3,0,3]]],[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,2,1,1,1,2,2,2],[2,0,0,0,0,0,0,0],[1,0,1,0,0,2,0,0],[1,0,0,1,0,0,0,0],[1,0,0,0,3,0,0,0],[1,0,3,0,0,2,0,0],[2,0,0,0,0,0,1,0],[1,0,0,0,0,0,0,1]],[[2,2,1,1,2,1,3,2],[0,0,0,0,0,0,0,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,2,0,0,0,0,1,0],[0,0,0,0,0,0,0,1]],[[2,2,2,2,3,3,3,3],[0,0,0,0,0,0,0,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,2,0,0,0,0,1,0],[0,0,0,0,0,0,0,1]],[[2,2,2,3,3,3,3,3],[0,0,0,0,0,0,0,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,2,0,0,0,0,1,0],[0,0,0,0,0,0,0,1]],[[3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,2,0,0,0,0,1,0],[0,0,0,0,0,0,0,1]],[[3,3,3,3,3,3,3,0],[0,0,0,0,0,0,0,2],[0,0,1,0,0,2,0,2],[0,0,0,1,0,0,0,2],[0,0,0,0,3,0,0,2],[0,0,3,0,0,2,0,3],[0,2,0,0,0,0,0,2],[0,0,0,0,0,0,0,2]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,3,0,0,0,0,0],[0,1,3,0,0,0,0,0]],[[3,2,3,2,1,3,0,3],[0,1,3,2,2,3,0,3],[2,2,3,2,2,3,0,3],[3,1,3,2,1,3,0,3],[3,1,3,2,1,3,0,3],[0,2,3,2,1,3,0,3],[2,1,3,2,2,3,0,3],[3,1,0,2,2,3,0,3]]],[[[0,0,3,2,1,3,0,0],[0,1,3,2,2,3,0,3],[2,2,3,2,2,3,0,3],[3,1,3,2,1,3,0,0],[3,1,3,2,1,3,0,0],[3,2,3,2,1,3,0,3],[2,1,3,0,2,3,0,3],[3,1,3,0,2,3,0,3]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[2,0,0,0,0,0,0,0],[2,0,0,0,0,0,3,0],[2,0,1,0,0,2,0,0],[2,0,0,1,0,0,0,0],[2,0,0,0,3,0,0,0],[3,0,3,0,0,2,0,0],[3,0,0,0,0,0,1,0],[2,0,0,0,0,0,0,1]],[[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,3,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,2,0,0,0,0,1,0],[0,0,0,0,0,0,0,0]],[[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,3,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,2,0,0,0,0,1,0],[0,0,0,0,0,0,0,0]],[[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,3,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,2,0,0,0,0,1,0],[0,0,0,0,0,0,0,0]],[[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,3,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,2,0,0,0,0,1,0],[0,0,0,0,0,0,0,0]],[[3,0,0,0,0,0,0,2],[0,2,0,0,0,0,0,3],[0,0,1,0,0,2,0,3],[0,0,0,1,0,0,0,2],[0,0,0,0,3,0,0,3],[0,0,3,0,0,2,0,3],[0,2,0,0,0,0,0,3],[0,0,0,0,0,0,0,3]],[[0,0,0,0,0,0,0,0],[2,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[1,1,3,3,0,0,0,0],[1,1,2,3,0,0,0,0],[3,1,1,2,2,3,0,0],[0,3,3,2,2,2,2,2],[0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,1,0,2,2,3,0,3],[3,2,3,2,1,3,0,3],[2,2,3,2,2,3,0,3],[0,1,3,2,2,3,0,3],[0,1,3,2,1,3,0,3],[2,1,3,2,1,0,0,3],[2,1,3,2,1,0,0,3],[3,1,3,2,1,3,0,3]]],[[[2,1,3,2,2,3,0,3],[3,2,3,2,1,3,0,3],[2,1,0,2,1,3,0,3],[3,2,0,2,1,3,0,3],[3,2,3,2,2,3,0,3],[0,1,3,2,2,3,0,3],[3,2,3,2,2,3,0,3],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,2,0,0,0],[0,0,0,0,2,0,2,0],[0,0,0,0,2,0,2,0],[0,0,0,3,0,0,2,0],[0,3,0,3,0,0,3,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[2,0,0,0,0,0,0,0],[2,0,0,0,0,0,3,0],[2,0,1,0,0,2,0,0],[3,0,0,1,0,0,0,0],[3,0,0,0,3,0,0,0],[2,0,3,0,0,2,0,0],[2,0,0,0,0,0,1,0],[3,0,0,0,0,0,0,1]],[[0,1,1,1,1,1,1,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,1,1,1,1,0,0],[0,1,1,0,0,1,1,0],[1,1,0,0,0,0,0,0],[1,1,0,0,0,0,0,0],[1,1,0,0,0,0,0,0],[0,1,1,0,0,1,1,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,1,1,1,1,1,0,0],[1,1,0,0,0,1,1,0],[1,1,0,0,0,1,1,0],[0,1,1,1,1,1,0,0],[1,1,0,0,0,1,1,0],[1,1,0,0,0,1,1,0],[0,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,1,1,1,1,1,0,0],[1,1,0,0,0,1,1,0],[1,1,0,0,0,1,1,0],[0,1,1,1,1,1,0,0],[1,1,0,0,0,1,1,0],[1,1,0,0,0,1,1,0],[0,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]],[[3,0,0,0,0,0,0,3],[0,2,0,0,0,0,0,3],[0,0,1,0,0,2,0,3],[0,0,0,1,0,0,0,3],[0,0,0,0,3,0,0,3],[0,0,3,0,0,2,0,3],[0,2,0,0,0,0,0,3],[0,0,0,0,0,0,0,3]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,2,3,2,1,3,0,3],[0,2,3,2,1,3,0,3],[3,1,3,2,1,3,0,3],[0,2,3,2,1,3,0,3],[2,2,3,2,2,3,0,0],[2,2,3,2,1,3,0,0],[0,2,3,2,2,3,0,3],[3,2,3,2,1,3,0,3]]],[[[2,1,2,3,1,2,1,2],[0,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0],[3,0,3,0,3,0,3,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[3,3,0,3,3,3,0,3],[3,3,3,3,3,3,3,0]],[[2,1,2,3,1,2,1,0],[0,0,3,0,3,3,3,2],[0,0,0,0,0,0,0,0],[3,0,0,0,3,0,3,0],[0,3,0,3,0,3,0,0],[3,0,3,0,3,0,0,0],[3,3,0,3,3,0,0,0],[3,3,3,3,3,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,0,0,0,0,0,0,0],[3,0,0,0,0,0,3,0],[3,0,1,0,0,2,0,0],[3,0,0,1,0,0,0,0],[3,0,0,0,3,0,0,0],[3,0,3,0,0,2,0,0],[3,0,0,0,0,0,1,0],[3,0,0,0,0,0,0,1]],[[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,3,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,2,0,0,0,0,1,0],[0,0,0,0,0,0,0,1]],[[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,3,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,2,0,0,0,0,1,0],[0,0,0,0,0,0,0,1]],[[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,3,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,2,0,0,0,0,1,0],[0,0,0,0,0,0,0,1]],[[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,3,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,2,0,0,0,0,1,0],[0,0,0,0,0,0,0,1]],[[3,0,0,0,0,0,0,3],[0,2,0,0,0,0,0,3],[0,0,1,0,0,2,0,3],[0,0,0,1,0,0,0,3],[0,0,0,0,3,0,0,3],[0,0,3,0,0,2,0,3],[0,2,0,0,0,0,0,3],[0,0,0,0,0,0,0,3]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,2,0,0,0],[0,0,0,0,2,0,2,0],[0,0,0,0,2,0,2,0],[0,0,0,3,0,0,2,0],[0,3,0,3,0,0,3,0]],[[2,1,3,2,2,3,0,3],[3,2,3,2,1,3,0,3],[2,1,0,2,1,3,0,3],[3,2,0,2,1,3,0,3],[3,2,3,2,2,3,0,3],[0,1,3,2,2,3,0,3],[3,2,3,2,2,3,0,3],[0,0,0,0,0,0,0,0]]],[[[3,3,3,3,3,3,3,3],[3,0,3,0,3,3,3,3],[0,0,3,0,0,0,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,3,0,0,0],[3,0,3,0,3,0,0,0],[0,0,3,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,0,0,0,0,0,0,0],[3,0,0,0,0,0,3,0],[3,0,1,0,0,2,0,0],[3,0,0,1,0,0,0,0],[3,0,0,0,3,0,0,0],[3,0,3,0,0,2,0,0],[3,0,0,0,0,0,0,0],[0,3,3,3,3,3,3,3]],[[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,3,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3]],[[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,3,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3]],[[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,3,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,0,0,0,0,0,0,0],[3,3,2,3,3,3,3,3]],[[3,0,0,0,0,0,0,0],[0,2,0,0,0,0,3,0],[0,0,1,0,0,2,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,3,0,0,2,0,0],[0,0,0,0,0,0,0,0],[3,2,2,3,2,2,2,2]],[[3,0,0,0,0,0,0,3],[0,2,0,0,0,0,0,3],[0,0,1,0,0,2,0,3],[0,0,0,1,0,0,0,3],[0,0,0,0,3,0,0,3],[0,0,3,0,0,2,0,3],[0,0,0,0,0,0,0,3],[2,2,1,2,1,1,2,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,1,2,1,3,2,1,2],[2,3,3,3,0,3,3,0],[0,0,0,0,0,0,0,0],[0,3,0,3,0,0,0,0],[0,0,3,0,3,0,3,0],[0,0,0,3,3,3,0,3],[0,0,0,3,3,3,3,3],[0,0,0,3,3,3,3,3]],[[2,1,2,3,1,2,3,2],[0,3,3,3,3,0,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,3,0,3,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[3,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,3]]],[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,2],[0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0],[2,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,3,3,3,3,3],[0,0,0,3,0,3,0,3],[0,0,0,0,0,3,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,3,3,3,3],[3,0,3,0,3,3,3,3],[0,0,3,0,0,0,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]],[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,0,2,0,0],[0,0,2,0,2,0,0,0],[0,0,3,0,3,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[2,0,0,0,0,2,0,0],[3,3,0,0,0,3,0,0],[3,3,3,0,0,3,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,1],[0,0,0,0,0,2,0,1],[0,0,0,2,0,1,0,2],[0,0,0,1,0,2,0,2],[0,2,0,3,0,2,0,2],[0,3,0,3,0,3,0,3]],[[0,0,0,0,0,0,0,0],[0,3,0,2,0,2,0,2],[0,1,0,1,0,1,0,1],[0,2,0,2,0,2,0,2],[0,0,0,0,0,0,0,0],[0,2,0,2,0,2,0,2],[0,1,0,1,0,1,0,1],[0,3,0,3,0,2,0,3]],[[0,0,0,0,0,0,0,0],[0,3,0,2,0,2,0,2],[0,1,0,1,0,1,0,1],[0,1,0,1,0,1,0,1],[0,2,0,1,0,1,0,2],[0,2,0,2,0,1,0,2],[0,2,0,3,0,2,0,2],[0,3,0,3,0,3,0,3]],[[0,0,0,0,0,0,0,0],[0,3,0,2,0,2,0,2],[0,1,0,1,0,1,0,1],[0,2,0,2,0,2,0,2],[0,0,0,0,0,0,0,0],[0,2,0,2,0,2,0,2],[0,1,0,1,0,1,0,1],[0,3,0,3,0,2,0,3]],[[0,0,0,0,0,0,0,0],[0,3,0,2,0,2,0,2],[0,1,0,1,0,1,0,1],[0,2,0,2,0,2,0,2],[0,0,0,0,0,0,0,0],[0,2,0,2,0,2,0,2],[0,1,0,1,0,1,0,1],[0,3,0,3,0,2,0,3]],[[0,0,0,0,0,0,0,0],[0,3,0,2,0,2,0,2],[0,1,0,1,0,1,0,1],[0,2,0,2,0,2,0,2],[0,0,0,0,0,0,0,0],[0,2,0,2,0,2,0,2],[0,1,0,1,0,1,0,1],[0,3,0,3,0,2,0,3]],[[0,0,0,0,0,0,0,0],[0,3,0,2,0,2,0,3],[0,1,0,1,0,1,0,1],[0,1,0,1,0,1,0,1],[0,2,0,1,0,1,0,2],[0,2,0,2,0,1,0,2],[0,2,0,3,0,2,0,2],[0,3,0,3,0,3,0,3]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,2,0,0,0,0,0,0],[0,1,0,2,0,0,0,0],[0,2,0,1,0,0,0,0],[0,2,0,3,0,2,0,0],[0,3,0,3,0,3,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,2,0,0,0,0],[0,2,0,2,0,0,0,0],[0,2,0,2,0,0,0,0],[0,2,0,0,3,0,0,0],[0,3,0,0,3,0,3,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,2,0,0,0],[0,0,0,0,2,0,2,0],[0,0,0,0,2,0,2,0],[0,0,0,3,0,0,2,0],[0,3,0,3,0,0,3,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,0,2,0,0],[0,0,2,0,2,0,0,0],[0,0,3,0,3,0,0,0]]],[[[3,3,2,1,1,1,2,2],[0,0,0,3,3,3,3,3],[0,0,0,0,0,0,0,0],[3,0,0,0,3,0,0,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[3,3,3,3,3,3,3,3],[3,3,3,3,3,3,0,3]],[[1,1,2,2,1,1,1,2],[3,0,0,3,3,3,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,3,0,3,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[3,3,0,3,3,3,3,3],[3,3,3,3,3,3,3,3]],[[2,2,2,2,2,3,2,1],[3,3,3,3,3,3,0,3],[0,0,0,0,0,0,0,0],[3,0,0,0,3,0,0,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[0,3,0,3,3,3,3,3],[3,3,3,3,3,3,0,3]],[[1,1,1,3,1,2,3,2],[3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0],[0,0,0,0,3,0,3,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[3,3,0,3,3,3,0,3],[3,3,3,3,3,3,3,3]],[[3,3,2,1,1,1,2,2],[3,3,0,3,3,3,3,3],[0,0,0,0,0,0,0,0],[3,0,0,0,3,0,3,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[3,3,0,3,3,3,3,3],[3,3,3,3,3,3,0,3]],[[2,1,2,3,1,2,3,2],[3,3,3,0,0,3,3,3],[0,0,0,0,0,0,0,0],[3,0,0,0,3,0,3,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[3,3,0,3,3,3,0,3],[3,3,3,3,3,3,3,3]],[[3,3,2,1,1,1,1,2],[3,3,3,0,0,0,3,0],[0,0,0,0,0,0,0,0],[3,0,0,0,3,0,0,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[0,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,3]],[[2,1,2,3,1,2,1,2],[3,3,3,3,3,0,0,3],[0,0,0,0,0,0,0,0],[0,0,0,0,3,0,3,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[3,3,0,3,3,3,0,3],[3,3,3,3,3,3,3,3]],[[3,3,2,1,1,1,2,2],[3,3,0,3,0,0,0,0],[0,0,0,0,0,0,0,3],[3,0,0,0,3,0,0,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[3,3,3,3,3,3,3,3],[3,3,3,3,3,3,0,3]],[[2,1,2,3,1,2,1,2],[0,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0],[3,0,3,0,3,0,3,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[3,3,0,3,3,3,0,3],[3,3,3,3,3,3,3,0]],[[2,1,2,3,1,2,1,0],[0,0,3,0,3,3,3,2],[0,0,0,0,0,0,0,0],[3,0,0,0,3,0,3,0],[0,3,0,3,0,3,0,0],[3,0,3,0,3,0,0,0],[3,3,0,3,3,0,0,0],[3,3,3,3,3,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,1,1,2,0,0,0],[0,1,1,1,2,2,0,0],[0,0,0,0,0,0,0,0],[0,0,0,2,0,0,0,0],[0,0,3,2,2,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,1,1,2,0,0,0],[0,1,1,1,2,2,0,0],[0,0,0,0,0,0,0,0],[0,0,3,2,2,0,0,0]],[[0,1,2,1,3,2,1,2],[2,3,3,3,0,3,3,0],[0,0,0,0,0,0,0,0],[0,3,0,3,0,0,0,0],[0,0,3,0,3,0,3,0],[0,0,0,3,3,3,0,3],[0,0,0,3,3,3,3,3],[0,0,0,3,3,3,3,3]],[[2,1,2,3,1,2,3,2],[0,3,3,3,3,0,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,3,0,3,0],[0,3,0,3,0,3,0,3],[3,0,3,0,3,0,3,0],[3,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,3]],[[2,1,2,3,1,2,3,2],[0,3,0,0,3,3,3,3],[0,0,0,0,0,0,0,0],[0,0,0,0,3,0,3,0],[0,3,0,3,0,3,0,3],[3,0,3,3,3,3,3,0],[3,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,3]]],[[[3,3,3,3,0,3,0,3],[3,3,3,0,0,0,0,3],[0,3,0,0,0,0,0,3],[0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,3,3,3,3],[3,0,3,0,3,3,3,3],[0,0,3,0,0,0,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,0,3,0,3],[3,3,3,0,0,0,0,3],[0,3,0,0,0,0,0,3],[0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,3,3,3,3],[3,0,3,0,3,3,3,3],[0,0,3,0,0,0,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,0,3,0,3],[3,3,3,0,0,0,0,3],[0,3,0,0,0,0,0,3],[0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,3,3,3,3],[3,0,3,0,3,3,3,3],[0,0,3,0,0,0,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,3,3,3,3],[3,0,3,0,3,3,3,3],[0,0,3,0,0,0,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,3,3,3,3],[3,0,3,0,3,3,3,3],[0,0,3,0,0,0,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,0,3,0,3],[3,3,3,0,0,0,0,3],[0,3,0,0,0,0,0,3],[0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,3,3,3,3],[3,0,3,0,3,3,3,3],[0,0,3,0,0,0,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,3,0,0,0],[3,0,3,0,3,0,0,0],[0,0,3,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,2,1,1,1,2,1,2],[3,3,3,3,3,3,3,3],[0,3,3,3,3,3,3,0],[0,0,0,3,0,0,0,0],[0,0,0,3,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[2,3,3,1,1,2,1,2],[3,3,3,3,3,3,3,3],[0,0,3,3,3,3,3,0],[0,0,0,3,3,0,0,0],[0,0,0,0,3,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,3,3,3,3,3],[0,0,0,3,0,3,0,3],[0,0,0,0,0,3,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,3,3,3,3,3,3,3],[3,0,3,0,3,3,3,3],[0,0,3,0,0,0,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[3,0,3,0,3,3,3,3],[3,0,0,0,0,3,3,3],[3,0,0,0,0,0,3,0],[3,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]]],"colorAttributes":[[null,null,null,null,null,null,null,null,{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},null,{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,null,null,null,null,null,null,{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},null,{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,null,{"label":"mob","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"16","rgb":[248,56,0]},{"hex":"13","rgb":[104,68,252]},{"hex":"03","rgb":[68,40,188]}],"uuid":12},{"label":"mob","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"16","rgb":[248,56,0]},{"hex":"13","rgb":[104,68,252]},{"hex":"03","rgb":[68,40,188]}],"uuid":12},null,null,null,null,null,null,null,{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":14},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,null,{"label":"mob","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"16","rgb":[248,56,0]},{"hex":"13","rgb":[104,68,252]},{"hex":"03","rgb":[68,40,188]}],"uuid":12},{"label":"mob","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"16","rgb":[248,56,0]},{"hex":"13","rgb":[104,68,252]},{"hex":"03","rgb":[68,40,188]}],"uuid":12},null,{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":14},{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":14},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,null,null,null,{"label":"worm","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"27","rgb":[252,160,68]},{"hex":"06","rgb":[168,16,0]},{"hex":"07","rgb":[136,20,0]}],"uuid":11},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},null,{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":14},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,null,null,null,{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},null,{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":14},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,null,null,null,null,{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},null,{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":14},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,null,null,null,{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},null,{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":14},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,null,null,null,null,{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":13},{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":14},{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":14},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":7},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":7},null,null,null,null,null,null,{"label":"worm","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"27","rgb":[252,160,68]},{"hex":"06","rgb":[168,16,0]},{"hex":"07","rgb":[136,20,0]}],"uuid":11},null,null,null,null,{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":14},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":7},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":7},null,null,null,null,null,null,null,null,null,null,null,{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":14},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":14},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,{"label":"mob","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"16","rgb":[248,56,0]},{"hex":"13","rgb":[104,68,252]},{"hex":"03","rgb":[68,40,188]}],"uuid":12},{"label":"mob","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"16","rgb":[248,56,0]},{"hex":"13","rgb":[104,68,252]},{"hex":"03","rgb":[68,40,188]}],"uuid":12},null,null,null,null,null,null,null,null,null,{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,{"label":"mob","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"16","rgb":[248,56,0]},{"hex":"13","rgb":[104,68,252]},{"hex":"03","rgb":[68,40,188]}],"uuid":12},{"label":"mob","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"16","rgb":[248,56,0]},{"hex":"13","rgb":[104,68,252]},{"hex":"03","rgb":[68,40,188]}],"uuid":12},null,null,{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},null,{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}],[null,null,null,null,null,null,{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":16},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15},{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"28","rgb":[248,184,0]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":15}]]}]}}},"palettes":{"version":2,"data":[{"label":"ground","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"21","rgb":[60,188,252]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":2},{"label":"metal copy","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"3C","rgb":[0,252,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":3},{"label":"character","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"3D","rgb":[216,216,216]},{"hex":"22","rgb":[104,136,252]},{"hex":"24","rgb":[248,120,248]}],"uuid":4},{"label":"worm","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"24","rgb":[248,120,248]},{"hex":"06","rgb":[168,16,0]},{"hex":"07","rgb":[136,20,0]}],"uuid":5},{"label":"mob","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"16","rgb":[248,56,0]},{"hex":"13","rgb":[104,68,252]},{"hex":"03","rgb":[68,40,188]}],"uuid":6},{"label":"metal","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"31","rgb":[164,228,252]},{"hex":"1C","rgb":[0,136,136]},{"hex":"0C","rgb":[0,64,88]}],"uuid":7},{"label":"rust","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"27","rgb":[252,160,68]},{"hex":"0C","rgb":[0,64,88]},{"hex":"08","rgb":[80,48,0]}],"uuid":8},{"label":"ground copy","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"3D","rgb":[216,216,216]},{"hex":"18","rgb":[172,124,0]},{"hex":"08","rgb":[80,48,0]}],"uuid":9},{"label":"grass","colors":[{"hex":"0F","rgb":[0,0,0]},{"hex":"29","rgb":[184,248,24]},{"hex":"19","rgb":[0,184,0]},{"hex":"0B","rgb":[0,88,0]}],"uuid":10}]}}\n');class vt{constructor({keys:e,data:t,groups:r,options:s}){if(!Array.isArray(e))throw new Error("Invalid keys. Expecting array of string representation values.");this.options={...s},this.groups=r||[],this.signature=e.toString(),this.keys=e,this.data=t,this.__on,this.__off}get callbacks(){return{on:this.__on,off:this.__off}}on(e){if("function"!=typeof e)throw new Error("Invalid 'off' function");return this.__on=e,this}off(e){if("function"!=typeof e)throw new Error("Invalid 'off' function");return this.__off=e,this}}const yt=new class{constructor(e,t){this.__options={once:!0,preventDefault:!0,...t},this.__registeredGroups=new Set,this.__enabledGroups="__all__",this.__commands=new Map,this.__target=e}get target(){return this.__target}_prepare(e){if(!Array.isArray(e))throw new Error(`Invalid '_prepare' argument. Expecting array, got : [${typeof e}]`);return[...e].map((e=>e.toLowerCase())).sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())))}enableAllGroups(){this.__enabledGroups="__all__"}enableGroups(...e){return[...this.__enabledGroups=[...e]]}_find(e){const t=Array.from(this.__commands.values());let r;return t.sort(((e,t)=>t.options.priority-e.options.priority)),Array.isArray(this.__enabledGroups)?r=t.find((t=>t.groups.some((r=>{if((!this.__enabledGroups||this.__enabledGroups.includes(r))&&t.signature==e.toString())return!0})))):"__all__"==this.__enabledGroups&&(r=t.find((t=>t.signature==e.toString()))),r}set(e,{data:t,groups:r,...s}){(r=Array.isArray(r)&&r.length>0?r:["*"]).map((e=>this.__registeredGroups.add(e)));const n=this._prepare(e),o=new vt({keys:n,data:t,groups:r,options:{priority:s.priority||0,once:s.once||this.__options.once,preventDefault:s.preventDefault||this.__options.preventDefault}});return r.map((e=>{if(this.__commands.get(`${e},${o.signature}`))throw new Error(`Shortcut already defined : [${e},${o.signature}]`);this.__commands.set(`${e},${o.signature}`,o)})),o}execute(e,t){if("on"==t||null==t){const t={};e.map((e=>t[e.toLowerCase()]=!0));const r=new Event("keydown");r.customExecuteEvent=t,this.__target.dispatchEvent(r)}"off"!=t&&null!=t||e.map((e=>{const t=new Event("keyup");t.code=e,this.__target.dispatchEvent(t)}))}subscribe(e){let t={},r={};const s=s=>{s.customExecuteEvent?t=s.customExecuteEvent:t[s.code.toLowerCase()]=!0;const n=this._prepare(Object.entries(t).filter((([e,t])=>t)).map((([e,t])=>e.toLowerCase()))),o=this._find(n);if(o){if(o.options.preventDefault&&s.preventDefault(),o.options.once&&n.toString()==r.signature)return;r={instance:o,signature:n.toString()},"function"==typeof o.callbacks.on?o.callbacks.on.call(null,{e:s,Hotkey:o,on:!0}):"function"==typeof e&&e.call(null,{e:s,Hotkey:o,on:!0})}},n=s=>{t[s.code.toLowerCase()]=!1,r.instance&&"function"==typeof r.instance.callbacks.off?r.instance.callbacks.off.call(null,{e:s,Hotkey:r.instance,on:!1}):r.instance&&"function"==typeof e&&e.call(null,{e:s,Hotkey:r.instance,on:!1}),r={}};return this.__target.addEventListener("keydown",s),this.__target.addEventListener("keyup",n),()=>(this.__target.removeEventListener("keyup",n),this.__target.removeEventListener("keydown",s),t=>this.subscribe(this.__target,e))}}(window,{});yt.subscribe((({e:e,Hotkey:t,on:r})=>{e.preventDefault(),r&&t.data&&Fe.exist(t.data.action)&&Fe.execute(t.data.action,t.data.props)}));const wt=({e:e,Hotkey:t,on:r})=>{e.preventDefault(),r&&t.data&&Fe.exist(t.data.action)&&Fe.execute(t.data.action),yt.execute(t.keys,"off")},_t=new Ae("pointer","pen","paintbucket","eyedropper","colorswap","transform","marquee","zoom","preview","tileswap","preview_region","tilecolor","colorattribute");class Lt{constructor(e){this.icon="",this.offset={x:0,y:0},this.size={width:11,height:11},this.scale={x:1,y:1},Object.assign(this,e)}}class kt{constructor(e){this.visible_in_toolbar=!0,this.pixelIndicator=!1,this.singleAction=!1}get optionsPanelComponent(){}onMount(){}onDestroy(){}primary(){}secondary(){}move(){}mouseup(){}reset(){}}const zt=(e,t=null)=>{if("function"!=typeof e)throw new Error("Invalid callback function.");let r,s=!1,n=0,o=performance.now();const l=e=>cancelAnimationFrame(r),i=e=>s=!0,a=e=>s=!1,c=u=>{if(r=requestAnimationFrame(c),s)return;const h=u-o,p=performance.now();(!t||p-o>1e3/t)&&(e.call(null,{delta:h/1e3,frame:++n,cancel:l,time:u,pause:i,play:a}),o=u)};return r=requestAnimationFrame(c),{unsubscribe:l,pause:i,play:a,toggle:e=>s=!s}};class Et{constructor(){this.canvas=document.createElement("canvas"),this.canvas.width=128,this.canvas.height=128,this.context=this.canvas.getContext("2d")}render(){console.log("Render not implemented")}}const Ct=e=>`rgb(${e.join(",")})`;const It=Object.freeze({primary:1,secondary:2,move:3,mouseup:4}),At=new class extends Et{constructor(...e){super(...e),this.width=128,this.height=128,this.size=1,this.x,this.y}render(){isNaN(this.x)||isNaN(this.y)||(this.context.clearRect(0,0,this.width,this.height),this.context.globalAlpha=.4,this.context.fillStyle="white",this.context.fillRect(this.x,this.y,this.size,this.size))}},Ft=new class extends Et{constructor(...e){super(...e),this.width=128,this.height=128,this.size=8,this.x,this.y,this.framecount=0,this.count=0,this.selected=[]}addSelectedTileItem(e,t){this.selected.push({x:e,y:t})}clearSelected(){this.selected=[]}draw(e,t,r){this.context.save(),e=Math.floor(e/8)*this.size,t=Math.floor(t/8)*this.size,this.context.globalAlpha=.85,this.context.strokeStyle=r,this.context.strokeRect(e,t,this.size-1,this.size-1),this.context.restore()}render(){let e=this.count%2==0?"rgba(255,255,255,.98)":"crimson";isNaN(this.x)||isNaN(this.y)||(this.framecount++%16==0&&this.count++,this.context.clearRect(0,0,this.width,this.height),this.context.save(),this.context.translate(.5,.5),this.selected.forEach((({x:e,y:t})=>{this.draw(e,t,this.count%2==0?"rgba(255,255,255,.98)":"crimson")})),this.draw(this.x,this.y,e),this.context.restore())}},Mt=new class extends Et{constructor(...e){super(...e),this.width=128,this.height=128,this.size=8,this.start,this.end,this.selection,this.framecount=0,this.count=0}removeSelection(){this.selection=void 0,this.start=void 0,this.end=void 0}addSelection({start:e,end:t}={}){e&&t||(e=this.start,t=this.end),this.selection={start:e,end:t}}draw({start:e,end:t,color:r="crimson",dash:s}){e&&t&&(t.x=Math.min(Math.max(t.x,0),this.width-1),t.y=Math.min(Math.max(t.y,0),this.width-1),this.context.save(),this.context.translate(.5,.5),this.context.globalAlpha=.8,s&&this.context.setLineDash(s),this.context.strokeStyle=r,this.context.strokeRect(e.x,e.y,t.x-e.x,t.y-e.y),this.context.restore())}render(){this.framecount++%16==0&&this.count++,this.context.clearRect(0,0,this.width,this.height),this.draw({...this.selection,color:this.count%2==0?"white":"crimson"}),this.draw({start:this.start,end:this.end,color:this.count%2==0?"white":"crimson"})}},St=new class extends Et{constructor(...e){super(...e),this.width=128,this.height=128,this.size=8,this.alpha=.35,this.visible=!0}hide(){this.visible=!1}show(){this.visible=!0}toggle(){this.visible=!this.visible}render(){if(this.context.clearRect(0,0,this.width,this.height),!this.visible)return;const e=$t.stores.activeLayer.get().colorAttributes;if(e?.length)for(let t in e)for(let r in e[t]){const s=e[t][r]?.colors;if(!s?.length)continue;this.context.save(),this.context.globalAlpha=this.alpha,this.context.translate(t*this.size,r*this.size);const[n,o,l,i]=s;this.context.fillStyle=Ct(n.rgb),this.context.fillRect(0,0,this.size/2,this.size/2),this.context.fillStyle=Ct(o.rgb),this.context.fillRect(0,4,this.size/2,this.size/2),this.context.fillStyle=Ct(l.rgb),this.context.fillRect(4,0,this.size/2,this.size/2),this.context.fillStyle=Ct(i.rgb),this.context.fillRect(4,4,this.size/2,this.size/2),this.context.restore()}}},Pt=[new class extends Et{constructor(...e){super(...e),this.width=128,this.height=128,this.size=8,this.o1=.05,this.o2=.005}render(){this.context.clearRect(0,0,this.width,this.height),this.context.globalAlpha=1;for(let e=0;e<=this.width/this.size;e++)for(let t=0;t<=this.height/this.size;t++)this.context.save(),this.context.translate(e*this.size,t*this.size),(e+t)%2==0?(this.context.globalAlpha=this.o1,this.context.fillStyle="white"):(this.context.globalAlpha=this.o2,this.context.fillStyle="black"),this.context.fillRect(0,0,this.size,this.size),this.context.restore()}}];class Tt{constructor({canvas:e,context:t,width:r,height:s}){this.activeLayer=void 0,this.activePaletteLayer=void 0,this.lastChanged=void 0,this.canvas,this.context,this.width=r,this.height=s;this.animationLoop=zt(this.render.bind(this),0),this.events={},this.eventHandler={};const n=(e,t)=>{switch(t.mouseIsDown=l,e){case It.primary:o("primary",t);break;case It.secondary:o("secondary",t);break;case It.move:o("move",t);break;case It.mouseup:o("mouseup",t);break;default:console.log("hmm...")}};const o=(e,t)=>{this.events[e]&&(t.realMousePosition=function(e,t){if(!e)return{x:0,y:0};const r=e.getBoundingClientRect(),s=e.width/r.width,n=e.height/r.height;return{x:Math.floor((t.clientX-r.left)*s),y:Math.floor((t.clientY-r.top)*n)}}(this.canvas,t),this.events[e].call(null,t))};let l=!1;this.eventHandler.mousemove=e=>{n(It.move,e)},this.eventHandler.mouseup=e=>{l=!1,n(It.mouseup,e)},this.eventHandler.mousedown=e=>{let t;if(l=!0,1==e.which)t=It.primary;else{if(3!=e.which)return;t=It.secondary}n(t,e)},document.addEventListener("mousemove",this.eventHandler.mousemove),document.addEventListener("mouseup",this.eventHandler.mouseup)}defineCanvas(e){this.canvas=e,this.context=this.canvas.getContext("2d"),this.canvas.addEventListener("mousedown",this.eventHandler.mousedown)}on(e,t){if("string"!=typeof e&&"function"!=typeof t)throw new Error("Invalid eventlistener");if(this.events[e])throw new Error(`Event already exists : ${e}`);this.events[e]=t}render({cancel:e,delta:t,frame:r,time:s}){if(!this.canvas)return;this.context.clearRect(0,0,128,128);const n=$t.stores.activeLayer.get(),o=ut.stores.activeLayer.get();n&&o&&(this.lastChanged==ut.lastChanged.get()&&this.activeLayer==n&&this.activePaletteLayer==o||(this.activeLayer=n,this.activePaletteLayer=o,n.drawFromSource(o),this.lastChanged=ut.lastChanged.get()),this.context.drawImage(n.element,0,0),Pt.forEach((e=>{e.render(),this.context.drawImage(e.canvas,0,0)})),(Gt.activeTool.get().cursorLayers||[]).forEach((e=>{e.render(),this.context.drawImage(e.canvas,0,0)})))}destroy(){this.animationLoop.unsubscribe(),this.canvas&&this.canvas.removeEventListener("mousedown",this.eventHandler.mousedown),document.removeEventListener("mousemove",this.eventHandler.mousemove),document.removeEventListener("mouseup",this.eventHandler.mouseup)}}const jt=({background:e,source:t,x:r,y:s,width:n,height:o})=>{const l=(({width:e,height:t})=>{const r=document.createElement("canvas"),s=r.getContext("2d");return r.width=e,r.height=t,{element:r,context:s,width:e,height:t}})({width:n,height:o});l.context.clearRect(0,0,n,o),e&&(l.context.fillStyle=e,l.context.fillRect(0,0,l.width,l.height)),l.context.drawImage(t.element,r,s,n,o,0,0,n,o);return t.context.createPattern(l.element,"repeat")};function Nt(t){let r;return{c(){r=y("canvas"),C(r,"width","128"),C(r,"height","128"),C(r,"class","svelte-17i5lp2")},m(e,s){$(e,r,s),t[3](r)},p:e,i:e,o:e,d(e){e&&b(r),t[3](null)}}}function Bt(e,t,r){let s,n,{offset:o}=t,{source:l}=t;return N((()=>{const e=s.getContext("2d"),{unsubscribe:t}=zt((({cancel:t})=>{l?.element?(o&&l&&(n=jt({...o.start,source:l,width:o.end.x-o.start.x,height:o.end.y-o.start.y})),n?(e.save(),e.fillStyle=n,e.fillRect(0,0,128,128),e.restore()):e.drawImage(l.element,0,0,128,128)):t()}));return()=>{t&&t()}})),e.$$set=e=>{"offset"in e&&r(1,o=e.offset),"source"in e&&r(2,l=e.source)},[s,o,l,function(e){H[e?"unshift":"push"]((()=>{s=e,r(0,s)}))}]}class Rt extends $e{constructor(e){super(),xe(this,e,Bt,Nt,l,{offset:1,source:2})}}function Dt(e){let t,r;return t=new Rt({props:{source:e[0],offset:e[2]}}),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,r){const s={};1&r&&(s.source=e[0]),4&r&&(s.offset=e[2]),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function Ot(t){let r,s,n=t[0],o=Dt(t);return{c(){o.c(),r=k()},m(e,t){o.m(e,t),$(e,r,t),s=!0},p(t,[s]){1&s&&l(n,n=t[0])?(se(),le(o,1,1,e),ne(),o=Dt(t),o.c(),oe(o),o.m(r.parentNode,r)):o.p(t,s)},i(e){s||(oe(o),s=!0)},o(e){le(o),s=!1},d(e){e&&b(r),o.d(e)}}}function Ht(e,r,s){let n;const{activeLayer:o}=$t.stores;return c(e,o,(e=>s(0,n=e))),e.$$set=e=>{s(2,r=t(t({},r),d(e)))},r=d(r),[n,o,r]}class qt extends $e{constructor(e){super(),xe(this,e,Ht,Ot,l,{})}}const Kt={pointer:new class extends kt{constructor(){super(),this.title="Pointer (V)",this.name="pointer",this.enum=_t.get("pointer"),this.weight=100,this.icon="M4 0l16 12.279-6.78 1.138 4.256 8.676-3.902 1.907-4.281-8.758-5.293 4.581z",this.cursor=new Lt({})}primary({x:e,y:t,context:r}){}secondary({x:e,y:t,context:r}){}move({x:e,y:t,context:r}){}},pen:new class extends kt{constructor(){super(),this.cursorLayers=[At],this.title="Pen (B)",this.name="pen",this.enum=_t.get("pen"),this.weight=90,this.icon="M19.769 9.923l-12.642 12.639-7.127 1.438 1.438-7.128 12.641-12.64 5.69 5.691zm1.414-1.414l2.817-2.82-5.691-5.689-2.816 2.817 5.69 5.692z",this.cursor=new Lt({icon:"M19.769 9.923l-12.642 12.639-7.127 1.438 1.438-7.128 12.641-12.64 5.69 5.691zm1.414-1.414l2.817-2.82-5.691-5.689-2.816 2.817 5.69 5.692z",size:{width:46,height:46},offset:{x:0,y:11}}),this.properties={size:1,drawStack:[],lastDraw:void 0,start:void 0},this.modifiedPixels=[]}paint(e){const t=$t.stores.activeLayer?.get().colorAttributes,r=$t.stores.activeLayer.get()?.context;r&&(this.properties.drawStack.map((s=>{const{x:n,y:o}=s.realMousePosition,l=Math.floor(n/8),i=Math.floor(o/8),a=Number.isInteger(e.colorIndex)?e.colorIndex:ut.stores.selectedColor.get();let c=ut.stores.selectedColor.getActiveColorValue(a);c&&(l>=0&&l<=15&&i>=0&&i<=15&&(c=t[l]&&t[l][i]&&t[l][i].colors[a]?t[l][i].colors[a]:c),r.save(),r.translate(n,o),r.fillStyle=`rgb(${c.rgb.join(",")})`,r.fillRect(0,0,this.properties.size,this.properties.size),this.modifiedPixels.push({x:n,y:o,colorIndex:a}),r.restore())})),this.properties.lastDraw=this.properties.drawStack.pop(),this.properties.drawStack=[])}primary(e){e.shiftKey?this.drawLineFromPoint(e,{...e.realMousePosition}):this.properties.drawStack.push(e),this.paint.call(this,e)}secondary(e){e.colorIndex=0,this.primary(e)}drawLineFromPoint(e,t){if(!this.properties.start)return;let{x:r,y:s}=this.properties.start;if(Math.abs(t.x-r)>Math.abs(t.y-s))for(;r!=t.x;)r<t.x&&r++,r>t.x&&r--,this.properties.drawStack.push({...e,realMousePosition:{x:r,y:s}});else for(;s!=t.y;)s<t.y&&s++,s>t.y&&s--,this.properties.drawStack.push({...e,realMousePosition:{x:r,y:s}})}move(e){if(At.x=e.realMousePosition.x,At.y=e.realMousePosition.y,e.shiftKey||!e.mouseIsDown)return;const t=e=>{if(this.properties.lastDraw){let{x:t,y:r}={...this.properties.lastDraw.realMousePosition};for(;t!=e.realMousePosition.x||r!=e.realMousePosition.y;)t<e.realMousePosition.x&&t++,t>e.realMousePosition.x&&t--,r<e.realMousePosition.y&&r++,r>e.realMousePosition.y&&r--,this.properties.drawStack.push({...e,realMousePosition:{x:t,y:r}})}else this.properties.drawStack.push(e)};1==e.which?(t(e),this.primary.call(this,e)):3==e.which&&(t(e),this.secondary.call(this,e))}mouseup(){const e=$t.stores.activeLayer.get()?.data;if(!e)return;this.modifiedPixels.length&&$t.stores.activeLayer.get().saveHistory();for(const t of this.modifiedPixels){let{x:r,y:s,colorIndex:n}=t;const o={x:Math.floor(r/8),y:Math.floor(s/8)},l={x:r%8,y:s%8};e[o.y]&&e[o.y][o.x]&&e[o.y][o.x][l.y]&&Number.isInteger(e[o.y][o.x][l.y][l.x])&&(e[o.y][o.x][l.y][l.x]=n)}const t=this.modifiedPixels[this.modifiedPixels.length-1];t&&(this.properties.start={...t},$t.stores.activeLayer.get().setPresent()),this.modifiedPixels=[]}},eyedropper:new class extends kt{constructor(){super(),this.cursorLayers=[At],this.title="Eyedropper (E)",this.name="eyedropper",this.enum=_t.get("eyedropper"),this.weight=70,this.icon="M12.142 13.178l1.506 1.318-6.83 7.6c-1.31 1.464-2.22.315-3.953 1.647-.232.178-.483.257-.724.257-.601 0-1.141-.49-1.141-1.151 0-.218.062-.455.196-.698.978-1.791-.129-2.629 1.148-4.052l6.787-7.555 1.505 1.317-3.727 4.139h2.691l2.542-2.822zm5.764-13.178c-2.434 0-4.871 1.707-4.797 5.831.021 1.167-.356 1.698-.884 1.698-.298 0-.597-.169-.877-.386-.407-.315-.99-.26-1.331.129-.374.426-.329 1.076.096 1.448l5.253 4.598c.423.371 1.067.328 1.438-.096.343-.392.32-.979-.049-1.345-.277-.275-.501-.581-.501-.913 0-.479.486-.876 1.572-1.002 3.69-.428 5.174-2.656 5.174-4.88 0-2.799-2.149-5.082-5.094-5.082z",this.cursor=new Lt({icon:"M12.142 13.178l1.506 1.318-6.83 7.6c-1.31 1.464-2.22.315-3.953 1.647-.232.178-.483.257-.724.257-.601 0-1.141-.49-1.141-1.151 0-.218.062-.455.196-.698.978-1.791-.129-2.629 1.148-4.052l6.787-7.555 1.505 1.317-3.727 4.139h2.691l2.542-2.822zm5.764-13.178c-2.434 0-4.871 1.707-4.797 5.831.021 1.167-.356 1.698-.884 1.698-.298 0-.597-.169-.877-.386-.407-.315-.99-.26-1.331.129-.374.426-.329 1.076.096 1.448l5.253 4.598c.423.371 1.067.328 1.438-.096.343-.392.32-.979-.049-1.345-.277-.275-.501-.581-.501-.913 0-.479.486-.876 1.572-1.002 3.69-.428 5.174-2.656 5.174-4.88 0-2.799-2.149-5.082-5.094-5.082z",size:{width:46,height:46},offset:{x:0,y:10}})}primary(e){const{x:t,y:r}=e.realMousePosition,s=$t.stores.activeLayer.get().colorIndexAtPosition(t,r);Number.isInteger(s)&&ut.stores.selectedColor.set(s)}secondary(e){}move(e){At.x=e.realMousePosition.x,At.y=e.realMousePosition.y}},paintbucket:new class extends kt{constructor(){super(),this.cursorLayers=[At],this.title="Paintbucket (G)",this.name="paintbucket",this.enum=_t.get("paintbucket"),this.weight=80,this.icon="M24 19.007c0-3.167-1.409-6.771-2.835-9.301l-.006-.01-.014-.026c-.732-1.392-1.914-3.052-3.619-4.757-2.976-2.976-5.476-3.912-6.785-3.913-.413 0-.708.094-.859.245l-.654.654c-1.898-.236-3.42.105-4.294.982-.876.875-1.164 2.159-.792 3.524.242.893.807 1.891 1.752 2.836.867.867 2.062 1.684 3.615 2.327.488-.839 1.654-1.019 2.359-.315.586.586.584 1.533-.002 2.119s-1.533.589-2.121 0c-.229-.229-.366-.515-.416-.812-1.646-.657-3.066-1.534-4.144-2.612-.728-.728-1.289-1.528-1.664-2.349l-2.835 2.832c-.445.447-.685 1.064-.686 1.82.001 1.635 1.122 3.915 3.714 6.506 2.764 2.764 5.58 4.243 7.431 4.243.649 0 1.181-.195 1.548-.562l8.086-8.079c.911.875-.777 3.541-.777 4.65 0 1.104.896 1.999 2 1.998 1.104 0 1.998-.895 1.998-2zm-18.912-12.974c-.236-.978-.05-1.845.554-2.444.526-.53 1.471-.791 2.656-.761l-3.21 3.205zm9.138 2.341l-.03-.029c-1.29-1.291-3.802-4.354-3.095-5.062.715-.715 3.488 1.521 5.062 3.095.862.863 2.088 2.248 2.938 3.459-1.718-1.073-3.493-1.469-4.875-1.463zm-3.875 12.348c-.547-.082-1.5-.547-1.9-.928l7.086-7.086c.351.37 1.264.931 1.753 1.075l-6.939 6.939z",this.cursor=new Lt({icon:"M24 19.007c0-3.167-1.409-6.771-2.835-9.301l-.006-.01-.014-.026c-.732-1.392-1.914-3.052-3.619-4.757-2.976-2.976-5.476-3.912-6.785-3.913-.413 0-.708.094-.859.245l-.654.654c-1.898-.236-3.42.105-4.294.982-.876.875-1.164 2.159-.792 3.524.242.893.807 1.891 1.752 2.836.867.867 2.062 1.684 3.615 2.327.488-.839 1.654-1.019 2.359-.315.586.586.584 1.533-.002 2.119s-1.533.589-2.121 0c-.229-.229-.366-.515-.416-.812-1.646-.657-3.066-1.534-4.144-2.612-.728-.728-1.289-1.528-1.664-2.349l-2.835 2.832c-.445.447-.685 1.064-.686 1.82.001 1.635 1.122 3.915 3.714 6.506 2.764 2.764 5.58 4.243 7.431 4.243.649 0 1.181-.195 1.548-.562l8.086-8.079c.911.875-.777 3.541-.777 4.65 0 1.104.896 1.999 2 1.998 1.104 0 1.998-.895 1.998-2zm-18.912-12.974c-.236-.978-.05-1.845.554-2.444.526-.53 1.471-.791 2.656-.761l-3.21 3.205zm9.138 2.341l-.03-.029c-1.29-1.291-3.802-4.354-3.095-5.062.715-.715 3.488 1.521 5.062 3.095.862.863 2.088 2.248 2.938 3.459-1.718-1.073-3.493-1.469-4.875-1.463zm-3.875 12.348c-.547-.082-1.5-.547-1.9-.928l7.086-7.086c.351.37 1.264.931 1.753 1.075l-6.939 6.939z",offset:{x:3.5,y:11},size:{width:46,height:46}}),this.properties={diagonals:!1}}fillPixelsInsideTile(e,t){const r=Math.floor(e/8),s=Math.floor(t/8),n=$t.stores.activeLayer.get()?.data[r][s];if(n){const r=[{x:e,y:t}];for(;r.length;){const{x:e,y:t}=r.shift();if(t<0||t>8)continue;if(e<0||e>8)continue;const s=n[e][t];s!=fillValue&&(s==pixelValue&&(n[e][t]=fillValue,r.push({x:e,y:t+1}),r.push({x:e,y:t-1}),r.push({x:e-1,y:t}),r.push({x:e+1,y:t}),this.properties.diagonals&&(r.push({x:e+1,y:t+1}),r.push({x:e-1,y:t-1}),r.push({x:e+1,y:t-1}),r.push({x:e-1,y:t+1}))))}}$t.stores.activeLayer.get().forceUpdate()}fill(e,t){const r=ut.stores.selectedColor.get(),s=$t.stores.activeLayer.get().colorIndexAtPosition(e,t),n=[{x:e,y:t}];for(;n.length;){const{x:e,y:t}=n.shift();if(t<0||t>127)continue;if(e<0||e>127)continue;const o=$t.stores.activeLayer.get().colorIndexAtPosition(e,t);o!=r&&(o==s&&($t.stores.activeLayer.get().setColorIndexAtPosition(e,t,r),n.push({x:e,y:t+1}),n.push({x:e,y:t-1}),n.push({x:e-1,y:t}),n.push({x:e+1,y:t}),this.properties.diagonals&&(n.push({x:e+1,y:t+1}),n.push({x:e-1,y:t-1}),n.push({x:e+1,y:t-1}),n.push({x:e-1,y:t+1}))))}$t.stores.activeLayer.get().forceUpdate()}primary(e){const t=e.ctrlKey||e.altKey;$t.stores.activeLayer.get().saveHistory();const{x:r,y:s}=e.realMousePosition;t?this.fillPixelsInsideTile(r,s):this.fill(r,s),$t.stores.activeLayer.get().setPresent()}secondary(e){const{x:t,y:r}=e.realMousePosition;$t.stores.activeLayer.get().saveHistory(),this.fillPixelsInsideTile(t,r),$t.stores.activeLayer.get().setPresent()}move(e){At.x=e.realMousePosition.x,At.y=e.realMousePosition.y}},colorswap:new class extends kt{constructor(){super(),this.hotkeysGroups=["colorswap"],yt.set(["Escape"],{data:{action:Fe.action("tool_action"),props:e=>this.properties.swappedColors=[]},groups:this.hotkeysGroups}),this.cursorLayers=[At],this.title="Color swap (S)",this.name="colorswap",this.enum=_t.get("colorswap"),this.weight=60,this.icon="M1 12.155c2.256 3.97 4.55 7.918 6.879 11.845h-5.379c-.829 0-1.5-.675-1.5-1.5v-10.345zm2.85.859c3.278 1.952 12.866 7.658 13.121 7.805l-5.162 2.98c-.231.132-.49.201-.751.201-.549 0-1.037-.298-1.299-.75l-5.909-10.236zm1.9-12.813c-.23-.133-.489-.201-.75-.201-.524 0-1.026.277-1.299.75l-3.5 6.062c-.133.23-.201.489-.201.749 0 .527.278 1.028.75 1.3 2.936 1.695 14.58 8.7 17.516 10.396.718.413 1.633.168 2.048-.55l3.5-6.062c.133-.23.186-.488.186-.749 0-.52-.257-1.025-.734-1.3l-17.516-10.395m.25 3.944c1.104 0 2 .896 2 2s-.896 2-2 2-2-.896-2-2 .896-2 2-2",this.cursor=new Lt({icon:"M12.142 13.178l1.506 1.318-6.83 7.6c-1.31 1.464-2.22.315-3.953 1.647-.232.178-.483.257-.724.257-.601 0-1.141-.49-1.141-1.151 0-.218.062-.455.196-.698.978-1.791-.129-2.629 1.148-4.052l6.787-7.555 1.505 1.317-3.727 4.139h2.691l2.542-2.822zm5.764-13.178c-2.434 0-4.871 1.707-4.797 5.831.021 1.167-.356 1.698-.884 1.698-.298 0-.597-.169-.877-.386-.407-.315-.99-.26-1.331.129-.374.426-.329 1.076.096 1.448l5.253 4.598c.423.371 1.067.328 1.438-.096.343-.392.32-.979-.049-1.345-.277-.275-.501-.581-.501-.913 0-.479.486-.876 1.572-1.002 3.69-.428 5.174-2.656 5.174-4.88 0-2.799-2.149-5.082-5.094-5.082z",size:{width:46,height:46},offset:{x:0,y:10}}),this.properties={swappedColors:[]}}primary(e){const{x:t,y:r}=e.realMousePosition;if(this.properties.swappedColors.push({column:Math.floor(t/8),row:Math.floor(r/8),x:t%8,y:r%8}),this.properties.swappedColors.length>1){const e=$t.stores.activeLayer;e.get().saveHistory(),e.update((t=>{const[r,s]=this.properties.swappedColors,n=t.data;let o=n[r.row][r.column][r.y][r.x],l=n[s.row][s.column][s.y][s.x];return o!=l&&t.data.map(((e,r)=>{e.map(((e,s)=>{e.map(((e,n)=>{e.map(((e,i)=>{let a;e==o?a=l:e==l&&(a=o),Number.isInteger(a)&&(t.data[r][s][n][i]=a)}))}))}))})),e.get().forceUpdate(),$t.stores.activeLayer.get().setPresent(),t})),this.properties.swappedColors=[]}}secondary(e){}move(e){At.x=e.realMousePosition.x,At.y=e.realMousePosition.y}},tileswap:new class extends kt{constructor(){super(),this.hotkeysGroups=["tileswap"];yt.set(["Escape"],{data:{action:Fe.action("tool_action"),props:()=>{this.swappedTiles=[],Ft.clearSelected()}},groups:this.hotkeysGroups}),this.cursorLayers=[Ft],this.title="Transpose (T)",this.name="tileswap",this.enum=_t.get("tileswap"),this.weight=60,this.icon="M18 6v-6h-18v18h6v6h18v-18h-6zm-16 10v-14h14v4h-10v10h-4z",this.cursor=new Lt({icon:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z",size:{width:56,height:56},offset:{x:5,y:5}}),this.properties={modifier:void 0},this.swappedTiles=[]}primary(e){this.properties.modifier=e.ctrlKey||e.altKey;let{x:t,y:r}=e.realMousePosition;const s=Math.floor(t/8),n=Math.floor(r/8),o=$t.stores.activeLayer,l=o.get().data;let i={x:s,y:n,data:JSON.parse(JSON.stringify(l[n][s])),ref:o.get()};if(this.swappedTiles.push(i),Ft.addSelectedTileItem(t,r),this.swappedTiles.length>1){let e;this.swappedTiles.forEach((t=>{e!==t.ref&&t.ref.saveHistory(),e=t.ref})),o.update((e=>{const[t,r]=this.swappedTiles;let s;return this.properties.modifier||(t.ref.data[t.y][t.x]=r.data),r.ref.data[r.y][r.x]=t.data,this.swappedTiles.forEach((e=>{s!=e.ref&&(e.ref.forceUpdate(),e.ref.setPresent()),s=e.ref})),e})),this.properties.modifier=void 0,this.swappedTiles=[],Ft.clearSelected()}}secondary(e){this.properties.modifier=e?.ctrlKey||e?.altKey,this.swappedTiles=[],Ft.clearSelected()}move(e){const{x:t,y:r}=e.realMousePosition;Ft.x=t,Ft.y=r}mouseup(){}onDestroy(){this.secondary()}},transform:new class extends kt{constructor(){super(),this.cursorLayers=[Ft],this.title="Transform (R)",this.name="transform",this.enum=_t.get("transform"),this.weight=55,this.icon="M18.885 3.515c-4.617-4.618-12.056-4.676-16.756-.195l-2.129-2.258v7.938h7.484l-2.066-2.191c2.82-2.706 7.297-2.676 10.073.1 4.341 4.341 1.737 12.291-5.491 12.291v4.8c3.708 0 6.614-1.244 8.885-3.515 4.686-4.686 4.686-12.284 0-16.97z",this.cursor=new Lt({icon:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z",size:{width:56,height:56},offset:{x:5,y:5}}),this.properties={modifier:void 0}}flipX(e){let{x:t,y:r}=e.realMousePosition;const s=Math.floor(t/8),n=Math.floor(r/8),o=$t.stores.activeLayer.get().data;o[n][s]=o[n][s].map((e=>e.reverse()))}flipY(e){this.rotate(e),this.rotate(e),this.flipX(e)}rotate(e){let{x:t,y:r}=e.realMousePosition;const s=Math.floor(t/8),n=Math.floor(r/8),o=$t.stores.activeLayer.get().data;this.properties.modifier?this.secondary(e):o[n][s]=o[n][s].map(((e,t)=>o[n][s].map((e=>e[t])).reverse()))}primary(e){$t.stores.activeLayer.get().saveHistory(),this.properties.modifier=e.ctrlKey||e.altKey,this.rotate(e),$t.stores.activeLayer.get().forceUpdate(),$t.stores.activeLayer.get().setPresent()}secondary(e){$t.stores.activeLayer.get().saveHistory(),this.properties.modifier=e.ctrlKey||e.altKey,this.properties.modifier?this.flipX(e):this.flipY(e),$t.stores.activeLayer.get().forceUpdate(),$t.stores.activeLayer.get().setPresent()}move(e){const{x:t,y:r}=e.realMousePosition;Ft.x=t,Ft.y=r}},colorattribute:new class extends kt{constructor(){super(),this.hotkeysGroups=["colorattribute"];const e=yt.set(["Tab"],{groups:this.hotkeysGroups});e.on((({e:e,Hotkey:t,on:r})=>St.toggle())),e.off((({e:e,Hotkey:t,on:r})=>St.toggle())),this.cursorLayers=[St,Ft],this.title="Attribute table (A)",this.name="colorattribute",this.enum=_t.get("colorattribute"),this.weight=75,this.icon="M17.831 7.672c1.096-1.096 2.875-1.865 3.688-3.106.892-1.362.508-3.192-.851-4.085-1.362-.892-3.187-.508-4.081.854-.842 1.286-.801 3.322-1.433 4.779-.817 1.882-3.553 2.116-6.698.474-1.727 3.352-4.075 6.949-6.456 9.874l2.263 1.484c1.018-.174 2.279-1.059 2.792-2.03-.04 1.167-.478 2.2-1.337 2.983l4.275 2.797c.546-.544 1.054-.976 1.616-1.345-.319.643-.532 1.324-.63 1.99l2.532 1.659c1.5-2.884 4.416-7.343 6.455-9.874-2.82-2.272-3.657-4.936-2.135-6.454zm1.762-5.545c.454.296.58.908.281 1.36-.294.457-.905.582-1.356.286-.456-.297-.582-.906-.284-1.36.295-.455.905-.583 1.359-.286zm-3.959 15.037l-8.225-5.386 1.616-2.469 8.221 5.387-1.612 2.468z",this.cursor=new Lt({icon:"M17.831 7.672c1.096-1.096 2.875-1.865 3.688-3.106.892-1.362.508-3.192-.851-4.085-1.362-.892-3.187-.508-4.081.854-.842 1.286-.801 3.322-1.433 4.779-.817 1.882-3.553 2.116-6.698.474-1.727 3.352-4.075 6.949-6.456 9.874l2.263 1.484c1.018-.174 2.279-1.059 2.792-2.03-.04 1.167-.478 2.2-1.337 2.983l4.275 2.797c.546-.544 1.054-.976 1.616-1.345-.319.643-.532 1.324-.63 1.99l2.532 1.659c1.5-2.884 4.416-7.343 6.455-9.874-2.82-2.272-3.657-4.936-2.135-6.454zm1.762-5.545c.454.296.58.908.281 1.36-.294.457-.905.582-1.356.286-.456-.297-.582-.906-.284-1.36.295-.455.905-.583 1.359-.286zm-3.959 15.037l-8.225-5.386 1.616-2.469 8.221 5.387-1.612 2.468z",size:{width:66,height:66},stroke:1.5,offset:{x:0,y:10}}),this.properties={remove:void 0,previous:{x:void 0,y:void 0}}}primary(e){let{x:t,y:r}=e.realMousePosition;t>0&&t<128&&r>0&&r<128&&(t=Math.floor(t/8),r=Math.floor(r/8),this.properties.previous.x=t,this.properties.previous.y=r,this.setColorAttribute({x:t,y:r}))}secondary(e){let{x:t,y:r}=e.realMousePosition;t=Math.floor(t/8),r=Math.floor(r/8),this.properties.remove=!0,this.setColorAttribute({x:t,y:r})}setColorAttribute({x:e,y:t}){const r=ut.stores.activeLayer.get(),s=$t.stores.activeLayer.get().colorAttributes;s&&void 0!==s[e]&&void 0!==s[e][t]&&(s[e][t]=this.properties.remove?null:r)}mouseup(){this.properties.remove=void 0;const e=$t.stores.activeLayer.get();e&&e.forceUpdate()}move(e){let{x:t,y:r}=e.realMousePosition;Ft.x=t,Ft.y=r,e.mouseIsDown&&t>0&&t<128&&r>0&&r<128&&(t=Math.floor(t/8),r=Math.floor(r/8),1!=e.which&&3!=e.which||(this.properties.previous.x==t&&this.properties.previous.y==r||this.setColorAttribute({x:t,y:r}),this.properties.previous.x=t,this.properties.previous.y=r))}},preview:new class extends kt{constructor(){super(),this.cursorLayers=[Mt],this.title="Pattern preview (P)",this.name="preview",this.enum=_t.get("preview"),this.weight=65,this.icon="M8 0v2h8v-2h-8zm0 24v-2h8v2h-8zm10-24h6v6h-2v-4h-4v-2zm-18 8h2v8h-2v-8zm0-2v-6h6v2h-4v4h-2zm24 10h-2v-8h2v8zm0 2v6h-6v-2h4v-4h2zm-18 6h-6v-6h2v4h4v2zm12-18h-12v12h12v-12z",this.cursor=new Lt({icon:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z",size:{width:56,height:56},offset:{x:5,y:5}}),this.properties={start:void 0,end:void 0},this.mouseIsDown=!1}onMount(){}onDestroy(){}primary(e){this.mouseIsDown=e.mouseIsDown,Mt.removeSelection();let{x:t,y:r}=e.realMousePosition;t=8*Math.floor(t/8),r=8*Math.floor(r/8),this.properties.start={x:t,y:r},Mt.start={x:t,y:r},Mt.end={x:t+7,y:r+7}}secondary(e){Mt.removeSelection()}move(e){if(!e.mouseIsDown||1!==e.which)return;let{x:t,y:r}=e.realMousePosition;t=Math.max(0,8*Math.floor(t/8)),r=Math.max(0,8*Math.floor(r/8));let s={...this.properties.start},n={x:t,y:r};const o=Math.min(n.x,s.x),l=Math.max(n.x,s.x),i=Math.min(n.y,s.y),a=Math.max(n.y,s.y);Mt.start={x:o,y:i},Mt.end={x:l+7,y:a+7}}mouseup(e){if(Mt.start&&Mt.end&&this.mouseIsDown){const e={label:`Pattern x:(${Mt.start.x/8}-${(Mt.end.x-7)/8}) y: (${Mt.start.y/8}-${(Mt.end.y-7)/8})`,zoom:3,start:{x:Mt.start.x,y:Mt.start.y},end:{x:Mt.end.x+1,y:Mt.end.y+1}};((e,t={})=>{Qe.update((r=>[...r,{component:e,props:t}]))})(qt,e)}this.mouseIsDown=!1}}},Gt={tools:Kt,activeTool:Me(void 0,(({value:e,store:t,get:r})=>({setActive(e){if(!(e instanceof Ie))throw new Error("Invalid tool");const s=r();s instanceof kt&&s.onDestroy();const n=Kt[e.key],{cursor:o}=n;let l="default";o&&o.icon&&(l=`url("data:image/svg+xml,%3Csvg transform='' xmlns='http://www.w3.org/2000/svg' width='${o.size.width}' height='${o.size.height}' viewBox='0 0 100 100' xml:space='preserve'%3E %3Cpath fill='white' stroke='black' stroke-width='${o.stroke||2}' d='${o.icon}'/%3E %3C/svg%3E") ${o.offset.x} ${o.offset.y}, auto`),document.documentElement.style.setProperty("--canvas-cursor",l),t.set(n),Array.isArray(n.hotkeysGroups)&&yt.enableGroups("*","spritesheets",...n.hotkeysGroups)}})))};Gt.activeTool.setActive(_t.get("pointer"));const Ut=(e,...t)=>{e&&e.call(Gt.activeTool.get(),...t)};globalThis.electron&&(Fe.register("window_close",(e=>globalThis.electron.quit())),Fe.register("window_minimize",(e=>globalThis.electron.minimize())),Fe.register("window_maximize",(e=>globalThis.electron.maximize())),Fe.register("window_toggle_fullscreen",(e=>globalThis.electron.toggleFullscreen())),Fe.register("project_save",(e=>{globalThis.electron.save(),console.log("save")})),Fe.register("project_save_as",(e=>{globalThis.electron.saveAs(),console.log("save as")})),Fe.register("project_open",(async e=>{const{canceled:t,filePaths:r}=await globalThis.electron.openFileDialog([st.project.save.extension]);if(!t&&Array.isArray(r))for(const e of r){let{filePath:t,data:r}=await globalThis.electron.readFileDataFromPath(e,"utf8");bt.open(r)}})),Fe.register("external_link",(e=>globalThis.electron.externalLink(e))),Fe.register("palette_export",(async e=>{const t=palettesStore.export(!0),{canceled:r,filePath:s}=await globalThis.electron.openSaveDialog([st.palettes.save.extension]);r||"string"!=typeof s||await globalThis.electron.saveAs(s,t)})),Fe.register("palette_import",(async e=>{const{canceled:t,filePaths:r}=await globalThis.electron.openFileDialog([st.palettes.save.extension]);if(!t&&Array.isArray(r))for(const e of r){const{filePath:t,data:r}=await globalThis.electron.readFileDataFromPath(e,"utf8");ut.import(r)}})),Fe.register("spritesheet_import",(async e=>{const{canceled:t,filePaths:r}=await globalThis.electron.openFileDialog([st.spritesheets.save.extension]);if(!t&&Array.isArray(r))for(const e of r){const{filePath:t,data:r}=await globalThis.electron.readFileDataFromPath(e,"utf8");$t.import(r)}})),Fe.register("spritesheet_import_chr",(async e=>{const{canceled:t,filePaths:r}=await globalThis.electron.openFileDialog(["chr"]);if(!t&&Array.isArray(r))for(const e of r){const{filePath:t,data:r}=await globalThis.electron.readFileDataFromPath(e);$t.importCHR(r)}})));var Jt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Wt,Yt=(function(e,t){!function(){function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,r){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){i(s.response,t,r)},s.onerror=function(){console.error("could not download file")},s.send()}function s(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof Jt&&Jt.global===Jt?Jt:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,t,l){var i=o.URL||o.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin===location.origin?n(a):s(a.href)?r(e,t,l):n(a,a.target="_blank")):(a.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(a.href)}),4e4),setTimeout((function(){n(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,l){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,l),o);else if(s(e))r(e,o,l);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){n(i)}))}}:function(e,t,s,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,s);var i="application/octet-stream"===e.type,a=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&a||l)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},u.readAsDataURL(e)}else{var h=o.URL||o.webkitURL,p=h.createObjectURL(e);n?n.location=p:location.href=p,n=null,setTimeout((function(){h.revokeObjectURL(p)}),4e4)}});o.saveAs=i.saveAs=i,e.exports=i}()}(Wt={exports:{}},Wt.exports),Wt.exports);const Xt=(e,t)=>{const r=new Date;return`${`${String(r.getFullYear())}_${String(r.getMonth()).padStart(2,"0")}_${String(r.getDay()).padStart(2,"0")}`}_${e}.${t}`},Vt=(e=[],t=(e=>e),r={readAs:"text"})=>{if(!Array.isArray(e))throw new Error("Invalid 'fileDialog' accept. Expecting array of file extentions");if("function"!=typeof t)throw new Error("Invalid 'fileDialog' callback function");const s=document.createElement("input");s.type="file",s.accept=e.map((e=>e.startsWith(".")?e:"."+e)).join(","),s.addEventListener("change",(e=>{const s=e.target.files[0],n=new FileReader;switch(r.readAs){case"binary":n.readAsBinaryString(s);break;case"arraybuffer":n.readAsArrayBuffer(s);break;case"text":default:n.readAsText(s,r.encoding||"utf-8")}n.addEventListener("load",(e=>{t.call(null,s,e.target.result)}))})),s.click()},Zt=(e,t,r={})=>{const s=new Blob([t],{type:r.type||"application/json;charset=utf-8"});Yt.saveAs(s,e)};globalThis.electron||(Fe.register("window_close",(e=>e)),Fe.register("window_minimize",(e=>document.exitFullscreen())),Fe.register("window_maximize",(e=>Fe.execute("window_toggle_fullscreen"))),Fe.register("window_toggle_fullscreen",(()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()})),Fe.register("project_open",(e=>{Vt([st.project.save.extension],((e,t)=>{bt.open(e.name,t)}))})),Fe.register("project_save",(e=>{Zt(Xt("insert_projectname",st.project.save.extension),bt.export(!0))})),Fe.register("palette_import",(e=>{Vt([st.palettes.save.extension],((e,t)=>{ut.import(t)}))})),Fe.register("palette_export",(e=>{Zt(Xt("palette",st.palettes.save.extension),ut.export(!0))})),Fe.register("spritesheet_import",(e=>{Vt([st.spritesheets.save.extension],((e,t)=>{$t.import(t)}))})),Fe.register("spritesheet_export",(e=>{Zt(Xt("spritesheet",st.spritesheets.save.extension),$t.export(!0))})),Fe.register("spritesheet_import_chr",(e=>{Vt(["chr"],((e,t)=>{$t.importCHR(t)}),{readAs:"arraybuffer"})})),Fe.register("spritesheet_export_chr",(e=>{const{label:t,data:r}=$t.exportCHR();Zt(Xt(t,"chr"),r)})),Fe.register("spritesheet_export_png",(e=>{$t.exportAsImage((({blob:e,label:t,options:r})=>{Zt(Xt(t,"png"),e,{mimetype:e.type})}))})));const{selectedColor:Qt}=ut.stores;Fe.register("noop",(e=>e)),Fe.register("toggle_theme",(e=>document.documentElement.dataset.theme="dark"==document.documentElement.dataset.theme?"light":"dark")),Fe.register("light_theme",(e=>document.documentElement.dataset.theme="light")),Fe.register("dark_theme",(e=>document.documentElement.dataset.theme="dark")),Fe.register("project_create",(e=>bt.create())),Fe.register("palette_clear",(e=>ut.clear())),Fe.register("palette_create",(e=>ut.createLayer())),Fe.register("palette_remove",(e=>ut.removeLayer(e))),Fe.register("palette_clone_layer",(e=>ut.cloneLayer(e))),Fe.register("palette_clone_active_layer",(e=>ut.cloneActiveLayer())),Fe.register("palette_make_layer_active",(e=>ut.makeLayerActive(e))),Fe.register("palette_swap_layers",(({to:e,from:t})=>ut.stores.layers.swapLayers(e,t))),Fe.register("palette_update_layer_label",(({source:e,label:t})=>ut.updateLayerLabel(e,t))),Fe.register("palette_active_color",(e=>Qt.setActiveColorIndex(e))),Fe.register("spritesheet_clear",(e=>$t.clear())),Fe.register("spritesheet_create",(e=>$t.createLayer())),Fe.register("spritesheet_remove",(e=>$t.removeLayer(e))),Fe.register("spritesheet_clone_layer",(e=>$t.cloneLayer(e))),Fe.register("spritesheet_clone_active_layer",(e=>$t.cloneActiveLayer())),Fe.register("spritesheet_make_layer_active",(e=>$t.makeLayerActive(e))),Fe.register("spritesheet_swap_layers",(({to:e,from:t})=>$t.stores.layers.swapLayers(e,t))),Fe.register("spritesheet_update_layer_label",(({source:e,label:t})=>$t.updateLayerLabel(e,t))),Fe.register("spritesheet_zoom",(e=>view.zoom(e))),Fe.register("spritesheet_zoom_in",(e=>view.zoom(a(spritesheetsStore).zoom+1))),Fe.register("spritesheet_zoom_out",(e=>view.zoom(a(spritesheetsStore).zoom-1))),Fe.register("spritesheet_zoom_reset",(e=>view.zoom())),Fe.register("spritesheet_set_active_tool",(e=>Gt.activeTool.setActive(e))),Fe.register("spritesheet_undo",(e=>{const t=$t.stores.activeLayer.get();t&&t.undo()})),Fe.register("spritesheet_redo",(e=>{const t=$t.stores.activeLayer.get();t&&t.redo()})),Fe.register("tool_action",(e=>{if("function"!=typeof e)throw new Error("Invalid action call. 'tool_action' expecting a valid function.");e.call(null)}));class er{constructor(e,t,r,s=[]){Object.assign(this,((e,t)=>{t=(t=`${e="/"+e.replace(/^[\/]+|[\/]+$/g,"")}/${t}`.replace(/[\/]+/g,"/")).replace(/^[\/]+|[\/]+$/g,"");const r=/\*$/.test(t)?(t=t.replace(/[\*]+$/g,""),""):"/?$",s=[];let n=0,o=t.replace(/(:)?([^\\/]+)/g,((e,t,r)=>{const[o,l]=r.split("->");if(t){const t=s.filter((e=>e.identifier==l));if(t.length>0)throw new Error(`Duplicated parameter. [${t.map((e=>e.identifier))}]`);return s.push({index:n++,parameter:e,identifier:o}),l?`(${l})`:"([^/]+)"}return`${e}`}));return o=`^/${o}${r}`,{base:e,route:t,regexpRoute:o,parameters:s}})(e,t)),this.callback=r,this.middlewares=s}}class tr{constructor(...e){this.props=e}use(e){if("function"!=typeof e)throw new Error(`Invalid Middleware use argument. Expecting 'function' got : '${typeof e}'`);return this.execute=(t=>r=>t(e.bind(this,...this.props,r)))(this.execute),this}execute(e){return e.call(null)}}class rr{constructor(e){Object.assign(this,{base:"",path:"",route:"",query:{},params:{},state:{}},e)}}class sr{constructor(e){Object.assign(this,e)}}class nr extends Error{}class or extends class{constructor(e){Object.freeze(this.__properties={initial:void 0,base:"",state:{},...e}),this.__subscribing=!1,this.__get=new Map,this.__catch=new Map,this.__use=new Set}_register(e,t,r,s){return e.map((e=>{const n=new er(this.__properties.base,e,t,r);if(s.has(n.regexpRoute))throw new Error(`Route with same endpoint already exist. [${e}, /${s.get(n.regexpRoute).route}](${n.regexpRoute})`);s.set(n.regexpRoute,n)})),e}_props(...e){let t,r,s=[];if(1==e.length)[r]=e,t="*";else if(2==e.length)[t,r]=e;else{if(!(e.length>2))throw new Error("Invalid number prop arguments.");t=e.shift(),r=e.pop(),s=e}return t=Array.isArray(t)?t:[t],{routes:t,fn:r,middlewares:s}}_storeInList(e,t,...r){const{routes:s,fn:n,middlewares:o}=this._props(...r),l=this._register(s,n,o,t),i={[e]:(...t)=>{const{routes:r,fn:s,middlewares:n}=this._props(...t);return l.map((t=>r.map((e=>t+e)).map((t=>this[e](t,...n,s))))),i}};return i}get(...e){return this._storeInList("get",this.__get,...e)}use(...e){const{routes:t,fn:r}=this._props(e);t.map((e=>this.__use.add(new er(this.__properties.base,e,...r))))}catch(...e){return this._storeInList("catch",this.__catch,...e)}_findRoute(e,t,r){for(let[s,n]of t){const t=e.match(new RegExp(s,"i"));if(t){t.shift();let s={};t.length>0&&(s=n.parameters.reduce(((e,r,s)=>(e[r.identifier]=t[s],e)),s));const o=new URLSearchParams(window.location.search),l={};for(const[e,t]of o.entries())l[e]?Array.isArray(l[e])?l[e].push(t):l[e]=[l[e],t]:l[e]=t;return{RouteInstance:n,Request:new rr({path:e,route:"/"+n.route,base:n.base,query:l,params:s,state:{...r}})}}}}execute(e,t={}){if("string"!=typeof e)throw new Error("Invalid 'execute' argument. Expecting 'string'");if(!this.__subscribing)return;const r=new sr({send:(...e)=>this.__router_callback.call(null,...e),error:s=>{const n=this._findRoute(e,this.__catch,t);n?n.RouteInstance.callback.call(null,n.Request,r,s):console.warn(`No route or catch fallbacks found for [${e}]`)}});let s=this._findRoute(e,this.__get,t);if(!s)return void r.error();let n=[];const o=new tr(s.Request,r);this.__use.forEach((t=>{e.match(new RegExp(t.regexpRoute,"i"))&&n.push(t.callback)})),n=[...n,...s.RouteInstance.middlewares,s.RouteInstance.callback],n.map((e=>o.use(e))),o.execute()}subscribe(e){return this.__subscribing=!0,"function"==typeof e&&(this.__router_callback=e),this.__properties.initial&&this.execute(this.__properties.initial,this.__properties.state),()=>{this.__subscribing=!1}}}{}let lr=new class{constructor(){this.__linkBase="",this.__scrollReset=!0,this.__scrollOffset=0}setLinkBase(e){if("string"!=typeof e)throw new nr("Invalid 'linkBase'. Expecting value of type 'string'");return this.__linkBase=e.endsWith("/")?e:e+"/"}set linkBase(e){return this.setLinkBase(e)}get linkBase(){return this.__linkBase}setScrollReset(e){if("boolean"!=typeof e)throw new nr("Invalid 'scrollReset'. Expecting value of type 'boolean'");return this.__scrollReset=e}set scrollReset(e){return this.setScrollReset(e)}get scrollReset(){return this.__scrollReset}setScrollOffset(e){if("number"!=typeof e)throw new nr("Invalid 'scrollOffset'. Expecting value of type 'number'");return this.__scrollOffset=e}set scrollOffset(e){return this.setScrollOffset(e)}get scrollOffset(){return this.__scrollOffset}};const ir=e=>{const t=new RegExp(`^${lr.linkBase}`,"i");return"/"+(e=`/${e}/`.replace(/[\/]+/g,"/").replace(t,"").replace(/^\/|\/$/g,""))},ar=({state:e})=>{dispatchEvent(new CustomEvent("popstate",{detail:{...e}}))},cr=(e,t={})=>{e=pr(e),history.pushState(t,"",e),ar({url:e,state:t})},ur=(e,t={})=>{e=pr(e),history.replaceState(t,"",e),ar({url:e,state:t})},hr=(e,t={})=>{history.pushState(t,"",pr(e))},pr=e=>`/${lr.linkBase}/${e}`.replace(/[\/]+/g,"/"),dr=(e,t)=>{hr(ir(e));const r=window.location.hash.slice(1);if(r){t&&t.preventDefault();const e=document.querySelector(`a[name="${r}"], #${r}`);if(e){const t=e.getBoundingClientRect().top+window.pageYOffset-lr.scrollOffset;window.scrollTo({top:t})}}};let gr={location:{...window.location},firstLoad:!1},fr=new Map,mr=ve(),xr=!1,$r=!1;const br=e=>{const t=e.target;if("A"==t.tagName){const r=t.getAttribute("href"),s=r.indexOf("#")>-1;!/^[a-zA-Z]+\:\/\/(.*)/.test(r)&&s&&(dr(r.startsWith("#")?window.location.pathname+r:r,e),gr.location={...window.location})}},vr=async e=>{let t=!1;const r=pr(window.location.pathname+"/")==pr(gr.location.pathname+"/")&&gr.location.search==window.location.search;""!=window.location.hash&&r&&gr.firstLoad&&(t=!0),""==window.location.hash&&window.location.hash!=gr.location.hash&&r&&(t=!0,window.scrollTo({top:0})),t||(mr.set(ir(window.location.pathname)),fr.forEach((t=>t.router.execute(window.location.pathname,e.detail)))),gr.location={...window.location}};const yr=e=>({component:1&e,props:1&e,decorator:1&e,decoratorProps:1&e}),wr=e=>({component:e[0].context,props:e[0].props,decorator:e[0].decorator,decoratorProps:e[0].decoratorProps});function _r(e){let t;const r=e[3].default,s=u(r,e,e[4],wr),n=s||function(e){let t,r,s,n;const o=[kr,Lr],l=[];function i(e,t){return e[0].decorator?0:1}return t=i(e),r=l[t]=o[t](e),{c(){r.c(),s=k()},m(e,r){l[t].m(e,r),$(e,s,r),n=!0},p(e,n){let a=t;t=i(e),t===a?l[t].p(e,n):(se(),le(l[a],1,1,(()=>{l[a]=null})),ne(),r=l[t],r?r.p(e,n):(r=l[t]=o[t](e),r.c()),oe(r,1),r.m(s.parentNode,s))},i(e){n||(oe(r),n=!0)},o(e){le(r),n=!1},d(e){l[t].d(e),e&&b(s)}}}(e);return{c(){n&&n.c()},m(e,r){n&&n.m(e,r),t=!0},p(e,t){s?s.p&&17&t&&p(s,r,e,e[4],t,yr,wr):n&&n.p&&1&t&&n.p(e,t)},i(e){t||(oe(n,e),t=!0)},o(e){le(n,e),t=!1},d(e){n&&n.d(e)}}}function Lr(e){let r,s,n;const o=[e[0].props];var l=e[0].context;function i(e){let r={};for(let e=0;e<o.length;e+=1)r=t(r,o[e]);return{props:r}}return l&&(r=new l(i())),{c(){r&&ge(r.$$.fragment),s=k()},m(e,t){r&&fe(r,e,t),$(e,s,t),n=!0},p(e,t){const n=1&t?he(o,[pe(e[0].props)]):{};if(l!==(l=e[0].context)){if(r){se();const e=r;le(e.$$.fragment,1,0,(()=>{me(e,1)})),ne()}l?(r=new l(i()),ge(r.$$.fragment),oe(r.$$.fragment,1),fe(r,s.parentNode,s)):r=null}else l&&r.$set(n)},i(e){n||(r&&oe(r.$$.fragment,e),n=!0)},o(e){r&&le(r.$$.fragment,e),n=!1},d(e){e&&b(s),r&&me(r,e)}}}function kr(e){let r,s,n;const o=[e[0].decoratorProps?e[0].decoratorProps:{}];var l=e[0].decorator;function i(e){let r={$$slots:{default:[zr]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)r=t(r,o[e]);return{props:r}}return l&&(r=new l(i(e))),{c(){r&&ge(r.$$.fragment),s=k()},m(e,t){r&&fe(r,e,t),$(e,s,t),n=!0},p(e,t){const n=1&t?he(o,[pe(e[0].decoratorProps?e[0].decoratorProps:{})]):{};if(17&t&&(n.$$scope={dirty:t,ctx:e}),l!==(l=e[0].decorator)){if(r){se();const e=r;le(e.$$.fragment,1,0,(()=>{me(e,1)})),ne()}l?(r=new l(i(e)),ge(r.$$.fragment),oe(r.$$.fragment,1),fe(r,s.parentNode,s)):r=null}else l&&r.$set(n)},i(e){n||(r&&oe(r.$$.fragment,e),n=!0)},o(e){r&&le(r.$$.fragment,e),n=!1},d(e){e&&b(s),r&&me(r,e)}}}function zr(e){let r,s,n;const o=[e[0].props];var l=e[0].context;function i(e){let r={};for(let e=0;e<o.length;e+=1)r=t(r,o[e]);return{props:r}}return l&&(r=new l(i())),{c(){r&&ge(r.$$.fragment),s=k()},m(e,t){r&&fe(r,e,t),$(e,s,t),n=!0},p(e,t){const n=1&t?he(o,[pe(e[0].props)]):{};if(l!==(l=e[0].context)){if(r){se();const e=r;le(e.$$.fragment,1,0,(()=>{me(e,1)})),ne()}l?(r=new l(i()),ge(r.$$.fragment),oe(r.$$.fragment,1),fe(r,s.parentNode,s)):r=null}else l&&r.$set(n)},i(e){n||(r&&oe(r.$$.fragment,e),n=!0)},o(e){r&&le(r.$$.fragment,e),n=!1},d(e){e&&b(s),r&&me(r,e)}}}function Er(e){let t,r,s=e[0]&&_r(e);return{c(){s&&s.c(),t=k()},m(e,n){s&&s.m(e,n),$(e,t,n),r=!0},p(e,[r]){e[0]?s?(s.p(e,r),1&r&&oe(s,1)):(s=_r(e),s.c(),oe(s,1),s.m(t.parentNode,t)):s&&(se(),le(s,1,1,(()=>{s=null})),ne())},i(e){r||(oe(s),r=!0)},o(e){le(s),r=!1},d(e){s&&s.d(e),e&&b(t)}}}function Cr(e,t,r){let s,{$$slots:n={},$$scope:o}=t,{context:l=fr.keys().next().value}=t;if(!(l&&l instanceof or))throw new Error("Invalid Router context. Did you initialize the component with a valid context?");const{component:i}=fr.get(l);return c(e,i,(e=>r(0,s=e))),l.subscribe((async(e,t={},r={})=>{if("function"!=typeof e)throw new nr("Unable to load component. Did you pass a valid svelte component to the 'send' response?");lr.scrollReset&&window.scrollTo({top:0}),i.set({context:r?e:class extends e{},decorator:r.component?class extends r.component{}:void 0,decoratorProps:r.props||void 0,props:t}),window.location.hash&&(await W(),setTimeout((()=>{dr(window.location.pathname+window.location.hash)}),0)),gr.firstLoad||(gr.firstLoad=!0)})),e.$$set=e=>{"context"in e&&r(2,l=e.context),"$$scope"in e&&r(4,o=e.$$scope)},[s,i,l,n,o]}class Ir extends $e{constructor(e){super(),xe(this,e,Cr,Er,l,{context:2})}}var Ar=(e,t)=>{if(t={type:"navigate",state:{},title:"",...t},lr.linkBase){const t=pr(e.getAttribute("href")||"");e.setAttribute("href",t)}const r=e=>{let r=t.to||t.href||e.currentTarget.getAttribute("href")||e.currentTarget.getAttribute("data-href");if(r)if(r=ir(r),e.preventDefault(),"navigate"==t.type)cr(r,t.state,t.title);else if("redirect"==t.type)ur(r,t.state,t.title);else if("replace"==t.type)hr(r,t.state,t.title);else{if("alter"!=t.type)return void console.warn("Invalid 'use:link' type. Expecting 'navigate'(default), 'redirect', 'replace' or 'alter'");((e,t={})=>{history.replaceState(t,"",pr(e))})(r,t.state,t.title)}};return e.addEventListener("click",r),{update(e){t={...t,...e}},destroy(){e.removeEventListener("click",r)}}},Fr=(e,...t)=>{let r;if(e instanceof or?r=t.shift():(r=e,e=fr.keys().next().value),!e)throw new Error("Invalid Router context. Did you initialize the decorator with a valid context? or made sure to call it after one has been created?");let s="";const n=(o,...l)=>{let i;s||(s=o);let a=e=>{i={...e}};const c=l.pop();return e.get(o,...t,...l,((e,t)=>{c(e,{send:(e,s)=>{t.send(e,s,{component:r,props:i})},error:t.error},a)})),{get:(e,...t)=>n(`${s}/${e}`,...t)}};return n};function Mr(t){let r;return{c(){r=y("div"),r.innerHTML="<h1>This page is not available</h1> \n  <p>Currently not available in this version of the application.</p>",C(r,"class","checkered svelte-19ubedp")},m(e,t){$(e,r,t)},p:e,i:e,o:e,d(e){e&&b(r)}}}class Sr extends $e{constructor(e){super(),xe(this,e,null,Mr,l,{})}}globalThis.electron||"localhost"===window.location.hostname||(lr.linkBase="/NESBitStudio-web");const Pr=(e=>{(async()=>{xr||(xr=!0,$r||($r=!0,mr.set(ir(window.location.pathname))),window.addEventListener("popstate",vr),window.addEventListener("click",br))})();const t=new or(e);return fr.set(t,{component:ve(),router:t}),t})({initial:window.location.pathname,base:lr.linkBase});function Tr(e){let t,r,s;const n=e[1].default,o=u(n,e,e[0],null);return{c(){t=y("div"),r=y("ul"),o&&o.c(),C(r,"id","areanav"),C(r,"class","svelte-1vnr3x8"),C(t,"id","tabnav"),C(t,"class","svelte-1vnr3x8")},m(e,n){$(e,t,n),x(t,r),o&&o.m(r,null),s=!0},p(e,[t]){o&&o.p&&1&t&&p(o,n,e,e[0],t,null,null)},i(e){s||(oe(o,e),s=!0)},o(e){le(o,e),s=!1},d(e){e&&b(t),o&&o.d(e)}}}function jr(e,t,r){let{$$slots:s={},$$scope:n}=t;return e.$$set=e=>{"$$scope"in e&&r(0,n=e.$$scope)},[n,s]}Pr.catch(((e,t)=>{t.send(Sr)}));class Nr extends $e{constructor(e){super(),xe(this,e,jr,Tr,l,{})}}function Br(e,t,r){const s=e.slice();return s[2]=t[r],s}function Rr(e){let t,r,s,n,o,l,i=e[2].label+"";return{c(){t=y("li"),r=y("button"),s=_(i),n=L(),C(r,"href",e[2].href),C(r,"label",e[2].label),C(r,"class","svelte-1p6gkk9"),C(t,"class","no-drag"),S(t,"active",e[2].href==e[0])},m(e,i){$(e,t,i),x(t,r),x(r,s),x(t,n),o||(l=m(Ar.call(null,r)),o=!0)},p(e,r){3&r&&S(t,"active",e[2].href==e[0])},d(e){e&&b(t),o=!1,l()}}}function Dr(e){let t,r=e[1],s=[];for(let t=0;t<r.length;t+=1)s[t]=Rr(Br(e,r,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=k()},m(e,r){for(let t=0;t<s.length;t+=1)s[t].m(e,r);$(e,t,r)},p(e,n){if(3&n){let o;for(r=e[1],o=0;o<r.length;o+=1){const l=Br(e,r,o);s[o]?s[o].p(l,n):(s[o]=Rr(l),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}},d(e){v(s,e),e&&b(t)}}}function Or(e){let t,r;return t=new Nr({props:{$$slots:{default:[Dr]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,[r]){const s={};33&r&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function Hr(e,t,r){let s;c(e,mr,(e=>r(0,s=e)));return[s,[{href:"/graphics/palettes",label:"Palettes"},{href:"/graphics/spritesheets",label:"Spritesheets"},{href:"/graphics/spritesets",label:"Sprite sets"},{href:"/graphics/metatiles",label:"Metatiles"},{href:"/graphics/tilemaps",label:"Tilemaps"}]]}class qr extends $e{constructor(e){super(),xe(this,e,Hr,Or,l,{})}}function Kr(e){let t,r,s,n,o,l;s=new qr({});const i=e[1].default,a=u(i,e,e[0],null);return{c(){t=y("section"),r=y("div"),ge(s.$$.fragment),n=L(),o=y("div"),a&&a.c(),C(o,"class","main svelte-1eju9fl"),C(t,"id","spritesheets"),C(t,"class","svelte-1eju9fl")},m(e,i){$(e,t,i),x(t,r),fe(s,r,null),x(t,n),x(t,o),a&&a.m(o,null),l=!0},p(e,[t]){a&&a.p&&1&t&&p(a,i,e,e[0],t,null,null)},i(e){l||(oe(s.$$.fragment,e),oe(a,e),l=!0)},o(e){le(s.$$.fragment,e),le(a,e),l=!1},d(e){e&&b(t),me(s),a&&a.d(e)}}}function Gr(e,t,r){let{$$slots:s={},$$scope:n}=t;return e.$$set=e=>{"$$scope"in e&&r(0,n=e.$$scope)},[n,s]}class Ur extends $e{constructor(e){super(),xe(this,e,Gr,Kr,l,{})}}function Jr(e){let t,r,s,n,o,l;s=new qr({});const i=e[1].default,a=u(i,e,e[0],null);return{c(){t=y("section"),r=y("div"),ge(s.$$.fragment),n=L(),o=y("div"),a&&a.c(),C(o,"class","main svelte-1husw0i"),C(t,"id","palettes"),C(t,"class","svelte-1husw0i")},m(e,i){$(e,t,i),x(t,r),fe(s,r,null),x(t,n),x(t,o),a&&a.m(o,null),l=!0},p(e,[t]){a&&a.p&&1&t&&p(a,i,e,e[0],t,null,null)},i(e){l||(oe(s.$$.fragment,e),oe(a,e),l=!0)},o(e){le(s.$$.fragment,e),le(a,e),l=!1},d(e){e&&b(t),me(s),a&&a.d(e)}}}function Wr(e,t,r){let{$$slots:s={},$$scope:n}=t;return e.$$set=e=>{"$$scope"in e&&r(0,n=e.$$scope)},[n,s]}function Yr(e){let t,r,s,o,l,i,a;const c=e[4].default,h=u(c,e,e[3],null);return{c(){t=y("div"),r=y("div"),s=y("div"),o=y("div"),h&&h.c(),C(o,"class","content svelte-131dyyn"),C(s,"class","wrapper svelte-131dyyn"),C(r,"class","outer svelte-131dyyn"),C(t,"class","artboard svelte-131dyyn"),S(t,"active",e[0])},m(n,c){$(n,t,c),x(t,r),x(r,s),x(s,o),h&&h.m(o,null),e[5](s),e[6](r),e[8](t),l=!0,i||(a=[z(r,"mousedown",e[2],!0),z(r,"wheel",e[7]),z(t,"wheel",e[1])],i=!0)},p(e,[r]){h&&h.p&&8&r&&p(h,c,e,e[3],r,null,null),1&r&&S(t,"active",e[0])},i(e){l||(oe(h,e),l=!0)},o(e){le(h,e),l=!1},d(r){r&&b(t),h&&h.d(r),e[5](null),e[6](null),e[8](null),i=!1,n(a)}}}let Xr,Vr,Zr;const Qr=()=>{Xr.scrollTo(Vr.offsetWidth/2-Xr.offsetWidth/2,Vr.offsetHeight/2-Xr.offsetHeight/2)};function es(e,t,r){let{$$slots:s={},$$scope:n}=t;const o=R();let l=!1,i=!1;const a=new ResizeObserver((e=>(e=>{for(const t of e)if(t.contentRect){t.contentRect;const e={x:8e3,y:8e3};Vr.style.height=e.y+"px",Vr.style.width=e.x+"px",l||(l=!0,Qr())}})(e)));let c,u,h,p,d={};const g=e=>{e.preventDefault(),d[e.code]=!0},f=e=>{d[e.code]=!1},m=()=>{r(0,i=!1)},x=e=>{if(!d.Space&&2!=e.which)return;e.stopPropagation(),e.stopImmediatePropagation();const t=1*(e.pageX-Xr.offsetLeft-c),r=1*(e.pageY-Xr.offsetTop-u);i&&(e.preventDefault(),Xr.scrollLeft=h-t,Xr.scrollTop=p-r)};N((()=>{document.addEventListener("keydown",g),document.addEventListener("keyup",f),a.observe(Zr),document.addEventListener("mousemove",x,!0),document.addEventListener("mouseup",m)})),B((()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",f),a.disconnect(),document.removeEventListener("mousemove",x,!0),document.removeEventListener("mouseup",m)}));return e.$$set=e=>{"$$scope"in e&&r(3,n=e.$$scope)},[i,e=>{o("artboardScrollEvent",e)},e=>{(d.Space||2==e.which)&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),r(0,i=!0),c=e.pageX-Xr.offsetLeft,h=Xr.scrollLeft,u=e.pageY-Xr.offsetTop,p=Xr.scrollTop)},n,s,function(e){H[e?"unshift":"push"]((()=>{Vr=e}))},function(e){H[e?"unshift":"push"]((()=>{Xr=e}))},e=>e.preventDefault(),function(e){H[e?"unshift":"push"]((()=>{Zr=e}))}]}class ts extends $e{constructor(e){super(),xe(this,e,es,Yr,l,{})}}function rs(t){let r,s,n,o,l;return{c(){r=y("button"),s=y("div"),n=_(" "),F(s,"--color",t[0]),C(s,"class","svelte-10hh6bt"),C(r,"class","color-selector svelte-10hh6bt"),S(r,"selected",t[1])},m(e,i){$(e,r,i),x(r,s),x(s,n),o||(l=z(r,"click",t[2]),o=!0)},p(e,[t]){1&t&&F(s,"--color",e[0]),2&t&&S(r,"selected",e[1])},i:e,o:e,d(e){e&&b(r),o=!1,l()}}}function ss(e,t,r){let{color:s}=t,{selected:n}=t;return e.$$set=e=>{"color"in e&&r(0,s=e.color),"selected"in e&&r(1,n=e.selected)},[s,n,function(t){D(e,t)}]}class ns extends $e{constructor(e){super(),xe(this,e,ss,rs,l,{color:0,selected:1})}}function os(e,t,r){const s=e.slice();return s[5]=t[r],s[7]=r,s}function ls(e){let t,r,s=e[0].colors,n=[];for(let t=0;t<s.length;t+=1)n[t]=is(os(e,s,t));const o=e=>le(n[e],1,1,(()=>{n[e]=null}));return{c(){t=y("ul");for(let e=0;e<n.length;e+=1)n[e].c()},m(e,s){$(e,t,s);for(let e=0;e<n.length;e+=1)n[e].m(t,null);r=!0},p(e,r){if(3&r){let l;for(s=e[0].colors,l=0;l<s.length;l+=1){const o=os(e,s,l);n[l]?(n[l].p(o,r),oe(n[l],1)):(n[l]=is(o),n[l].c(),oe(n[l],1),n[l].m(t,null))}for(se(),l=s.length;l<n.length;l+=1)o(l);ne()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)oe(n[e]);r=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)le(n[e]);r=!1},d(e){e&&b(t),v(n,e)}}}function is(e){let t,r,s,n;return r=new ns({props:{color:e[5].rgb,selected:e[1]===e[7]}}),r.$on("click",(function(...t){return e[4](e[7],...t)})),{c(){t=y("li"),ge(r.$$.fragment),s=L()},m(e,o){$(e,t,o),fe(r,t,null),x(t,s),n=!0},p(t,s){e=t;const n={};1&s&&(n.color=e[5].rgb),2&s&&(n.selected=e[1]===e[7]),r.$set(n)},i(e){n||(oe(r.$$.fragment,e),n=!0)},o(e){le(r.$$.fragment,e),n=!1},d(e){e&&b(t),me(r)}}}function as(e){let t,r,s=e[0]&&ls(e);return{c(){s&&s.c(),t=k()},m(e,n){s&&s.m(e,n),$(e,t,n),r=!0},p(e,[r]){e[0]?s?(s.p(e,r),1&r&&oe(s,1)):(s=ls(e),s.c(),oe(s,1),s.m(t.parentNode,t)):s&&(se(),le(s,1,1,(()=>{s=null})),ne())},i(e){r||(oe(s),r=!0)},o(e){le(s),r=!1},d(e){s&&s.d(e),e&&b(t)}}}function cs(e,t,r){let s,n;const{activeLayer:o,selectedColor:l}=ut.stores;c(e,o,(e=>r(0,s=e))),c(e,l,(e=>r(1,n=e)));return[s,n,o,l,(e,t)=>Fe.execute("palette_active_color",e)]}class us extends $e{constructor(e){super(),xe(this,e,cs,as,l,{})}}function hs(e){let t,r,s,o;const l=e[3].default,i=u(l,e,e[2],null);return{c(){t=y("button"),i&&i.c(),C(t,"title",e[1]),C(t,"class","svelte-1j1cp6x"),S(t,"selected",e[0])},m(n,l){$(n,t,l),i&&i.m(t,null),r=!0,s||(o=[z(t,"dblclick",e[4]),z(t,"click",e[5])],s=!0)},p(e,[s]){i&&i.p&&4&s&&p(i,l,e,e[2],s,null,null),(!r||2&s)&&C(t,"title",e[1]),1&s&&S(t,"selected",e[0])},i(e){r||(oe(i,e),r=!0)},o(e){le(i,e),r=!1},d(e){e&&b(t),i&&i.d(e),s=!1,n(o)}}}function ps(e,t,r){let{$$slots:s={},$$scope:n}=t,{selected:o}=t,{title:l}=t;return e.$$set=e=>{"selected"in e&&r(0,o=e.selected),"title"in e&&r(1,l=e.title),"$$scope"in e&&r(2,n=e.$$scope)},[o,l,n,s,function(t){D(e,t)},function(t){D(e,t)}]}class ds extends $e{constructor(e){super(),xe(this,e,ps,hs,l,{selected:0,title:1})}}function gs(e,t,r){const s=e.slice();return s[6]=t[r],s}function fs(t){let r,s;return{c(){r=w("svg"),s=w("path"),C(s,"d",t[6].icon),C(r,"xmlns","http://www.w3.org/2000/svg"),C(r,"width","18"),C(r,"height","18"),C(r,"viewBox","0 0 24 24")},m(e,t){$(e,r,t),x(r,s)},p:e,d(e){e&&b(r)}}}function ms(e){let t,r,s=e[6].visible_in_toolbar&&function(e){let t,r,s,n;return r=new ds({props:{title:e[6].title,selected:e[0]===e[6],$$slots:{default:[fs]},$$scope:{ctx:e}}}),r.$on("dblclick",e[3]),r.$on("click",(function(...t){return e[4](e[6],...t)})),{c(){t=y("li"),ge(r.$$.fragment),s=L(),C(t,"class","svelte-1pqmo8i")},m(e,o){$(e,t,o),fe(r,t,null),x(t,s),n=!0},p(t,s){e=t;const n={};1&s&&(n.selected=e[0]===e[6]),512&s&&(n.$$scope={dirty:s,ctx:e}),r.$set(n)},i(e){n||(oe(r.$$.fragment,e),n=!0)},o(e){le(r.$$.fragment,e),n=!1},d(e){e&&b(t),me(r)}}}(e);return{c(){s&&s.c(),t=k()},m(e,n){s&&s.m(e,n),$(e,t,n),r=!0},p(e,t){e[6].visible_in_toolbar&&s.p(e,t)},i(e){r||(oe(s),r=!0)},o(e){le(s),r=!1},d(e){s&&s.d(e),e&&b(t)}}}function xs(e){let t,r,s=e[2],n=[];for(let t=0;t<s.length;t+=1)n[t]=ms(gs(e,s,t));const o=e=>le(n[e],1,1,(()=>{n[e]=null}));return{c(){t=y("ul");for(let e=0;e<n.length;e+=1)n[e].c()},m(e,s){$(e,t,s);for(let e=0;e<n.length;e+=1)n[e].m(t,null);r=!0},p(e,[r]){if(5&r){let l;for(s=e[2],l=0;l<s.length;l+=1){const o=gs(e,s,l);n[l]?(n[l].p(o,r),oe(n[l],1)):(n[l]=ms(o),n[l].c(),oe(n[l],1),n[l].m(t,null))}for(se(),l=s.length;l<n.length;l+=1)o(l);ne()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)oe(n[e]);r=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)le(n[e]);r=!1},d(e){e&&b(t),v(n,e)}}}function $s(e,t,r){let s;const{tools:n,activeTool:o}=Gt;c(e,o,(e=>r(0,s=e)));const l=Object.values(n);l.sort(((e,t)=>t.weight-e.weight));return[s,o,l,e=>Fe.execute("noop"),(e,t)=>Fe.execute("spritesheet_set_active_tool",e.enum)]}class bs extends $e{constructor(e){super(),xe(this,e,$s,xs,l,{})}}function vs(t){let r,s,n,o,l,i,a;return n=new bs({}),i=new us({}),{c(){r=y("section"),s=y("section"),ge(n.$$.fragment),o=L(),l=y("section"),ge(i.$$.fragment),C(s,"class","toolbar-section svelte-t490rv"),C(l,"class","color-selector-section svelte-t490rv"),C(r,"class","toolbar svelte-t490rv")},m(e,t){$(e,r,t),x(r,s),fe(n,s,null),x(r,o),x(r,l),fe(i,l,null),a=!0},p:e,i(e){a||(oe(n.$$.fragment,e),oe(i.$$.fragment,e),a=!0)},o(e){le(n.$$.fragment,e),le(i.$$.fragment,e),a=!1},d(e){e&&b(r),me(n),me(i)}}}class ys extends $e{constructor(e){super(),xe(this,e,null,vs,l,{})}}function ws(e){let r,s,n,o;const l=e[4].default,i=u(l,e,e[3],null),a=i||function(e){let t;return{c(){t=_("placeholder")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}();let c=[{role:"button"},e[2]],h={};for(let e=0;e<c.length;e+=1)h=t(h,c[e]);return{c(){r=y("button"),a&&a.c(),I(r,h),S(r,"danger","danger"==e[0]),S(r,"svelte-vh27lv",!0)},m(t,l){$(t,r,l),a&&a.m(r,null),s=!0,n||(o=z(r,"click",e[1]),n=!0)},p(e,[t]){i&&i.p&&8&t&&p(i,l,e,e[3],t,null,null),I(r,h=he(c,[{role:"button"},4&t&&e[2]])),S(r,"danger","danger"==e[0]),S(r,"svelte-vh27lv",!0)},i(e){s||(oe(a,e),s=!0)},o(e){le(a,e),s=!1},d(e){e&&b(r),a&&a.d(e),n=!1,o()}}}function _s(e,r,s){let{$$slots:n={},$$scope:o}=r;const l=R();let{variant:i}=r;return e.$$set=e=>{s(2,r=t(t({},r),d(e))),"variant"in e&&s(0,i=e.variant),"$$scope"in e&&s(3,o=e.$$scope)},r=d(r),[i,e=>{("danger"!=i||e.ctrlKey||e.altKey)&&l("click")},r,o,n]}class Ls extends $e{constructor(e){super(),xe(this,e,_s,ws,l,{variant:0})}}const ks=(e,t,r,s)=>{const n=e;if(t<n.length){const s=e.slice(0,t);e=s.slice(0,s.lastIndexOf(r))}return"function"==typeof s&&(e=s.call(null,e,n,r)),e};function zs(e){let t,r,s,o;const l=e[10].default,i=u(l,e,e[9],null),a=i||function(e){let t;return{c(){t=_("Label")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}();return{c(){t=y("div"),a&&a.c(),C(t,"class","heading svelte-moa0u7"),C(t,"spellcheck","false"),S(t,"active",e[0])},m(n,l){$(n,t,l),a&&a.m(t,null),e[11](t),r=!0,s||(o=[z(t,"click",e[1]),z(t,"focus",e[3]),z(t,"blur",e[5]),z(t,"keydown",e[4])],s=!0)},p(e,[r]){i&&i.p&&512&r&&p(i,l,e,e[9],r,null,null),1&r&&S(t,"active",e[0])},i(e){r||(oe(a,e),r=!0)},o(e){le(a,e),r=!1},d(r){r&&b(t),a&&a.d(r),e[11](null),s=!1,n(o)}}}function Es(e,t,r){let{$$slots:s={},$$scope:n}=t,{editable:o=!0}=t,{active:l}=t,{label:i}=t,{iconIndicator:a}=t;const c=R();let u,h=null;return e.$$set=e=>{"editable"in e&&r(7,o=e.editable),"active"in e&&r(0,l=e.active),"label"in e&&r(8,i=e.label),"iconIndicator"in e&&r(6,a=e.iconIndicator),"$$scope"in e&&r(9,n=e.$$scope)},[l,e=>{if(!o)return;e.preventDefault();let t=!1;1==e.detail&&e.target==u?(c("makeActive"),t||(t=!0,setTimeout((e=>t=!1),60))):(r(6,a=!1),r(2,u.contentEditable=!0,u),u.focus())},u,e=>{e.target.textContent=i;const t=document.createRange(),r=window.getSelection();t.selectNodeContents(e.target),r.removeAllRanges(),r.addRange(t)},e=>{if(h||(h=e.currentTarget.textContent),e.stopPropagation(),e.stopImmediatePropagation(),27==e.which)return e.currentTarget.textContent=h,e.preventDefault(),void u.blur();if(13==e.which&&(e.preventDefault(),u.blur()),8==e.which||46==e.which||37==e.which||39==e.which)return;/^[a-z\s0-8\-\_]$/i.test(e.key)||"Backspace"===e.key?e.currentTarget.textContent.length>20&&e.preventDefault():e.preventDefault()},e=>{h=null,r(6,a=!0);const t=e.target.textContent;e.target.textContent=ks(t,15,"",((e,t)=>e!=t?e+"...":e)),window.getSelection().removeAllRanges(),e.target.contentEditable=!1,c("change",t)},a,o,i,n,s,function(e){H[e?"unshift":"push"]((()=>{u=e,r(2,u)}))}]}class Cs extends $e{constructor(e){super(),xe(this,e,Es,zs,l,{editable:7,active:0,label:8,iconIndicator:6,edit:1})}get edit(){return this.$$.ctx[1]}}const Is=(e,t)=>{if(!t||"string"!=typeof t.type)throw new Error("Invalid 'drag' actions properties. Expecting 'type' of type 'string'");if(!t.value)throw new Error("Invalid 'drag' actions value.");e.draggable=!0,e.classList.add("draggable");const r=e=>{e.stopImmediatePropagation(),e.dataTransfer.setData(t.type,JSON.stringify(t.value||"")),window.dispatchEvent(new Event("mouseup"))};return e.addEventListener("dragstart",r),{destroy(){e.removeEventListener("dragstart",r)}}},As=(e,t)=>{if(!t)throw new Error("Invalid 'drop' actions props.");const r=(e,r)=>{if(t[e]||"function"==typeof t[e])return t[e];if(!r)throw new Error(`Invalid 'drop' callback : [${e}]`)},s=t=>{t.preventDefault(),r("over",!0).call(null,t,e)};e.addEventListener("dragover",s);e.addEventListener("dragleave",(t=>{r("leave",!0).call(null,t,e)}));const n=s=>{r("drop").call(null,{e:s,node:e,value:t.value})};return e.addEventListener("drop",n),{destroy(){e.removeEventListener("dragover",s),e.removeEventListener("drop",n)}}};function Fs(e){let t;return{c(){t=_(e[5])},m(e,r){$(e,t,r)},p(e,r){32&r&&A(t,e[5])},d(e){e&&b(t)}}}function Ms(e){let t,r,s,n;r=new Ke({props:{$$slots:{default:[Ss]},$$scope:{ctx:e}}}),r.$on("click",e[19]);let o=e[2]&&Ps(e);return{c(){t=y("div"),ge(r.$$.fragment),s=L(),o&&o.c(),C(t,"class","icon-indicator svelte-18jtf9z")},m(e,l){$(e,t,l),fe(r,t,null),x(t,s),o&&o.m(t,null),n=!0},p(e,s){const n={};1048576&s&&(n.$$scope={dirty:s,ctx:e}),r.$set(n),e[2]?o?(o.p(e,s),4&s&&oe(o,1)):(o=Ps(e),o.c(),oe(o,1),o.m(t,null)):o&&(se(),le(o,1,1,(()=>{o=null})),ne())},i(e){n||(oe(r.$$.fragment,e),oe(o),n=!0)},o(e){le(r.$$.fragment,e),le(o),n=!1},d(e){e&&b(t),me(r),o&&o.d()}}}function Ss(e){let t,r;return{c(){t=w("svg"),r=w("path"),C(r,"d","M19.769 9.923l-12.642 12.639-7.127 1.438 1.438-7.128 12.641-12.64 5.69 5.691zm1.414-1.414l2.817-2.82-5.691-5.689-2.816 2.817 5.69 5.692z"),C(r,"class","svelte-18jtf9z"),C(t,"xmlns","http://www.w3.org/2000/svg"),C(t,"width","12"),C(t,"height","12"),C(t,"viewBox","0 0 24 24"),C(t,"class","svelte-18jtf9z")},m(e,s){$(e,t,s),x(t,r)},d(e){e&&b(t)}}}function Ps(e){let t,r,s,n;return t=new Ke({props:{$$slots:{default:[Ts]},$$scope:{ctx:e}}}),t.$on("click",e[11]),s=new Ke({props:{variant:"danger",$$slots:{default:[js]},$$scope:{ctx:e}}}),s.$on("click",e[10]),{c(){ge(t.$$.fragment),r=L(),ge(s.$$.fragment)},m(e,o){fe(t,e,o),$(e,r,o),fe(s,e,o),n=!0},p(e,r){const n={};1048576&r&&(n.$$scope={dirty:r,ctx:e}),t.$set(n);const o={};1048576&r&&(o.$$scope={dirty:r,ctx:e}),s.$set(o)},i(e){n||(oe(t.$$.fragment,e),oe(s.$$.fragment,e),n=!0)},o(e){le(t.$$.fragment,e),le(s.$$.fragment,e),n=!1},d(e){me(t,e),e&&b(r),me(s,e)}}}function Ts(e){let t,r;return{c(){t=w("svg"),r=w("path"),C(r,"d","M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14zm-3-8h-3v-3h-2v3h-3v2h3v3h2v-3h3v-2z"),C(r,"class","svelte-18jtf9z"),C(t,"xmlns","http://www.w3.org/2000/svg"),C(t,"width","12"),C(t,"height","12"),C(t,"viewBox","0 0 24 24"),C(t,"class","svelte-18jtf9z")},m(e,s){$(e,t,s),x(t,r)},d(e){e&&b(t)}}}function js(e){let t,r;return{c(){t=w("svg"),r=w("path"),C(r,"d","M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z"),C(r,"class","svelte-18jtf9z"),C(t,"xmlns","http://www.w3.org/2000/svg"),C(t,"width","12"),C(t,"height","12"),C(t,"viewBox","0 0 24 24"),C(t,"class","svelte-18jtf9z")},m(e,s){$(e,t,s),x(t,r)},d(e){e&&b(t)}}}function Ns(e){let t,r,s,n,o;function l(t){e[15].call(null,t)}let i={active:e[8],label:e[0].label,$$slots:{default:[Fs]},$$scope:{ctx:e}};void 0!==e[4]&&(i.iconIndicator=e[4]),t=new Cs({props:i}),H.push((()=>de(t,"iconIndicator",l))),e[16](t),t.$on("makeActive",e[17]),t.$on("change",e[18]);let a=e[4]&&Ms(e);return{c(){ge(t.$$.fragment),s=L(),a&&a.c(),n=k()},m(e,r){fe(t,e,r),$(e,s,r),a&&a.m(e,r),$(e,n,r),o=!0},p(e,s){const o={};256&s&&(o.active=e[8]),1&s&&(o.label=e[0].label),1048608&s&&(o.$$scope={dirty:s,ctx:e}),!r&&16&s&&(r=!0,o.iconIndicator=e[4],X((()=>r=!1))),t.$set(o),e[4]?a?(a.p(e,s),16&s&&oe(a,1)):(a=Ms(e),a.c(),oe(a,1),a.m(n.parentNode,n)):a&&(se(),le(a,1,1,(()=>{a=null})),ne())},i(e){o||(oe(t.$$.fragment,e),oe(a),o=!0)},o(e){le(t.$$.fragment,e),le(a),o=!1},d(r){e[16](null),me(t,r),r&&b(s),a&&a.d(r),r&&b(n)}}}function Bs(e){let t,r,s,l,i,a,c,h;r=new Oe({props:{$$slots:{default:[Ns]},$$scope:{ctx:e}}});const d=e[14].default,g=u(d,e,e[20],null);return{c(){t=y("div"),ge(r.$$.fragment),s=L(),g&&g.c(),C(t,"class","layer-item svelte-18jtf9z"),S(t,"over",e[7]),S(t,"active",e[8])},m(n,o){$(n,t,o),fe(r,t,null),x(t,s),g&&g.m(t,null),a=!0,c||(h=[m(l=Is.call(null,t,{type:"flipPalette",value:{layerIndex:e[3]}})),m(i=As.call(null,t,{...e[12],value:{layerIndex:e[3]}}))],c=!0)},p(e,[s]){const n={};1048949&s&&(n.$$scope={dirty:s,ctx:e}),r.$set(n),g&&g.p&&1048576&s&&p(g,d,e,e[20],s,null,null),l&&o(l.update)&&8&s&&l.update.call(null,{type:"flipPalette",value:{layerIndex:e[3]}}),i&&o(i.update)&&8&s&&i.update.call(null,{...e[12],value:{layerIndex:e[3]}}),128&s&&S(t,"over",e[7]),256&s&&S(t,"active",e[8])},i(e){a||(oe(r.$$.fragment,e),oe(g,e),a=!0)},o(e){le(r.$$.fragment,e),le(g,e),a=!1},d(e){e&&b(t),me(r),g&&g.d(e),c=!1,n(h)}}}function Rs(t,r,s){let n,o,l=e,a=()=>(l(),l=i(p,(e=>s(13,o=e))),p);t.$$.on_destroy.push((()=>l()));let{$$slots:c={},$$scope:u}=r,{source:h}=r,{activeLayer:p}=r;a();let d,g,{showEditButtons:f=!0}=r,{layerIndex:m}=r,x=!0;const $=R();let b;const v={over:e=>s(7,b=!0),leave:e=>s(7,b=!1),drop:({e:e,value:t})=>{s(7,b=!1);const r=e.dataTransfer.getData("flipPalette");if(r){const e=Number(JSON.parse(r).layerIndex);$("swapLayers",{to:e,from:t.layerIndex})}}};return t.$$set=e=>{"source"in e&&s(0,h=e.source),"activeLayer"in e&&a(s(1,p=e.activeLayer)),"showEditButtons"in e&&s(2,f=e.showEditButtons),"layerIndex"in e&&s(3,m=e.layerIndex),"$$scope"in e&&s(20,u=e.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&s(5,d=ks(h.label,15,"",((e,t)=>e!=t?e+"...":e))),8193&t.$$.dirty&&s(8,n=h==o)},[h,p,f,m,x,d,g,b,n,$,e=>{e.ctrlKey||e.altKey?$("remove",h):console.warn("Dispatch tooltip to let user know he has to hold down ctr or alt key")},e=>$("clone",h),v,o,c,function(e){x=e,s(4,x)},function(e){H[e?"unshift":"push"]((()=>{g=e,s(6,g)}))},e=>$("makeActive",h),e=>$("updateLabel",{source:h,value:e.detail}),e=>g.edit(e),u]}class Ds extends $e{constructor(e){super(),xe(this,e,Rs,Bs,l,{source:0,activeLayer:1,showEditButtons:2,layerIndex:3})}}function Os(e){let t;const r=e[6].default,s=u(r,e,e[7],null);return{c(){s&&s.c()},m(e,r){s&&s.m(e,r),t=!0},p(e,t){s&&s.p&&128&t&&p(s,r,e,e[7],t,null,null)},i(e){t||(oe(s,e),t=!0)},o(e){le(s,e),t=!1},d(e){s&&s.d(e)}}}function Hs(e){let r,s;const n=[e[5]];let o={$$slots:{default:[Os]},$$scope:{ctx:e}};for(let e=0;e<n.length;e+=1)o=t(o,n[e]);return r=new Ds({props:o}),r.$on("swapLayers",e[4]),r.$on("remove",e[0]),r.$on("updateLabel",e[1]),r.$on("makeActive",e[2]),r.$on("clone",e[3]),{c(){ge(r.$$.fragment)},m(e,t){fe(r,e,t),s=!0},p(e,[t]){const s=32&t?he(n,[pe(e[5])]):{};128&t&&(s.$$scope={dirty:t,ctx:e}),r.$set(s)},i(e){s||(oe(r.$$.fragment,e),s=!0)},o(e){le(r.$$.fragment,e),s=!1},d(e){me(r,e)}}}function qs(e,r,s){const n=[];let o=g(r,n),{$$slots:l={},$$scope:i}=r;return e.$$set=e=>{r=t(t({},r),d(e)),s(5,o=g(r,n)),"$$scope"in e&&s(7,i=e.$$scope)},[e=>Fe.execute("spritesheet_remove",e.detail),e=>Fe.execute("spritesheet_update_layer_label",{source:e.detail.source,label:e.detail.value}),e=>Fe.execute("spritesheet_make_layer_active",e.detail),e=>Fe.execute("spritesheet_clone_layer",e.detail),e=>Fe.execute("spritesheet_swap_layers",e.detail),o,l,i]}class Ks extends $e{constructor(e){super(),xe(this,e,qs,Hs,l,{})}}function Gs(e,t,r){const s=e.slice();return s[4]=t[r],s[6]=r,s}function Us(t){let r;return{c(){r=y("div"),r.textContent="No spritesheets",C(r,"class","center svelte-1yr1f9a")},m(e,t){$(e,r,t)},p:e,i:e,o:e,d(e){e&&b(r)}}}function Js(t){let r,s,n=t[0],o=Xs(t);return{c(){o.c(),r=k()},m(e,t){o.m(e,t),$(e,r,t),s=!0},p(t,s){1&s&&l(n,n=t[0])?(se(),le(o,1,1,e),ne(),o=Xs(t),o.c(),oe(o),o.m(r.parentNode,r)):o.p(t,s)},i(e){s||(oe(o),s=!0)},o(e){le(o),s=!1},d(e){e&&b(r),o.d(e)}}}function Ws(e){let t,r,s,n;return r=new Rt({props:{source:e[4]}}),{c(){t=y("div"),ge(r.$$.fragment),s=L(),C(t,"class","canvas-preview-wrapper svelte-1yr1f9a")},m(e,o){$(e,t,o),fe(r,t,null),$(e,s,o),n=!0},p(e,t){const s={};1&t&&(s.source=e[4]),r.$set(s)},i(e){n||(oe(r.$$.fragment,e),n=!0)},o(e){le(r.$$.fragment,e),n=!1},d(e){e&&b(t),me(r),e&&b(s)}}}function Ys(e){let t,r;return t=new Ks({props:{source:e[4],activeLayer:e[1],layerIndex:e[6],$$slots:{default:[Ws]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,r){const s={};1&r&&(s.source=e[4]),129&r&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function Xs(e){let t,r,s=e[0],n=[];for(let t=0;t<s.length;t+=1)n[t]=Ys(Gs(e,s,t));const o=e=>le(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=k()},m(e,s){for(let t=0;t<n.length;t+=1)n[t].m(e,s);$(e,t,s),r=!0},p(e,r){if(3&r){let l;for(s=e[0],l=0;l<s.length;l+=1){const o=Gs(e,s,l);n[l]?(n[l].p(o,r),oe(n[l],1)):(n[l]=Ys(o),n[l].c(),oe(n[l],1),n[l].m(t.parentNode,t))}for(se(),l=s.length;l<n.length;l+=1)o(l);ne()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)oe(n[e]);r=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)le(n[e]);r=!1},d(e){v(n,e),e&&b(t)}}}function Vs(e){let t;return{c(){t=_("Create spritesheet")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function Zs(e){let t,r,s,n,o,l,i,a;const c=[Js,Us],u=[];function h(e,t){return e[0].length?0:1}return s=h(e),n=u[s]=c[s](e),i=new Ls({props:{$$slots:{default:[Vs]},$$scope:{ctx:e}}}),i.$on("click",e[3]),{c(){t=y("div"),r=y("div"),n.c(),o=L(),l=y("div"),ge(i.$$.fragment),C(r,"class","layers svelte-1yr1f9a"),C(l,"class","center svelte-1yr1f9a"),C(t,"class","palette-layer svelte-1yr1f9a")},m(e,n){$(e,t,n),x(t,r),u[s].m(r,null),x(t,o),x(t,l),fe(i,l,null),a=!0},p(e,[t]){let o=s;s=h(e),s===o?u[s].p(e,t):(se(),le(u[o],1,1,(()=>{u[o]=null})),ne(),n=u[s],n?n.p(e,t):(n=u[s]=c[s](e),n.c()),oe(n,1),n.m(r,null));const l={};128&t&&(l.$$scope={dirty:t,ctx:e}),i.$set(l)},i(e){a||(oe(n),oe(i.$$.fragment,e),a=!0)},o(e){le(n),le(i.$$.fragment,e),a=!1},d(e){e&&b(t),u[s].d(),me(i)}}}function Qs(e,t,r){let s;const{activeLayer:n,layers:o}=$t.stores;c(e,o,(e=>r(0,s=e)));return[s,n,o,e=>Fe.execute("spritesheet_create")]}class en extends $e{constructor(e){super(),xe(this,e,Qs,Zs,l,{})}}function tn(e){let t;const r=e[6].default,s=u(r,e,e[7],null);return{c(){s&&s.c()},m(e,r){s&&s.m(e,r),t=!0},p(e,t){s&&s.p&&128&t&&p(s,r,e,e[7],t,null,null)},i(e){t||(oe(s,e),t=!0)},o(e){le(s,e),t=!1},d(e){s&&s.d(e)}}}function rn(e){let r,s;const n=[e[5]];let o={$$slots:{default:[tn]},$$scope:{ctx:e}};for(let e=0;e<n.length;e+=1)o=t(o,n[e]);return r=new Ds({props:o}),r.$on("swapLayers",e[4]),r.$on("remove",e[0]),r.$on("updateLabel",e[1]),r.$on("makeActive",e[2]),r.$on("clone",e[3]),{c(){ge(r.$$.fragment)},m(e,t){fe(r,e,t),s=!0},p(e,[t]){const s=32&t?he(n,[pe(e[5])]):{};128&t&&(s.$$scope={dirty:t,ctx:e}),r.$set(s)},i(e){s||(oe(r.$$.fragment,e),s=!0)},o(e){le(r.$$.fragment,e),s=!1},d(e){me(r,e)}}}function sn(e,r,s){const n=[];let o=g(r,n),{$$slots:l={},$$scope:i}=r;return e.$$set=e=>{r=t(t({},r),d(e)),s(5,o=g(r,n)),"$$scope"in e&&s(7,i=e.$$scope)},[e=>Fe.execute("palette_remove",e.detail),e=>Fe.execute("palette_update_layer_label",{source:e.detail.source,label:e.detail.value}),e=>Fe.execute("palette_make_layer_active",e.detail),e=>Fe.execute("palette_clone_layer",e.detail),e=>Fe.execute("palette_swap_layers",e.detail),o,l,i]}class nn extends $e{constructor(e){super(),xe(this,e,sn,rn,l,{})}}function on(e){let t,r,s,l,i,a;const c=e[10].default,h=u(c,e,e[9],null),d=h||function(e){let t,r;return{c(){t=_("0x"),r=_(e[1])},m(e,s){$(e,t,s),$(e,r,s)},p(e,t){2&t&&A(r,e[1])},d(e){e&&b(t),e&&b(r)}}}(e);return{c(){t=y("div"),r=y("span"),d&&d.c(),F(r,"pointer-events","none"),C(r,"class","svelte-1j057y7"),C(t,"class","color svelte-1j057y7"),C(t,"data-hex",e[1]),F(t,"--rgb","rgb("+e[0].join(",")+")"),S(t,"active",e[5]&&e[4]==e[6]&&e[3]==ut.layerIndexFromSource(e[5]))},m(n,o){$(n,t,o),x(t,r),d&&d.m(r,null),l=!0,i||(a=[z(t,"click",e[11]),m(s=Is.call(null,t,{type:e[2],value:{rgb:e[0],hex:e[1],type:e[2],layerIndex:e[3],colorIndex:e[4]}}))],i=!0)},p(e,[r]){h?h.p&&512&r&&p(h,c,e,e[9],r,null,null):d&&d.p&&2&r&&d.p(e,r),(!l||2&r)&&C(t,"data-hex",e[1]),(!l||1&r)&&F(t,"--rgb","rgb("+e[0].join(",")+")"),s&&o(s.update)&&31&r&&s.update.call(null,{type:e[2],value:{rgb:e[0],hex:e[1],type:e[2],layerIndex:e[3],colorIndex:e[4]}}),120&r&&S(t,"active",e[5]&&e[4]==e[6]&&e[3]==ut.layerIndexFromSource(e[5]))},i(e){l||(oe(d,e),l=!0)},o(e){le(d,e),l=!1},d(e){e&&b(t),d&&d.d(e),i=!1,n(a)}}}function ln(e,t,r){let s,n,{$$slots:o={},$$scope:l}=t,{rgb:i}=t,{hex:a}=t,{type:u}=t,{layerIndex:h}=t,{colorIndex:p}=t;const{selectedColor:d,activeLayer:g}=ut.stores;return c(e,d,(e=>r(6,n=e))),c(e,g,(e=>r(5,s=e))),e.$$set=e=>{"rgb"in e&&r(0,i=e.rgb),"hex"in e&&r(1,a=e.hex),"type"in e&&r(2,u=e.type),"layerIndex"in e&&r(3,h=e.layerIndex),"colorIndex"in e&&r(4,p=e.colorIndex),"$$scope"in e&&r(9,l=e.$$scope)},[i,a,u,h,p,s,n,d,g,l,o,function(t){D(e,t)}]}class an extends $e{constructor(e){super(),xe(this,e,ln,on,l,{rgb:0,hex:1,type:2,layerIndex:3,colorIndex:4})}}function cn(e,t,r){const s=e.slice();return s[7]=t[r],s[9]=r,s}function un(e,t,r){const s=e.slice();return s[10]=t[r],s[12]=r,s}function hn(t){let r;return{c(){r=y("div"),r.textContent="No palettes",C(r,"class","center svelte-njkqod")},m(e,t){$(e,r,t)},p:e,i:e,o:e,d(e){e&&b(r)}}}function pn(e){let t,r,s=e[1],n=[];for(let t=0;t<s.length;t+=1)n[t]=mn(cn(e,s,t));const o=e=>le(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=k()},m(e,s){for(let t=0;t<n.length;t+=1)n[t].m(e,s);$(e,t,s),r=!0},p(e,r){if(23&r){let l;for(s=e[1],l=0;l<s.length;l+=1){const o=cn(e,s,l);n[l]?(n[l].p(o,r),oe(n[l],1)):(n[l]=mn(o),n[l].c(),oe(n[l],1),n[l].m(t.parentNode,t))}for(se(),l=s.length;l<n.length;l+=1)o(l);ne()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)oe(n[e]);r=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)le(n[e]);r=!1},d(e){v(n,e),e&&b(t)}}}function dn(e){let t,r,s=e[10].hex+"";return{c(){t=_("0x"),r=_(s)},m(e,s){$(e,t,s),$(e,r,s)},p(e,t){2&t&&s!==(s=e[10].hex+"")&&A(r,s)},d(e){e&&b(t),e&&b(r)}}}function gn(e,t){let r,s,n,l,i,a,c;return s=new an({props:{hex:t[10].hex,rgb:t[10].rgb,layerIndex:t[9],colorIndex:t[12],type:"swap",$$slots:{default:[dn]},$$scope:{ctx:t}}}),{key:e,first:null,c(){r=y("li"),ge(s.$$.fragment),n=L(),C(r,"class","svelte-njkqod"),this.first=r},m(e,o){$(e,r,o),fe(s,r,null),x(r,n),i=!0,a||(c=m(l=As.call(null,r,{...t[4],value:{layerIndex:t[9],colorIndex:t[12]}})),a=!0)},p(e,r){t=e;const n={};2&r&&(n.hex=t[10].hex),2&r&&(n.rgb=t[10].rgb),2&r&&(n.colorIndex=t[12]),8194&r&&(n.$$scope={dirty:r,ctx:t}),s.$set(n),l&&o(l.update)&&2&r&&l.update.call(null,{...t[4],value:{layerIndex:t[9],colorIndex:t[12]}})},i(e){i||(oe(s.$$.fragment,e),i=!0)},o(e){le(s.$$.fragment,e),i=!1},d(e){e&&b(r),me(s),a=!1,c()}}}function fn(e){let t,r,s,n=[],o=new Map,l=e[7].colors;const i=e=>e[12];for(let t=0;t<l.length;t+=1){let r=un(e,l,t),s=i(r);o.set(s,n[t]=gn(s,r))}return{c(){t=y("ul");for(let e=0;e<n.length;e+=1)n[e].c();r=L(),C(t,"class","svelte-njkqod")},m(e,o){$(e,t,o);for(let e=0;e<n.length;e+=1)n[e].m(t,null);$(e,r,o),s=!0},p(e,r){18&r&&(l=e[7].colors,se(),n=ue(n,r,i,1,e,l,o,t,ce,gn,null,un),ne())},i(e){if(!s){for(let e=0;e<l.length;e+=1)oe(n[e]);s=!0}},o(e){for(let e=0;e<n.length;e+=1)le(n[e]);s=!1},d(e){e&&b(t);for(let e=0;e<n.length;e+=1)n[e].d();e&&b(r)}}}function mn(e){let t,r;return t=new nn({props:{source:e[7],showEditButtons:e[0],activeLayer:e[2],layerIndex:e[9],$$slots:{default:[fn]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,r){const s={};2&r&&(s.source=e[7]),1&r&&(s.showEditButtons=e[0]),8194&r&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function xn(e){let t,r;return t=new Ls({props:{$$slots:{default:[$n]},$$scope:{ctx:e}}}),t.$on("click",e[5]),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,r){const s={};8192&r&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function $n(e){let t;return{c(){t=_("Create palette")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function bn(e){let t,r,s,n,o,l,i;const a=[pn,hn],c=[];function u(e,t){return e[1]&&e[1].length?0:1}s=u(e),n=c[s]=a[s](e);let h=e[0]&&xn(e);return{c(){t=y("div"),r=y("div"),n.c(),o=L(),l=y("div"),h&&h.c(),C(r,"class","layers svelte-njkqod"),C(l,"class","center svelte-njkqod"),C(t,"class","palette-layer svelte-njkqod")},m(e,n){$(e,t,n),x(t,r),c[s].m(r,null),x(t,o),x(t,l),h&&h.m(l,null),i=!0},p(e,[t]){let o=s;s=u(e),s===o?c[s].p(e,t):(se(),le(c[o],1,1,(()=>{c[o]=null})),ne(),n=c[s],n?n.p(e,t):(n=c[s]=a[s](e),n.c()),oe(n,1),n.m(r,null)),e[0]?h?(h.p(e,t),1&t&&oe(h,1)):(h=xn(e),h.c(),oe(h,1),h.m(l,null)):h&&(se(),le(h,1,1,(()=>{h=null})),ne())},i(e){i||(oe(n),oe(h),i=!0)},o(e){le(n),le(h),i=!1},d(e){e&&b(t),c[s].d(),h&&h.d()}}}function vn(e,t,r){let s,{showEditButtons:n=!0}=t;const{activeLayer:o,layers:l}=ut.stores;c(e,l,(e=>r(1,s=e)));const i={over:e=>!0,leave:e=>!1,drop:({e:e,value:t})=>{const r=e.dataTransfer.getData("swap");r&&l.swapColors({...JSON.parse(r),to:{...t}});const s=e.dataTransfer.getData("replace");s&&l.replaceColor({...JSON.parse(s),...t})}};return e.$$set=e=>{"showEditButtons"in e&&r(0,n=e.showEditButtons)},[n,s,o,l,i,e=>Fe.execute("palette_create")]}class yn extends $e{constructor(e){super(),xe(this,e,vn,bn,l,{showEditButtons:0})}}var wn=(e,t)=>{const r=r=>{e.contains(r.target)||(r.preventDefault(),t.call(null))};return window.addEventListener("click",r),{destroy(){window.removeEventListener("click",r)}}};function _n(e){let t,r,s,n;const o=e[1].default,l=u(o,e,e[0],null);return{c(){t=y("button"),l&&l.c(),C(t,"class","svelte-8gzkl6")},m(o,i){$(o,t,i),l&&l.m(t,null),r=!0,s||(n=z(t,"click",e[2]),s=!0)},p(e,[t]){l&&l.p&&1&t&&p(l,o,e,e[0],t,null,null)},i(e){r||(oe(l,e),r=!0)},o(e){le(l,e),r=!1},d(e){e&&b(t),l&&l.d(e),s=!1,n()}}}function Ln(e,t,r){let{$$slots:s={},$$scope:n}=t;return e.$$set=e=>{"$$scope"in e&&r(0,n=e.$$scope)},[n,s,function(t){D(e,t)}]}class kn extends $e{constructor(e){super(),xe(this,e,Ln,_n,l,{})}}const zn=e=>({}),En=e=>({}),Cn=e=>({}),In=e=>({});function An(e){let t;const r=e[1].icon,s=u(r,e,e[4],In);return{c(){s&&s.c()},m(e,r){s&&s.m(e,r),t=!0},p(e,t){s&&s.p&&16&t&&p(s,r,e,e[4],t,Cn,In)},i(e){t||(oe(s,e),t=!0)},o(e){le(s,e),t=!1},d(e){s&&s.d(e)}}}function Fn(e){let t,r,s,n,l,i,a,c,h;const d=e[1].default,g=u(d,e,e[4],null);s=new kn({props:{$$slots:{default:[An]},$$scope:{ctx:e}}}),s.$on("click",e[2]);const f=e[1].list,v=u(f,e,e[4],En);return{c(){t=y("div"),g&&g.c(),r=L(),ge(s.$$.fragment),n=L(),l=y("div"),v&&v.c(),C(l,"class","dropdown svelte-1rwcx4c"),C(t,"class","select-button svelte-1rwcx4c"),S(t,"active",e[0])},m(o,u){$(o,t,u),g&&g.m(t,null),x(t,r),fe(s,t,null),x(t,n),x(t,l),v&&v.m(l,null),a=!0,c||(h=m(i=wn.call(null,t,e[3])),c=!0)},p(e,[r]){g&&g.p&&16&r&&p(g,d,e,e[4],r,null,null);const n={};16&r&&(n.$$scope={dirty:r,ctx:e}),s.$set(n),v&&v.p&&16&r&&p(v,f,e,e[4],r,zn,En),i&&o(i.update)&&1&r&&i.update.call(null,e[3]),1&r&&S(t,"active",e[0])},i(e){a||(oe(g,e),oe(s.$$.fragment,e),oe(v,e),a=!0)},o(e){le(g,e),le(s.$$.fragment,e),le(v,e),a=!1},d(e){e&&b(t),g&&g.d(e),me(s),v&&v.d(e),c=!1,h()}}}function Mn(e,t,r){let{$$slots:s={},$$scope:n}=t,o=!1;return e.$$set=e=>{"$$scope"in e&&r(4,n=e.$$scope)},[o,s,e=>r(0,o=!o),e=>r(0,o=!1),n]}class Sn extends $e{constructor(e){super(),xe(this,e,Mn,Fn,l,{})}}function Pn(e){let t,r,s,n,o,l,i,a;const c=e[2].default,h=u(c,e,e[1],null);return{c(){t=y("div"),r=y("div"),h&&h.c(),s=L(),n=y("div"),o=y("button"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" class="svelte-1ux55nb"><path d="M10.573 3.021h7.427v-3.021l6 5.39-6 5.61v-3h-7.427c-3.071 0-5.561 2.356-5.561 5.427 0 3.071 2.489 5.573 5.561 5.573h7.427v5h-7.427c-5.84 0-10.573-4.734-10.573-10.573s4.733-10.406 10.573-10.406z"></path></svg>',C(r,"class","group svelte-1ux55nb"),C(o,"class","svelte-1ux55nb"),C(n,"class","group svelte-1ux55nb"),C(t,"id","buttons"),C(t,"class","svelte-1ux55nb")},m(c,u){$(c,t,u),x(t,r),h&&h.m(r,null),x(t,s),x(t,n),x(n,o),l=!0,i||(a=z(o,"click",e[3]),i=!0)},p(e,[t]){h&&h.p&&2&t&&p(h,c,e,e[1],t,null,null)},i(e){l||(oe(h,e),l=!0)},o(e){le(h,e),l=!1},d(e){e&&b(t),h&&h.d(e),i=!1,a()}}}function Tn(e,t,r){let{$$slots:s={},$$scope:n}=t;const o=R();return e.$$set=e=>{"$$scope"in e&&r(1,n=e.$$scope)},[o,n,s,e=>o("centerArtboard")]}class jn extends $e{constructor(e){super(),xe(this,e,Tn,Pn,l,{})}}const Nn=e=>({}),Bn=e=>({slot:"list"}),Rn=e=>({}),Dn=e=>({slot:"icon"});function On(e){let t;const r=e[0].default,s=u(r,e,e[8],Dn),n=s||function(e){let t,r;return{c(){t=w("svg"),r=w("path"),C(r,"d","M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z"),C(t,"xmlns","http://www.w3.org/2000/svg"),C(t,"width","13"),C(t,"height","13"),C(t,"viewBox","0 0 24 24")},m(e,s){$(e,t,s),x(t,r)},d(e){e&&b(t)}}}();return{c(){n&&n.c()},m(e,r){n&&n.m(e,r),t=!0},p(e,t){s&&s.p&&256&t&&p(s,r,e,e[8],t,Rn,Dn)},i(e){t||(oe(n,e),t=!0)},o(e){le(n,e),t=!1},d(e){n&&n.d(e)}}}function Hn(e){let t;return{c(){t=_("Import spritesheet")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function qn(e){let t;return{c(){t=_("Import CHR")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function Kn(e){let t;return{c(){t=_("Export spritesheet")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function Gn(e){let t;return{c(){t=_("Export CHR")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function Un(e){let t;return{c(){t=_("Export PNG")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function Jn(e){let t;return{c(){t=_("Clear all")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function Wn(e){let t;const r=e[0].default,s=u(r,e,e[8],Bn),n=s||function(e){let t,r,s,n,o,l,i,a,c,u,h,p,d,g,f;return r=new Ls({props:{$$slots:{default:[Hn]},$$scope:{ctx:e}}}),r.$on("click",e[1]),n=new Ls({props:{$$slots:{default:[qn]},$$scope:{ctx:e}}}),n.$on("click",e[2]),i=new Ls({props:{$$slots:{default:[Kn]},$$scope:{ctx:e}}}),i.$on("click",e[3]),c=new Ls({props:{$$slots:{default:[Gn]},$$scope:{ctx:e}}}),c.$on("click",e[4]),h=new Ls({props:{$$slots:{default:[Un]},$$scope:{ctx:e}}}),h.$on("click",e[5]),g=new Ls({props:{variant:"danger",$$slots:{default:[Jn]},$$scope:{ctx:e}}}),g.$on("click",e[6]),{c(){t=y("div"),ge(r.$$.fragment),s=L(),ge(n.$$.fragment),o=L(),l=y("div"),ge(i.$$.fragment),a=L(),ge(c.$$.fragment),u=L(),ge(h.$$.fragment),p=L(),d=y("div"),ge(g.$$.fragment)},m(e,m){$(e,t,m),fe(r,t,null),x(t,s),fe(n,t,null),$(e,o,m),$(e,l,m),fe(i,l,null),x(l,a),fe(c,l,null),x(l,u),fe(h,l,null),$(e,p,m),$(e,d,m),fe(g,d,null),f=!0},p(e,t){const s={};256&t&&(s.$$scope={dirty:t,ctx:e}),r.$set(s);const o={};256&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o);const l={};256&t&&(l.$$scope={dirty:t,ctx:e}),i.$set(l);const a={};256&t&&(a.$$scope={dirty:t,ctx:e}),c.$set(a);const u={};256&t&&(u.$$scope={dirty:t,ctx:e}),h.$set(u);const p={};256&t&&(p.$$scope={dirty:t,ctx:e}),g.$set(p)},i(e){f||(oe(r.$$.fragment,e),oe(n.$$.fragment,e),oe(i.$$.fragment,e),oe(c.$$.fragment,e),oe(h.$$.fragment,e),oe(g.$$.fragment,e),f=!0)},o(e){le(r.$$.fragment,e),le(n.$$.fragment,e),le(i.$$.fragment,e),le(c.$$.fragment,e),le(h.$$.fragment,e),le(g.$$.fragment,e),f=!1},d(e){e&&b(t),me(r),me(n),e&&b(o),e&&b(l),me(i),me(c),me(h),e&&b(p),e&&b(d),me(g)}}}(e);return{c(){n&&n.c()},m(e,r){n&&n.m(e,r),t=!0},p(e,t){s&&s.p&&256&t&&p(s,r,e,e[8],t,Nn,Bn)},i(e){t||(oe(n,e),t=!0)},o(e){le(n,e),t=!1},d(e){n&&n.d(e)}}}function Yn(t){let r;return{c(){r=L()},m(e,t){$(e,r,t)},p:e,i:e,o:e,d(e){e&&b(r)}}}function Xn(e){let t,r;return t=new Sn({props:{$$slots:{default:[Yn],list:[Wn],icon:[On]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,r){const s={};256&r&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function Vn(e){let t,r;return t=new jn({props:{$$slots:{default:[Xn]},$$scope:{ctx:e}}}),t.$on("centerArtboard",e[7]),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,[r]){const s={};256&r&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function Zn(e,t,r){let{$$slots:s={},$$scope:n}=t;return e.$$set=e=>{"$$scope"in e&&r(8,n=e.$$scope)},[s,e=>Fe.execute("spritesheet_import"),e=>Fe.execute("spritesheet_import_chr"),e=>Fe.execute("spritesheet_export"),e=>Fe.execute("spritesheet_export_chr"),e=>Fe.execute("spritesheet_export_png"),e=>Fe.execute("spritesheet_clear"),function(t){D(e,t)},n]}class Qn extends $e{constructor(e){super(),xe(this,e,Zn,Vn,l,{})}}function eo(t){let r;return{c(){r=_("Please select a spritesheet and palette")},m(e,t){$(e,r,t)},p:e,i:e,o:e,d(e){e&&b(r)}}}function to(e){let t,r,s;const n=e[9].default,o=u(n,e,e[8],null);return{c(){t=y("div"),r=y("canvas"),o&&o.c(),C(r,"width",128),C(r,"height",128),C(r,"class","svelte-1sxiybl"),F(t,"--zoom",e[0]),C(t,"class","svelte-1sxiybl")},m(n,l){$(n,t,l),x(t,r),o&&o.m(r,null),e[10](r),s=!0},p(e,r){o&&o.p&&256&r&&p(o,n,e,e[8],r,null,null),(!s||1&r)&&F(t,"--zoom",e[0])},i(e){s||(oe(o,e),s=!0)},o(e){le(o,e),s=!1},d(r){r&&b(t),o&&o.d(r),e[10](null)}}}function ro(e){let t,r,s,n;const o=[to,eo],l=[];function i(e,t){return e[2]&&e[3].length&&e[4]?0:1}return t=i(e),r=l[t]=o[t](e),{c(){r.c(),s=k()},m(e,r){l[t].m(e,r),$(e,s,r),n=!0},p(e,[n]){let a=t;t=i(e),t===a?l[t].p(e,n):(se(),le(l[a],1,1,(()=>{l[a]=null})),ne(),r=l[t],r?r.p(e,n):(r=l[t]=o[t](e),r.c()),oe(r,1),r.m(s.parentNode,s))},i(e){n||(oe(r),n=!0)},o(e){le(r),n=!1},d(e){l[t].d(e),e&&b(s)}}}function so(e,t,r){let s,n,o,{$$slots:l={},$$scope:i}=t,{zoom:a}=t;const{activeLayer:u,layers:h,width:p,height:d}=$t.stores;c(e,u,(e=>r(2,s=e))),c(e,h,(e=>r(3,n=e)));const g=ut.stores.activeLayer;let f;c(e,g,(e=>r(4,o=e)));let m=new Tt({width:p,height:d});return m.on("primary",(e=>((...e)=>Ut(Gt.activeTool.get()?.primary,...e))(e))),m.on("secondary",(e=>((...e)=>Ut(Gt.activeTool.get()?.secondary,...e))(e))),m.on("move",(e=>((...e)=>Ut(Gt.activeTool.get()?.move,...e))(e))),m.on("mouseup",(e=>((...e)=>Ut(Gt.activeTool.get()?.mouseup,...e))(e))),N((()=>()=>{m&&m.destroy()})),e.$$set=e=>{"zoom"in e&&r(0,a=e.zoom),"$$scope"in e&&r(8,i=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&f&&m.defineCanvas(f)},[a,f,s,n,o,u,h,g,i,l,function(e){H[e?"unshift":"push"]((()=>{f=e,r(1,f)}))}]}class no extends $e{constructor(e){super(),xe(this,e,so,ro,l,{zoom:0})}}function oo(e){let t,r;return t=new no({props:{zoom:e[0]}}),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,[r]){const s={};1&r&&(s.zoom=e[0]),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function lo(e,t,r){let{zoom:s}=t;return e.$$set=e=>{"zoom"in e&&r(0,s=e.zoom)},[s]}class io extends $e{constructor(e){super(),xe(this,e,lo,oo,l,{zoom:0})}}let ao;const co=ye($t.stores.activeLayer,((e,t)=>{if(clearInterval(ao),e)return ao=setInterval((()=>{e.updateImageSource(),t(e.updateImageSource())}),500),()=>{clearInterval(ao)}})),uo=ye($t.stores.layers,(e=>e)),ho=Me({layers:uo,activeImage:co},(({store:e,value:t,get:r})=>({stores:t})));function po(e){let t,r;return t=new io({props:{zoom:e[0]}}),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,r){const s={};1&r&&(s.zoom=e[0]),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function go(e){let t,r,s,n,o,l,i,a,c,u,h,p,d,g,f,m,v;return o=new Qn({}),o.$on("centerArtboard",Qr),i=new ts({props:{$$slots:{default:[po]},$$scope:{ctx:e}}}),i.$on("artboardScrollEvent",e[1]),u=new ys({}),d=new en({}),m=new yn({props:{showEditButtons:!1}}),{c(){t=y("section"),r=y("div"),s=L(),n=y("div"),ge(o.$$.fragment),l=L(),ge(i.$$.fragment),a=L(),c=y("section"),ge(u.$$.fragment),h=L(),p=y("section"),ge(d.$$.fragment),g=L(),f=y("section"),ge(m.$$.fragment),C(n,"class","inner-artboard svelte-18f6yhk"),C(t,"class","main-artboard svelte-18f6yhk"),C(c,"class","toolbar-layer svelte-18f6yhk"),C(p,"class","spritesheets-layer svelte-18f6yhk"),C(f,"class","palettes-layer svelte-18f6yhk")},m(e,b){$(e,t,b),x(t,r),x(t,s),x(t,n),fe(o,n,null),x(n,l),fe(i,n,null),$(e,a,b),$(e,c,b),fe(u,c,null),$(e,h,b),$(e,p,b),fe(d,p,null),$(e,g,b),$(e,f,b),fe(m,f,null),v=!0},p(e,[t]){const r={};5&t&&(r.$$scope={dirty:t,ctx:e}),i.$set(r)},i(e){v||(oe(o.$$.fragment,e),oe(i.$$.fragment,e),oe(u.$$.fragment,e),oe(d.$$.fragment,e),oe(m.$$.fragment,e),v=!0)},o(e){le(o.$$.fragment,e),le(i.$$.fragment,e),le(u.$$.fragment,e),le(d.$$.fragment,e),le(m.$$.fragment,e),v=!1},d(e){e&&b(t),me(o),me(i),e&&b(a),e&&b(c),me(u),e&&b(h),e&&b(p),me(d),e&&b(g),e&&b(f),me(m)}}}function fo(e,t,r){let s=4;return[s,(e,t)=>{r(0,s=Math.max(1,s+(s-e.detail.deltaY>0?1:-1)))}]}class mo extends $e{constructor(e){super(),xe(this,e,fo,go,l,{})}}function xo(e){let t,r;return{c(){t=y("div"),r=_(e[0]),C(t,"class","label svelte-j9cd0w")},m(e,s){$(e,t,s),x(t,r)},p(e,t){1&t&&A(r,e[0])},d(e){e&&b(t)}}}function $o(e){let t,r,s,n=e[0]&&xo(e);const o=e[2].default,l=u(o,e,e[1],null);return{c(){t=y("div"),n&&n.c(),r=L(),l&&l.c(),C(t,"class","labeled svelte-j9cd0w")},m(e,o){$(e,t,o),n&&n.m(t,null),x(t,r),l&&l.m(t,null),s=!0},p(e,[s]){e[0]?n?n.p(e,s):(n=xo(e),n.c(),n.m(t,r)):n&&(n.d(1),n=null),l&&l.p&&2&s&&p(l,o,e,e[1],s,null,null)},i(e){s||(oe(l,e),s=!0)},o(e){le(l,e),s=!1},d(e){e&&b(t),n&&n.d(),l&&l.d(e)}}}function bo(e,t,r){let{$$slots:s={},$$scope:n}=t,{label:o}=t;return e.$$set=e=>{"label"in e&&r(0,o=e.label),"$$scope"in e&&r(1,n=e.$$scope)},[o,n,s]}class vo extends $e{constructor(e){super(),xe(this,e,bo,$o,l,{label:0})}}const yo=e=>({}),wo=e=>({slot:"list"}),_o=e=>({}),Lo=e=>({slot:"icon"});function ko(e){let t;const r=e[0].default,s=u(r,e,e[5],Lo),n=s||function(e){let t,r;return{c(){t=w("svg"),r=w("path"),C(r,"d","M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z"),C(t,"xmlns","http://www.w3.org/2000/svg"),C(t,"width","13"),C(t,"height","13"),C(t,"viewBox","0 0 24 24")},m(e,s){$(e,t,s),x(t,r)},d(e){e&&b(t)}}}();return{c(){n&&n.c()},m(e,r){n&&n.m(e,r),t=!0},p(e,t){s&&s.p&&32&t&&p(s,r,e,e[5],t,_o,Lo)},i(e){t||(oe(n,e),t=!0)},o(e){le(n,e),t=!1},d(e){n&&n.d(e)}}}function zo(e){let t;return{c(){t=_("Import palette")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function Eo(e){let t;return{c(){t=_("Export palette")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function Co(e){let t;return{c(){t=_("Clear all")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function Io(e){let t;const r=e[0].default,s=u(r,e,e[5],wo),n=s||function(e){let t,r,s,n,o,l,i,a;return r=new Ls({props:{$$slots:{default:[zo]},$$scope:{ctx:e}}}),r.$on("click",e[1]),n=new Ls({props:{$$slots:{default:[Eo]},$$scope:{ctx:e}}}),n.$on("click",e[2]),i=new Ls({props:{variant:"danger",$$slots:{default:[Co]},$$scope:{ctx:e}}}),i.$on("click",e[3]),{c(){t=y("div"),ge(r.$$.fragment),s=L(),ge(n.$$.fragment),o=L(),l=y("div"),ge(i.$$.fragment)},m(e,c){$(e,t,c),fe(r,t,null),x(t,s),fe(n,t,null),$(e,o,c),$(e,l,c),fe(i,l,null),a=!0},p(e,t){const s={};32&t&&(s.$$scope={dirty:t,ctx:e}),r.$set(s);const o={};32&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o);const l={};32&t&&(l.$$scope={dirty:t,ctx:e}),i.$set(l)},i(e){a||(oe(r.$$.fragment,e),oe(n.$$.fragment,e),oe(i.$$.fragment,e),a=!0)},o(e){le(r.$$.fragment,e),le(n.$$.fragment,e),le(i.$$.fragment,e),a=!1},d(e){e&&b(t),me(r),me(n),e&&b(o),e&&b(l),me(i)}}}(e);return{c(){n&&n.c()},m(e,r){n&&n.m(e,r),t=!0},p(e,t){s&&s.p&&32&t&&p(s,r,e,e[5],t,yo,wo)},i(e){t||(oe(n,e),t=!0)},o(e){le(n,e),t=!1},d(e){n&&n.d(e)}}}function Ao(t){let r;return{c(){r=L()},m(e,t){$(e,r,t)},p:e,i:e,o:e,d(e){e&&b(r)}}}function Fo(e){let t,r;return t=new Sn({props:{$$slots:{default:[Ao],list:[Io],icon:[ko]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,r){const s={};32&r&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function Mo(e){let t,r;return t=new jn({props:{$$slots:{default:[Fo]},$$scope:{ctx:e}}}),t.$on("centerArtboard",e[4]),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,[r]){const s={};32&r&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function So(e,t,r){let{$$slots:s={},$$scope:n}=t;return e.$$set=e=>{"$$scope"in e&&r(5,n=e.$$scope)},[s,e=>Fe.execute("palette_import"),e=>Fe.execute("palette_export"),e=>Fe.execute("palette_clear"),function(t){D(e,t)},n]}class Po extends $e{constructor(e){super(),xe(this,e,So,Mo,l,{})}}function To(e,t,r){const s=e.slice();return s[1]=t[r],s}function jo(t){let r,s,n;return s=new an({props:{rgb:t[1].rgb,hex:t[1].hex,type:"replace"}}),s.$on("click",t[0]),{c(){r=y("li"),ge(s.$$.fragment)},m(e,t){$(e,r,t),fe(s,r,null),n=!0},p:e,i(e){n||(oe(s.$$.fragment,e),n=!0)},o(e){le(s.$$.fragment,e),n=!1},d(e){e&&b(r),me(s)}}}function No(e){let t,r,s=ze,n=[];for(let t=0;t<s.length;t+=1)n[t]=jo(To(e,s,t));const o=e=>le(n[e],1,1,(()=>{n[e]=null}));return{c(){t=y("ul");for(let e=0;e<n.length;e+=1)n[e].c()},m(e,s){$(e,t,s);for(let e=0;e<n.length;e+=1)n[e].m(t,null);r=!0},p(e,[r]){if(1&r){let l;for(s=ze,l=0;l<s.length;l+=1){const o=To(e,s,l);n[l]?(n[l].p(o,r),oe(n[l],1)):(n[l]=jo(o),n[l].c(),oe(n[l],1),n[l].m(t,null))}for(se(),l=s.length;l<n.length;l+=1)o(l);ne()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)oe(n[e]);r=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)le(n[e]);r=!1},d(e){e&&b(t),v(n,e)}}}function Bo(e){return[e=>{console.log(e)}]}class Ro extends $e{constructor(e){super(),xe(this,e,Bo,No,l,{})}}function Do(e,t,r){const s=e.slice();return s[5]=t[r],s[7]=r,s}function Oo(t){let r;return{c(){r=_("No layer selected")},m(e,t){$(e,r,t)},p:e,i:e,o:e,d(e){e&&b(r)}}}function Ho(t){let r,s,n=t[0],o=Go(t);return{c(){o.c(),r=k()},m(e,t){o.m(e,t),$(e,r,t),s=!0},p(t,s){1&s&&l(n,n=t[0])?(se(),le(o,1,1,e),ne(),o=Go(t),o.c(),oe(o),o.m(r.parentNode,r)):o.p(t,s)},i(e){s||(oe(o),s=!0)},o(e){le(o),s=!1},d(e){e&&b(r),o.d(e)}}}function qo(e){let t,r,s,n,l,i,a;return r=new an({props:{hex:e[5].hex,rgb:e[5].rgb,layerIndex:ut.layerIndexFromSource(e[0]),colorIndex:e[7],type:"swap"}}),{c(){t=y("li"),ge(r.$$.fragment),s=L(),C(t,"class","svelte-dgveli")},m(o,c){$(o,t,c),fe(r,t,null),x(t,s),l=!0,i||(a=m(n=As.call(null,t,{...e[2],value:{layerIndex:ut.layerIndexFromSource(e[0]),colorIndex:e[7]}})),i=!0)},p(t,s){e=t;const l={};1&s&&(l.hex=e[5].hex),1&s&&(l.rgb=e[5].rgb),1&s&&(l.layerIndex=ut.layerIndexFromSource(e[0])),r.$set(l),n&&o(n.update)&&1&s&&n.update.call(null,{...e[2],value:{layerIndex:ut.layerIndexFromSource(e[0]),colorIndex:e[7]}})},i(e){l||(oe(r.$$.fragment,e),l=!0)},o(e){le(r.$$.fragment,e),l=!1},d(e){e&&b(t),me(r),i=!1,a()}}}function Ko(e){let t,r,s=e[0].colors,n=[];for(let t=0;t<s.length;t+=1)n[t]=qo(Do(e,s,t));const o=e=>le(n[e],1,1,(()=>{n[e]=null}));return{c(){t=y("ul");for(let e=0;e<n.length;e+=1)n[e].c();C(t,"class","active-color-group svelte-dgveli")},m(e,s){$(e,t,s);for(let e=0;e<n.length;e+=1)n[e].m(t,null);r=!0},p(e,r){if(5&r){let l;for(s=e[0].colors,l=0;l<s.length;l+=1){const o=Do(e,s,l);n[l]?(n[l].p(o,r),oe(n[l],1)):(n[l]=qo(o),n[l].c(),oe(n[l],1),n[l].m(t,null))}for(se(),l=s.length;l<n.length;l+=1)o(l);ne()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)oe(n[e]);r=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)le(n[e]);r=!1},d(e){e&&b(t),v(n,e)}}}function Go(e){let t,r;return t=new vo({props:{label:e[0].label,$$slots:{default:[Ko]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,r){const s={};1&r&&(s.label=e[0].label),257&r&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function Uo(e){let t,r,s,n;const o=[Ho,Oo],l=[];function i(e,t){return e[0]?0:1}return t=i(e),r=l[t]=o[t](e),{c(){r.c(),s=k()},m(e,r){l[t].m(e,r),$(e,s,r),n=!0},p(e,n){let a=t;t=i(e),t===a?l[t].p(e,n):(se(),le(l[a],1,1,(()=>{l[a]=null})),ne(),r=l[t],r?r.p(e,n):(r=l[t]=o[t](e),r.c()),oe(r,1),r.m(s.parentNode,s))},i(e){n||(oe(r),n=!0)},o(e){le(r),n=!1},d(e){l[t].d(e),e&&b(s)}}}function Jo(e){let t,r,s,n,o,l,i,a,c,u,h,p,d,g;return o=new Po({}),o.$on("centerArtboard",Qr),i=new ts({props:{$$slots:{default:[Uo]},$$scope:{ctx:e}}}),u=new Ro({}),d=new yn({props:{showEditButtons:!0}}),{c(){t=y("section"),r=y("div"),s=L(),n=y("div"),ge(o.$$.fragment),l=L(),ge(i.$$.fragment),a=L(),c=y("section"),ge(u.$$.fragment),h=L(),p=y("section"),ge(d.$$.fragment),C(n,"class","inner-artboard svelte-dgveli"),C(t,"class","main-artboard svelte-dgveli"),C(c,"class","swatchlist svelte-dgveli"),C(p,"class","palettes-layers svelte-dgveli")},m(e,f){$(e,t,f),x(t,r),x(t,s),x(t,n),fe(o,n,null),x(n,l),fe(i,n,null),$(e,a,f),$(e,c,f),fe(u,c,null),$(e,h,f),$(e,p,f),fe(d,p,null),g=!0},p(e,[t]){const r={};257&t&&(r.$$scope={dirty:t,ctx:e}),i.$set(r)},i(e){g||(oe(o.$$.fragment,e),oe(i.$$.fragment,e),oe(u.$$.fragment,e),oe(d.$$.fragment,e),g=!0)},o(e){le(o.$$.fragment,e),le(i.$$.fragment,e),le(u.$$.fragment,e),le(d.$$.fragment,e),g=!1},d(e){e&&b(t),me(o),me(i),e&&b(a),e&&b(c),me(u),e&&b(h),e&&b(p),me(d)}}}function Wo(e,t,r){let s;const{activeLayer:n,layers:o}=ut.stores;c(e,n,(e=>r(0,s=e)));return[s,n,{over:e=>!0,leave:e=>!1,drop:({e:e,value:t})=>{const r=e.dataTransfer.getData("swap");r&&o.swapColors({...JSON.parse(r),to:{...t}});const s=e.dataTransfer.getData("replace");s&&o.replaceColor({...JSON.parse(s),...t})}}]}class Yo extends $e{constructor(e){super(),xe(this,e,Wo,Jo,l,{})}}function Xo(e){let t,r;return{c(){t=y("label"),r=_(e[1]),C(t,"for","select"),C(t,"class","svelte-1jkinki")},m(e,s){$(e,t,s),x(t,r)},p(e,t){2&t&&A(r,e[1])},d(e){e&&b(t)}}}function Vo(e){let t,r,s,o,l,i,a,c=e[1]&&Xo(e);const h=e[5].default,d=u(h,e,e[4],null);return{c(){t=y("div"),c&&c.c(),r=L(),s=y("div"),o=y("select"),d&&d.c(),C(o,"name","select"),o.disabled=e[2],C(o,"class","svelte-1jkinki"),void 0===e[0]&&Y((()=>e[7].call(o))),C(s,"class","select svelte-1jkinki"),S(s,"multiple",e[3]),C(t,"class","select-group svelte-1jkinki")},m(n,u){$(n,t,u),c&&c.m(t,null),x(t,r),x(t,s),x(s,o),d&&d.m(o,null),M(o,e[0]),l=!0,i||(a=[z(o,"change",e[7]),z(s,"change",e[6])],i=!0)},p(e,[n]){e[1]?c?c.p(e,n):(c=Xo(e),c.c(),c.m(t,r)):c&&(c.d(1),c=null),d&&d.p&&16&n&&p(d,h,e,e[4],n,null,null),(!l||4&n)&&(o.disabled=e[2]),1&n&&M(o,e[0]),8&n&&S(s,"multiple",e[3])},i(e){l||(oe(d,e),l=!0)},o(e){le(d,e),l=!1},d(e){e&&b(t),c&&c.d(),d&&d.d(e),i=!1,n(a)}}}function Zo(e,t,r){let{$$slots:s={},$$scope:n}=t,{label:o}=t,{disabled:l=!1}=t,{multiple:i=!1}=t,{value:a}=t;return e.$$set=e=>{"label"in e&&r(1,o=e.label),"disabled"in e&&r(2,l=e.disabled),"multiple"in e&&r(3,i=e.multiple),"value"in e&&r(0,a=e.value),"$$scope"in e&&r(4,n=e.$$scope)},[a,o,l,i,n,s,function(t){D(e,t)},function(){a=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),r(0,a)}]}class Qo extends $e{constructor(e){super(),xe(this,e,Zo,Vo,l,{label:1,disabled:2,multiple:3,value:0})}}function el(e,t,r){const s=e.slice();return s[14]=t[r],s}function tl(e,t,r){const s=e.slice();return s[17]=t[r],s}function rl(e,t,r){const s=e.slice();return s[20]=t[r],s}function sl(e){let t,r;return t=new io({props:{zoom:e[0]}}),{c(){ge(t.$$.fragment)},m(e,s){fe(t,e,s),r=!0},p(e,r){const s={};1&r&&(s.zoom=e[0]),t.$set(s)},i(e){r||(oe(t.$$.fragment,e),r=!0)},o(e){le(t.$$.fragment,e),r=!1},d(e){me(t,e)}}}function nl(e){let t;return{c(){t=y("option"),t.textContent="oh noo!",t.__value="oh noo!",t.value=t.__value},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function ol(e){let t,r,s,n=e[20].label+"";return{c(){t=y("option"),r=_(n),t.__value=s=e[20],t.value=t.__value},m(e,s){$(e,t,s),x(t,r)},p(e,o){4&o&&n!==(n=e[20].label+"")&&A(r,n),4&o&&s!==(s=e[20])&&(t.__value=s,t.value=t.__value)},d(e){e&&b(t)}}}function ll(e){let t,r=e[2],s=[];for(let t=0;t<r.length;t+=1)s[t]=ol(rl(e,r,t));let n=null;return r.length||(n=nl()),{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=k(),n&&n.c()},m(e,r){for(let t=0;t<s.length;t+=1)s[t].m(e,r);$(e,t,r),n&&n.m(e,r)},p(e,o){if(4&o){let l;for(r=e[2],l=0;l<r.length;l+=1){const n=rl(e,r,l);s[l]?s[l].p(n,o):(s[l]=ol(n),s[l].c(),s[l].m(t.parentNode,t))}for(;l<s.length;l+=1)s[l].d(1);s.length=r.length,r.length?n&&(n.d(1),n=null):n||(n=nl(),n.c(),n.m(t.parentNode,t))}},d(e){v(s,e),e&&b(t),n&&n.d(e)}}}function il(e){let t,r=e[4],s=ul(e);return{c(){s.c(),t=k()},m(e,r){s.m(e,r),$(e,t,r)},p(e,n){16&n&&l(r,r=e[4])?(s.d(1),s=ul(e),s.c(),s.m(t.parentNode,t)):s.p(e,n)},d(e){e&&b(t),s.d(e)}}}function al(e){let t;return{c(){t=y("div"),C(t,"class","tile-image svelte-1og0o7w"),F(t,"--src","url("+e[3].image.src+")"),F(t,"--x",e[14]),F(t,"--y",e[17])},m(e,r){$(e,t,r)},p(e,r){8&r&&F(t,"--src","url("+e[3].image.src+")")},d(e){e&&b(t)}}}function cl(e){let t,r=e[10],s=[];for(let t=0;t<r.length;t+=1)s[t]=al(tl(e,r,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=k()},m(e,r){for(let t=0;t<s.length;t+=1)s[t].m(e,r);$(e,t,r)},p(e,n){if(1544&n){let o;for(r=e[10],o=0;o<r.length;o+=1){const l=tl(e,r,o);s[o]?s[o].p(l,n):(s[o]=al(l),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}},d(e){v(s,e),e&&b(t)}}}function ul(e){let t,r=e[9],s=[];for(let t=0;t<r.length;t+=1)s[t]=cl(el(e,r,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=k()},m(e,r){for(let t=0;t<s.length;t+=1)s[t].m(e,r);$(e,t,r)},p(e,n){if(1544&n){let o;for(r=e[9],o=0;o<r.length;o+=1){const l=el(e,r,o);s[o]?s[o].p(l,n):(s[o]=cl(l),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}},d(e){v(s,e),e&&b(t)}}}function hl(e){let t,r,s,n,o,l,i,a,c,u,h,p,d,g,f,m,v,w,_,k,z,E,I,A;function F(t){e[12].call(null,t)}o=new Qn({}),o.$on("centerArtboard",Qr),i=new ts({props:{$$slots:{default:[sl]},$$scope:{ctx:e}}}),i.$on("artboardScrollEvent",e[8]);let M={$$slots:{default:[ll]},$$scope:{ctx:e}};void 0!==e[1]&&(M.value=e[1]),p=new Qo({props:M}),H.push((()=>de(p,"value",F))),p.$on("change",e[11]);let S=e[3]&&il(e);return w=new ys({}),I=new yn({props:{showEditButtons:!1}}),{c(){t=y("section"),r=y("div"),s=L(),n=y("div"),ge(o.$$.fragment),l=L(),ge(i.$$.fragment),a=L(),c=y("section"),u=y("header"),h=y("div"),ge(p.$$.fragment),g=L(),f=y("div"),S&&S.c(),m=L(),v=y("section"),ge(w.$$.fragment),_=L(),k=y("section"),z=L(),E=y("section"),ge(I.$$.fragment),C(n,"class","inner-artboard svelte-1og0o7w"),C(u,"class","svelte-1og0o7w"),C(f,"class","tile-grid svelte-1og0o7w"),C(c,"class","tiles svelte-1og0o7w"),C(t,"class","main-artboard svelte-1og0o7w"),C(v,"class","toolbar-layer svelte-1og0o7w"),C(k,"class","spritesheets-layer svelte-1og0o7w"),C(E,"class","palettes-layer svelte-1og0o7w")},m(e,d){$(e,t,d),x(t,r),x(t,s),x(t,n),fe(o,n,null),x(n,l),fe(i,n,null),x(t,a),x(t,c),x(c,u),x(u,h),fe(p,h,null),x(c,g),x(c,f),S&&S.m(f,null),$(e,m,d),$(e,v,d),fe(w,v,null),$(e,_,d),$(e,k,d),$(e,z,d),$(e,E,d),fe(I,E,null),A=!0},p(e,[t]){const r={};8388609&t&&(r.$$scope={dirty:t,ctx:e}),i.$set(r);const s={};8388612&t&&(s.$$scope={dirty:t,ctx:e}),!d&&2&t&&(d=!0,s.value=e[1],X((()=>d=!1))),p.$set(s),e[3]?S?S.p(e,t):(S=il(e),S.c(),S.m(f,null)):S&&(S.d(1),S=null)},i(e){A||(oe(o.$$.fragment,e),oe(i.$$.fragment,e),oe(p.$$.fragment,e),oe(w.$$.fragment,e),oe(I.$$.fragment,e),A=!0)},o(e){le(o.$$.fragment,e),le(i.$$.fragment,e),le(p.$$.fragment,e),le(w.$$.fragment,e),le(I.$$.fragment,e),A=!1},d(e){e&&b(t),me(o),me(i),me(p),S&&S.d(),e&&b(m),e&&b(v),me(w),e&&b(_),e&&b(k),e&&b(z),e&&b(E),me(I)}}}function pl(e,t,r){let s,n,o;const{activeImage:l}=ho.stores;c(e,l,(e=>r(4,o=e)));const{layers:i,activeLayer:a}=$t.stores;c(e,i,(e=>r(2,s=e))),c(e,a,(e=>r(3,n=e)));let u=4;const h=(e=16)=>new Array(e).fill(null).map(((e,t)=>t+1)).reverse();let p,d=[...h()],g=[...h()];return[u,p,s,n,o,l,i,a,e=>{r(0,u=Math.max(1,u+(u-e.detail.deltaY>0?1:-1)))},d,g,e=>{Fe.execute("spritesheet_make_layer_active",p)},function(e){p=e,r(1,p)}]}class dl extends $e{constructor(e){super(),xe(this,e,pl,hl,l,{})}}const gl=Fr(Ur);gl("/graphics",(e=>cr("/graphics/spritesheets"))),gl("/graphics/spritesheets",((e,t)=>{try{yt.enableGroups("*","spritesheets"),t.send(mo)}catch(e){t.error()}}));Fr(class extends $e{constructor(e){super(),xe(this,e,Wr,Jr,l,{})}})("/graphics/palettes",((e,t)=>{try{yt.enableGroups("*","palettes"),t.send(Yo)}catch(e){t.error()}}));Fr(Ur)("/graphics/spritesets",((e,t)=>{try{yt.enableGroups("*","spritesheets"),t.send(dl)}catch(e){t.error()}})),Pr.get("/",((e,t)=>{})),yt.set(["f11"],{data:{action:Fe.action("window_toggle_fullscreen")}}),yt.set(["altleft","enter"],{data:{action:Fe.action("window_toggle_fullscreen")}}),yt.set(["ControlLeft","KeyS"],{data:{action:Fe.action("project_save")}});const fl=["palettes"];yt.set(["insert"],{data:{action:Fe.action("palette_create")},groups:fl}),yt.set(["ControlLeft","KeyD"],{data:{action:Fe.action("palette_clone_active_layer")},groups:fl}),yt.set(["f2"],{data:{action:Fe.action("palette_focus_rename_active_layer")},groups:fl});yt.set(["ControlLeft","KeyI"],{data:{action:Fe.action("palette_import")},groups:fl}).on((e=>wt(e)));yt.set(["ControlLeft","KeyE"],{data:{action:Fe.action("palette_export")},groups:fl}).on((e=>wt(e)));yt.set(["ControlLeft","KeyO"],{data:{action:Fe.action("project_open")},groups:["*"]}).on((e=>wt(e)));const ml=["spritesheets"];yt.set(["insert"],{data:{action:Fe.action("spritesheet_create")},groups:ml}),yt.set(["ControlLeft","KeyD"],{data:{action:Fe.action("spritesheet_clone_active_layer")},groups:ml}),yt.set(["ControlLeft","KeyZ"],{data:{action:Fe.action("spritesheet_undo")},groups:ml}),yt.set(["ControlLeft","ShiftLeft","KeyZ"],{data:{action:Fe.action("spritesheet_redo")},groups:ml}),yt.set(["ControlLeft","KeyY"],{data:{action:Fe.action("spritesheet_redo")},groups:ml}),yt.set(["f2"],{data:{action:Fe.action("spritesheet_focus_rename_active_layer")},groups:ml});yt.set(["ControlLeft","KeyI"],{data:{action:Fe.action("spritesheet_import")},groups:ml}).on((e=>wt(e)));function xl(e){let r,s,n,o;const l=e[3].default,i=u(l,e,e[2],null);let a=[e[1]],c={};for(let e=0;e<a.length;e+=1)c=t(c,a[e]);return{c(){r=y("button"),i&&i.c(),I(r,c)},m(t,l){$(t,r,l),i&&i.m(r,null),s=!0,n||(o=z(r,"click",E(e[5])),n=!0)},p(e,t){i&&i.p&&4&t&&p(i,l,e,e[2],t,null,null),I(r,c=he(a,[2&t&&e[1]]))},i(e){s||(oe(i,e),s=!0)},o(e){le(i,e),s=!1},d(e){e&&b(r),i&&i.d(e),n=!1,o()}}}function $l(e){let r,s,n,o;const l=e[3].default,i=u(l,e,e[2],null);let a=[e[1]],c={};for(let e=0;e<a.length;e+=1)c=t(c,a[e]);return{c(){r=y("button"),i&&i.c(),I(r,c)},m(t,l){$(t,r,l),i&&i.m(r,null),s=!0,n||(o=z(r,"click",e[4]),n=!0)},p(e,t){i&&i.p&&4&t&&p(i,l,e,e[2],t,null,null),I(r,c=he(a,[2&t&&e[1]]))},i(e){s||(oe(i,e),s=!0)},o(e){le(i,e),s=!1},d(e){e&&b(r),i&&i.d(e),n=!1,o()}}}function bl(e){let t,r,s,n;const o=[$l,xl],l=[];return t=globalThis.electron?1:0,r=l[t]=o[t](e),{c(){r.c(),s=k()},m(e,r){l[t].m(e,r),$(e,s,r),n=!0},p(e,[t]){r.p(e,t)},i(e){n||(oe(r),n=!0)},o(e){le(r),n=!1},d(e){l[t].d(e),e&&b(s)}}}function vl(e,r,s){let{$$slots:n={},$$scope:o}=r;const{href:l}=r;return e.$$set=e=>{s(1,r=t(t({},r),d(e))),"$$scope"in e&&s(2,o=e.$$scope)},r=d(r),[l,r,o,n,e=>window.open(l),e=>Fe.execute("external_link",l)]}yt.set(["ControlLeft","KeyE"],{data:{action:Fe.action("spritesheet_export")},groups:ml}).on((e=>wt(e))),yt.set(["Digit1"],{data:{action:Fe.action("palette_active_color"),props:0},groups:ml}),yt.set(["Digit2"],{data:{action:Fe.action("palette_active_color"),props:1},groups:ml}),yt.set(["Digit3"],{data:{action:Fe.action("palette_active_color"),props:2},groups:ml}),yt.set(["Digit4"],{data:{action:Fe.action("palette_active_color"),props:3},groups:ml}),yt.set(["NumpadAdd"],{data:{action:Fe.action("spritesheet_zoom_in")},groups:ml}),yt.set(["NumpadSubtract"],{data:{action:Fe.action("spritesheet_zoom_out")},groups:ml}),yt.set(["Numpad0"],{data:{action:Fe.action("spritesheet_zoom_reset")},groups:ml}),yt.set(["KeyV"],{data:{action:Fe.action("spritesheet_set_active_tool"),props:_t.get("pointer")},groups:ml}),yt.set(["KeyB"],{data:{action:Fe.action("spritesheet_set_active_tool"),props:_t.get("pen")},groups:ml}),yt.set(["KeyG"],{data:{action:Fe.action("spritesheet_set_active_tool"),props:_t.get("paintbucket")},groups:ml}),yt.set(["KeyA"],{data:{action:Fe.action("spritesheet_set_active_tool"),props:_t.get("colorattribute")},groups:ml}),yt.set(["KeyE"],{data:{action:Fe.action("spritesheet_set_active_tool"),props:_t.get("eyedropper")},groups:ml}),yt.set(["KeyP"],{data:{action:Fe.action("spritesheet_set_active_tool"),props:_t.get("preview")},groups:ml}),yt.set(["KeyS"],{data:{action:Fe.action("spritesheet_set_active_tool"),props:_t.get("colorswap")},groups:ml}),yt.set(["KeyT"],{data:{action:Fe.action("spritesheet_set_active_tool"),props:_t.get("tileswap")},groups:ml}),yt.set(["KeyR"],{data:{action:Fe.action("spritesheet_set_active_tool"),props:_t.get("transform")},groups:ml}),yt.set(["KeyM"],{data:{action:Fe.action("spritesheet_set_active_tool"),props:_t.get("marquee")},groups:ml});class yl extends $e{constructor(e){super(),xe(this,e,vl,bl,l,{})}}function wl(e){let t;return{c(){t=_("Visit github page")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function _l(e){let t;return{c(){t=_("Join discord community")},m(e,r){$(e,t,r)},d(e){e&&b(t)}}}function Ll(t){let r,s,o,l,i,a,c,u,h,p,d,g,f,m,v,w,_,k,I,A,F,M,P,T,j,N,B,R,D,O,H,q,K,G,U,J,W,Y,X,V,Z,Q,ee=globalThis.electron&&function(t){let r,s,n,o;return{c(){r=y("li"),s=y("button"),s.innerHTML="<span>quit</span>",C(s,"href","/"),C(r,"class","svelte-wz8iyp")},m(e,l){$(e,r,l),x(r,s),n||(o=z(s,"click",t[4]),n=!0)},p:e,d(e){e&&b(r),n=!1,o()}}}(t);return J=new yl({props:{href:"https://github.com/hjalmar/NESBitStudio-web",$$slots:{default:[wl]},$$scope:{ctx:t}}}),X=new yl({props:{href:"https://discord.gg/WM8ZEnwbSd",$$slots:{default:[_l]},$$scope:{ctx:t}}}),{c(){r=y("nav"),s=y("ul"),o=y("li"),l=y("span"),l.textContent="file",i=L(),a=y("ul"),c=y("li"),u=y("button"),u.innerHTML="<span>new project</span>",h=L(),p=y("li"),d=y("button"),d.innerHTML="<span>open</span>",g=L(),f=y("li"),m=y("button"),m.innerHTML="<span>save</span>",v=L(),w=y("li"),_=y("button"),_.innerHTML="<span>save as</span>",k=L(),ee&&ee.c(),I=L(),A=y("li"),A.innerHTML="<span>edit</span>",F=L(),M=y("li"),M.innerHTML="<span>build</span>",P=L(),T=y("li"),j=y("span"),j.textContent="window",N=L(),B=y("ul"),R=y("li"),D=y("button"),D.innerHTML="<span>toggle fullscreen</span>",O=L(),H=y("li"),q=y("span"),q.textContent="help",K=L(),G=y("ul"),U=y("li"),ge(J.$$.fragment),W=L(),Y=y("li"),ge(X.$$.fragment),C(u,"href","/"),C(c,"class","svelte-wz8iyp"),C(d,"href","/"),C(p,"class","svelte-wz8iyp"),C(m,"href","/"),C(f,"class","svelte-wz8iyp"),C(_,"href","/"),C(w,"class","svelte-wz8iyp"),C(a,"class","svelte-wz8iyp"),C(o,"class","svelte-wz8iyp"),S(o,"show",!1),C(A,"class","svelte-wz8iyp"),C(M,"class","svelte-wz8iyp"),C(D,"href","/"),C(R,"class","svelte-wz8iyp"),C(B,"class","svelte-wz8iyp"),C(T,"class","svelte-wz8iyp"),C(U,"class","svelte-wz8iyp"),C(Y,"class","svelte-wz8iyp"),C(G,"class","svelte-wz8iyp"),C(H,"class","svelte-wz8iyp"),C(s,"id","filemenu"),C(s,"class","svelte-wz8iyp"),C(r,"id","main-nav"),C(r,"class","no-drag")},m(e,n){$(e,r,n),x(r,s),x(s,o),x(o,l),x(o,i),x(o,a),x(a,c),x(c,u),x(a,h),x(a,p),x(p,d),x(a,g),x(a,f),x(f,m),x(a,v),x(a,w),x(w,_),x(a,k),ee&&ee.m(a,null),x(s,I),x(s,A),x(s,F),x(s,M),x(s,P),x(s,T),x(T,j),x(T,N),x(T,B),x(B,R),x(R,D),x(s,O),x(s,H),x(H,q),x(H,K),x(H,G),x(G,U),fe(J,U,null),x(G,W),x(G,Y),fe(X,Y,null),V=!0,Z||(Q=[z(u,"click",E(t[0])),z(d,"click",E(t[1])),z(m,"click",E(t[2])),z(_,"click",E(t[3])),z(D,"click",E(t[5]))],Z=!0)},p(e,[t]){globalThis.electron&&ee.p(e,t);const r={};2048&t&&(r.$$scope={dirty:t,ctx:e}),J.$set(r);const s={};2048&t&&(s.$$scope={dirty:t,ctx:e}),X.$set(s)},i(e){V||(oe(J.$$.fragment,e),oe(X.$$.fragment,e),V=!0)},o(e){le(J.$$.fragment,e),le(X.$$.fragment,e),V=!1},d(e){e&&b(r),ee&&ee.d(),me(J),me(X),Z=!1,n(Q)}}}function kl(e){let t=!1,r=[];const s=e=>{r.forEach((e=>e.classList.remove("show"))),t=!1};window.addEventListener("click",s);const n=e=>{e.stopPropagation(),t=!t,e.currentTarget.classList.toggle("show")},o=e=>{r.forEach((e=>e.classList.remove("show"))),t&&e.currentTarget.classList.add("show")};N((()=>{r=document.querySelectorAll("nav > ul > li"),r.forEach((e=>e.addEventListener("click",n))),r.forEach((e=>e.addEventListener("mouseover",o)))})),B((()=>{window.removeEventListener("click",s),r.forEach((e=>e.removeEventListener("click",n))),r.forEach((e=>e.removeEventListener("mouseover",o)))}));return[e=>Fe.execute("project_create"),e=>Fe.execute("project_open"),e=>Fe.execute("project_save"),e=>Fe.execute("project_save_as"),e=>Fe.execute("window_close"),e=>Fe.execute("window_toggle_fullscreen")]}class zl extends $e{constructor(e){super(),xe(this,e,kl,Ll,l,{})}}function El(e){let t,r,s,n;const o=e[6].default,l=u(o,e,e[5],null);return{c(){t=y("button"),l&&l.c(),C(t,"class","no-drag svelte-1j6abr5"),S(t,"active",e[1])},m(o,i){$(o,t,i),l&&l.m(t,null),e[7](t),r=!0,s||(n=z(t,"click",e[2]),s=!0)},p(e,[r]){l&&l.p&&32&r&&p(l,o,e,e[5],r,null,null),2&r&&S(t,"active",e[1])},i(e){r||(oe(l,e),r=!0)},o(e){le(l,e),r=!1},d(r){r&&b(t),l&&l.d(r),e[7](null),s=!1,n()}}}function Cl(e,t,r){let s,n;c(e,mr,(e=>r(4,n=e)));let o,{$$slots:l={},$$scope:i}=t,{area:a=null}=t;return e.$$set=e=>{"area"in e&&r(3,a=e.area),"$$scope"in e&&r(5,i=e.$$scope)},e.$$.update=()=>{24&e.$$.dirty&&r(1,s=n.startsWith(`/${a}`))},[o,s,e=>{a&&cr("/"+a)},a,n,i,l,function(e){H[e?"unshift":"push"]((()=>{o=e,r(0,o)}))}]}class Il extends $e{constructor(e){super(),xe(this,e,Cl,El,l,{area:3})}}function Al(e){let t,r;return{c(){t=w("svg"),r=w("path"),C(r,"d","M6 2l1.171.203c-.355 2.245.791 2.519 2.699 2.874 1.468.273 3.13.622 3.13 3.284v.639h-1.183v-.639c0-1.556-.48-1.809-2.164-2.122-2.583-.48-4.096-1.391-3.653-4.239zm18 14c0 3.312-2.607 6-5.825 6-1.511 0-2.886-.595-3.921-1.565-1.311-1.229-3.278-1.132-4.55.038-1.03.948-2.389 1.527-3.879 1.527-3.217 0-5.825-2.688-5.825-6s2.608-6 5.825-6l12.563.007c3.118.116 5.612 2.755 5.612 5.993zm-15-1h-2v-2h-2v2h-2v2h2v2h2v-2h2v-2zm4 1h-2v1h2v-1zm4-2c0 .552.447 1 1 1s1-.448 1-1-.447-1-1-1-1 .448-1 1zm0 2c0-.552-.447-1-1-1s-1 .448-1 1 .447 1 1 1 1-.448 1-1zm2 2c0-.552-.447-1-1-1s-1 .448-1 1 .447 1 1 1 1-.448 1-1zm2-2c0-.552-.447-1-1-1s-1 .448-1 1 .447 1 1 1 1-.448 1-1z"),C(t,"xmlns","http://www.w3.org/2000/svg"),C(t,"width","24"),C(t,"height","24"),C(t,"viewBox","0 0 24 24"),C(t,"class","svelte-1bhpuaq")},m(e,s){$(e,t,s),x(t,r)},d(e){e&&b(t)}}}function Fl(e){let t,r;return{c(){t=w("svg"),r=w("path"),C(r,"d","M0 21.398c5.504.456 3.533-5.392 8.626-5.445l2.206 1.841c.549 6.645-7.579 8.127-10.832 3.604zm16.878-8.538c1.713-2.687 7.016-11.698 7.016-11.698.423-.747-.515-1.528-1.17-.976 0 0-7.887 6.857-10.213 9.03-1.838 1.719-1.846 2.504-2.441 5.336l2.016 1.681c2.67-1.098 3.439-1.248 4.792-3.373z"),C(t,"xmlns","http://www.w3.org/2000/svg"),C(t,"width","24"),C(t,"height","24"),C(t,"viewBox","0 0 24 24"),C(t,"class","svelte-1bhpuaq")},m(e,s){$(e,t,s),x(t,r)},d(e){e&&b(t)}}}function Ml(e){let t,r;return{c(){t=w("svg"),r=w("path"),C(r,"d","M13 0h-2v15.676c-3.379-.667-7 1.915-7 4.731 0 2.367 1.881 3.593 3.919 3.593 2.423 0 5.077-1.728 5.081-5.24v-12.76c3.009 2.223 5.623 3.243 5.059 7 1.431-1.727 1.941-2.817 1.941-4.051 0-4.446-7-5.915-7-8.949z"),C(t,"xmlns","http://www.w3.org/2000/svg"),C(t,"width","24"),C(t,"height","24"),C(t,"viewBox","0 0 24 24"),C(t,"class","svelte-1bhpuaq")},m(e,s){$(e,t,s),x(t,r)},d(e){e&&b(t)}}}function Sl(e){let t,r;return{c(){t=w("svg"),r=w("path"),C(r,"d","M23 10.826v2.349c-1.562 0-3 1.312-3 2.857 0 2.181 1.281 5.968-6 5.968v-2.002c4.917 0 3.966-1.6 3.966-3.967 0-2.094 1.211-3.5 2.278-4.031-1.067-.531-2.278-1.438-2.278-3.312 0-2.372.94-4.692-3.966-4.686v-2.002c7.285 0 6 4.506 6 6.688 0 1.544 1.438 2.138 3 2.138zm-19-2.138c0-2.182-1.285-6.688 6-6.688v2.002c-4.906-.007-3.966 2.313-3.966 4.686 0 1.875-1.211 2.781-2.278 3.312 1.067.531 2.278 1.938 2.278 4.031 0 2.367-.951 3.967 3.966 3.967v2.002c-7.281 0-6-3.787-6-5.969 0-1.545-1.438-2.857-3-2.857v-2.349c1.562.001 3-.593 3-2.137z"),C(t,"xmlns","http://www.w3.org/2000/svg"),C(t,"width","24"),C(t,"height","24"),C(t,"viewBox","0 0 24 24"),C(t,"class","svelte-1bhpuaq")},m(e,s){$(e,t,s),x(t,r)},d(e){e&&b(t)}}}function Pl(e){let t,r;return{c(){t=w("svg"),r=w("path"),C(r,"d","M24 19h-1v-2.2c-1.853 4.237-6.083 7.2-11 7.2-6.623 0-12-5.377-12-12h1c0 6.071 4.929 11 11 11 4.66 0 8.647-2.904 10.249-7h-2.249v-1h4v4zm-11.036 0h-1.886c-.34-.957-.437-1.571-1.177-1.878h-.001c-.743-.308-1.251.061-2.162.494l-1.333-1.333c.427-.899.804-1.415.494-2.163-.308-.74-.926-.839-1.878-1.177v-1.886c.954-.339 1.57-.437 1.878-1.178.308-.743-.06-1.248-.494-2.162l1.333-1.333c.918.436 1.421.801 2.162.494l.001-.001c.74-.307.838-.924 1.177-1.877h1.886c.34.958.437 1.57 1.177 1.877l.001.001c.743.308 1.252-.062 2.162-.494l1.333 1.333c-.435.917-.801 1.421-.494 2.161v.001c.307.739.915.835 1.878 1.178v1.886c-.953.338-1.571.437-1.878 1.178-.308.743.06 1.249.494 2.162l-1.333 1.333c-.92-.438-1.42-.802-2.157-.496-.746.31-.844.926-1.183 1.88zm-.943-4.667c-1.289 0-2.333-1.044-2.333-2.333 0-1.289 1.044-2.334 2.333-2.334 1.289 0 2.333 1.045 2.333 2.334 0 1.289-1.044 2.333-2.333 2.333zm-8.021-5.333h-4v-4h1v2.2c1.853-4.237 6.083-7.2 11-7.2 6.623 0 12 5.377 12 12h-1c0-6.071-4.929-11-11-11-4.66 0-8.647 2.904-10.249 7h2.249v1z"),C(t,"width","24"),C(t,"height","24"),C(t,"viewBox","0 0 24 24"),C(t,"xmlns","http://www.w3.org/2000/svg"),C(t,"fill-rule","evenodd"),C(t,"clip-rule","evenodd"),C(t,"class","svelte-1bhpuaq")},m(e,s){$(e,t,s),x(t,r)},d(e){e&&b(t)}}}function Tl(e){let t,r,s,n,o,l,i,a,c,u,h,p,d,g;s=new Il({props:{area:"game",$$slots:{default:[Al]},$$scope:{ctx:e}}}),l=new Il({props:{area:"graphics",$$slots:{default:[Fl]},$$scope:{ctx:e}}}),c=new Il({props:{area:"audio",$$slots:{default:[Ml]},$$scope:{ctx:e}}}),p=new Il({props:{area:"code",$$slots:{default:[Sl]},$$scope:{ctx:e}}});let f=globalThis.electron&&function(e){let t,r,s,n,o;return r=new Il({props:{$$slots:{default:[Pl]},$$scope:{ctx:e}}}),{c(){t=y("li"),ge(r.$$.fragment),C(t,"class","last svelte-1bhpuaq")},m(l,i){$(l,t,i),fe(r,t,null),s=!0,n||(o=z(t,"click",e[0]),n=!0)},p(e,t){const s={};2&t&&(s.$$scope={dirty:t,ctx:e}),r.$set(s)},i(e){s||(oe(r.$$.fragment,e),s=!0)},o(e){le(r.$$.fragment,e),s=!1},d(e){e&&b(t),me(r),n=!1,o()}}}(e);return{c(){t=y("ul"),r=y("li"),ge(s.$$.fragment),n=L(),o=y("li"),ge(l.$$.fragment),i=L(),a=y("li"),ge(c.$$.fragment),u=L(),h=y("li"),ge(p.$$.fragment),d=L(),f&&f.c(),C(r,"class","svelte-1bhpuaq"),C(o,"class","svelte-1bhpuaq"),C(a,"class","svelte-1bhpuaq"),C(h,"class","svelte-1bhpuaq"),C(t,"class","area svelte-1bhpuaq")},m(e,m){$(e,t,m),x(t,r),fe(s,r,null),x(t,n),x(t,o),fe(l,o,null),x(t,i),x(t,a),fe(c,a,null),x(t,u),x(t,h),fe(p,h,null),x(t,d),f&&f.m(t,null),g=!0},p(e,[t]){const r={};2&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r);const n={};2&t&&(n.$$scope={dirty:t,ctx:e}),l.$set(n);const o={};2&t&&(o.$$scope={dirty:t,ctx:e}),c.$set(o);const i={};2&t&&(i.$$scope={dirty:t,ctx:e}),p.$set(i),globalThis.electron&&f.p(e,t)},i(e){g||(oe(s.$$.fragment,e),oe(l.$$.fragment,e),oe(c.$$.fragment,e),oe(p.$$.fragment,e),oe(f),g=!0)},o(e){le(s.$$.fragment,e),le(l.$$.fragment,e),le(c.$$.fragment,e),le(p.$$.fragment,e),le(f),g=!1},d(e){e&&b(t),me(s),me(l),me(c),me(p),f&&f.d()}}}function jl(e){return[e=>Fe.execute("buildandrun_project")]}class Nl extends $e{constructor(e){super(),xe(this,e,jl,Tl,l,{})}}function Bl(t){let r,s,o,l,i,a,c;return{c(){r=y("button"),s=L(),o=y("button"),l=L(),i=y("button"),C(r,"class","minimize svelte-188xc0"),C(o,"class","maximize svelte-188xc0"),C(i,"class","close svelte-188xc0")},m(e,n){$(e,r,n),$(e,s,n),$(e,o,n),$(e,l,n),$(e,i,n),a||(c=[z(r,"click",t[1]),z(o,"click",t[2]),z(i,"click",t[3])],a=!0)},p:e,i:e,o:e,d(e){e&&b(r),e&&b(s),e&&b(o),e&&b(l),e&&b(i),a=!1,n(c)}}}function Rl(e){const t=e=>Fe.execute(`window_${e}`);return[t,e=>t("minimize"),e=>t("maximize"),e=>t("close")]}class Dl extends $e{constructor(e){super(),xe(this,e,Rl,Bl,l,{})}}function Ol(e){let t,r,s,n,o,l,i,a,c,u,h,p,d,g,f,m,v,w,k,z=e[0].name+"",E=e[0].saved?"":"*";return d=new zl({}),f=new Nl({}),w=new Dl({}),{c(){t=y("header"),r=y("div"),s=L(),n=y("div"),o=y("div"),l=_("["),i=y("span"),a=_(z),c=_("]"),u=_(E),h=L(),p=y("div"),ge(d.$$.fragment),g=L(),ge(f.$$.fragment),m=L(),v=y("div"),ge(w.$$.fragment),C(r,"class","drag app-region svelte-hnfzn8"),C(i,"class","no-paint svelte-hnfzn8"),C(o,"class","titlebar svelte-hnfzn8"),C(p,"id","top-navigation"),C(p,"class","svelte-hnfzn8"),C(v,"id","window-buttons"),C(v,"class","svelte-hnfzn8"),C(n,"class","inner svelte-hnfzn8"),C(t,"id","masthead"),C(t,"class","svelte-hnfzn8")},m(e,b){$(e,t,b),x(t,r),x(t,s),x(t,n),x(n,o),x(o,l),x(o,i),x(i,a),x(o,c),x(o,u),x(n,h),x(n,p),fe(d,p,null),x(p,g),fe(f,p,null),x(n,m),x(n,v),fe(w,v,null),k=!0},p(e,[t]){(!k||1&t)&&z!==(z=e[0].name+"")&&A(a,z),(!k||1&t)&&E!==(E=e[0].saved?"":"*")&&A(u,E)},i(e){k||(oe(d.$$.fragment,e),oe(f.$$.fragment,e),oe(w.$$.fragment,e),k=!0)},o(e){le(d.$$.fragment,e),le(f.$$.fragment,e),le(w.$$.fragment,e),k=!1},d(e){e&&b(t),me(d),me(f),me(w)}}}function Hl(e,t,r){let s;return c(e,Ce,(e=>r(0,s=e))),[s]}class ql extends $e{constructor(e){super(),xe(this,e,Hl,Ol,l,{})}}function Kl(e,t,r){const s=e.slice();return s[4]=t[r].error,s[5]=t[r].date,s}function Gl(e){let t,r,s,n,o,l,i,a,c=e[5]+"",u=e[4].message+"";return{c(){t=y("li"),r=_("["),s=_(c),n=_("] ( "),o=_(u),l=_(" )\r\n        "),i=y("div"),i.textContent="some extra hidden details",a=L(),C(i,"class","details svelte-8fmup"),C(t,"class","svelte-8fmup")},m(e,c){$(e,t,c),x(t,r),x(t,s),x(t,n),x(t,o),x(t,l),x(t,i),x(t,a)},p(e,t){2&t&&c!==(c=e[5]+"")&&A(s,c),2&t&&u!==(u=e[4].message+"")&&A(o,u)},d(e){e&&b(t)}}}function Ul(e){let t,r=e[4]&&Gl(e);return{c(){r&&r.c(),t=k()},m(e,s){r&&r.m(e,s),$(e,t,s)},p(e,s){e[4]?r?r.p(e,s):(r=Gl(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&b(t)}}}function Jl(t){let r,s=t[1],n=[];for(let e=0;e<s.length;e+=1)n[e]=Ul(Kl(t,s,e));return{c(){r=y("ul");for(let e=0;e<n.length;e+=1)n[e].c();C(r,"class","svelte-8fmup")},m(e,s){$(e,r,s);for(let e=0;e<n.length;e+=1)n[e].m(r,null);t[2](r)},p(e,[t]){if(2&t){let o;for(s=e[1],o=0;o<s.length;o+=1){const l=Kl(e,s,o);n[o]?n[o].p(l,t):(n[o]=Ul(l),n[o].c(),n[o].m(r,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=s.length}},i:e,o:e,d(e){e&&b(r),v(n,e),t[2](null)}}}function Wl(e,t,r){let s,n=[];const o=Ee.subscribe((async e=>{r(1,n=[...e]),await W(),s&&s.scrollTo({top:1e9,left:0,behavior:"smooth"})}));return B((()=>{o()})),[s,n,function(e){H[e?"unshift":"push"]((()=>{s=e,r(0,s)}))}]}class Yl extends $e{constructor(e){super(),xe(this,e,Wl,Jl,l,{})}}function Xl(t){let r,s,n;return s=new Yl({}),{c(){r=y("footer"),ge(s.$$.fragment),C(r,"class","footer svelte-zj1pup")},m(e,t){$(e,r,t),fe(s,r,null),n=!0},p:e,i(e){n||(oe(s.$$.fragment,e),n=!0)},o(e){le(s.$$.fragment,e),n=!1},d(e){e&&b(r),me(s)}}}class Vl extends $e{constructor(e){super(),xe(this,e,null,Xl,l,{})}}function Zl(e,t,r){const s=e.slice();return s[2]=t[r].type,s[3]=t[r].title,s[4]=t[r].message,s[6]=r,s}function Ql(e,t){let r,s,n,o,l,i,a,c,u=t[3]+"",h=t[4]+"";return{key:e,first:null,c(){r=y("div"),s=y("h2"),n=_(u),o=L(),l=y("p"),i=_(h),a=L(),C(r,"class",c=f(t[2])+" svelte-ivu95s"),this.first=r},m(e,t){$(e,r,t),x(r,s),x(s,n),x(r,o),x(r,l),x(l,i),x(r,a)},p(e,s){t=e,1&s&&u!==(u=t[3]+"")&&A(n,u),1&s&&h!==(h=t[4]+"")&&A(i,h),1&s&&c!==(c=f(t[2])+" svelte-ivu95s")&&C(r,"class",c)},d(e){e&&b(r)}}}function ei(t){let r,s=[],n=new Map,o=t[0];const l=e=>e[6];for(let e=0;e<o.length;e+=1){let r=Zl(t,o,e),i=l(r);n.set(i,s[e]=Ql(i,r))}return{c(){r=y("div");for(let e=0;e<s.length;e+=1)s[e].c();C(r,"class","notifications svelte-ivu95s")},m(e,t){$(e,r,t);for(let e=0;e<s.length;e+=1)s[e].m(r,null)},p(e,[t]){1&t&&(o=e[0],s=ue(s,t,l,1,e,o,n,r,ae,Ql,null,Zl))},i:e,o:e,d(e){e&&b(r);for(let e=0;e<s.length;e+=1)s[e].d()}}}function ti(e,t,r){let s;const n=Me([],(({store:e,value:t,get:r,update:s})=>({add({type:t,title:r,message:s}){e.update((e=>[{type:t,title:r,message:s},...e]))}})));return c(e,n,(e=>r(0,s=e))),[s,n]}class ri extends $e{constructor(e){super(),xe(this,e,ti,ei,l,{})}}function si(t){let r,s,n=t[0],o=ni(t);return{c(){o.c(),r=k()},m(e,t){o.m(e,t),$(e,r,t),s=!0},p(t,s){1&s&&l(n,n=t[0])?(se(),le(o,1,1,e),ne(),o=ni(t),o.c(),oe(o),o.m(r.parentNode,r)):o.p(t,s)},i(e){s||(oe(o),s=!0)},o(e){le(o),s=!1},d(e){e&&b(r),o.d(e)}}}function ni(e){let t,r,s,n,o,l,i,a,c;var u=e[0];return u&&(l=new u({})),{c(){t=y("section"),r=y("div"),s=y("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="white" width="24" height="24" viewBox="0 0 24 24"><path d="M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"></path></svg>',n=L(),o=y("div"),l&&ge(l.$$.fragment),C(s,"class","svelte-orqgit"),C(o,"class","content svelte-orqgit"),C(r,"class","popup svelte-orqgit"),C(t,"class","svelte-orqgit")},m(u,h){$(u,t,h),x(t,r),x(r,s),x(r,n),x(r,o),l&&fe(l,o,null),i=!0,a||(c=z(s,"click",e[1]),a=!0)},p(e,t){if(u!==(u=e[0])){if(l){se();const e=l;le(e.$$.fragment,1,0,(()=>{me(e,1)})),ne()}u?(l=new u({}),ge(l.$$.fragment),oe(l.$$.fragment,1),fe(l,o,null)):l=null}},i(e){i||(l&&oe(l.$$.fragment,e),i=!0)},o(e){l&&le(l.$$.fragment,e),i=!1},d(e){e&&b(t),l&&me(l),a=!1,c()}}}function oi(e){let t,r,s=e[0]&&si(e);return{c(){s&&s.c(),t=k()},m(e,n){s&&s.m(e,n),$(e,t,n),r=!0},p(e,[r]){e[0]?s?(s.p(e,r),1&r&&oe(s,1)):(s=si(e),s.c(),oe(s,1),s.m(t.parentNode,t)):s&&(se(),le(s,1,1,(()=>{s=null})),ne())},i(e){r||(oe(s),r=!0)},o(e){le(s),r=!1},d(e){s&&s.d(e),e&&b(t)}}}const li=ve();function ii(e,t,r){let s;c(e,li,(e=>r(0,s=e)));return[s,e=>(e=>li.set(e))(void 0)]}class ai extends $e{constructor(e){super(),xe(this,e,ii,oi,l,{})}}function ci(t){let r,s,n,o,l,i,a,c,u,h,p,d,g,f;return s=new ql({}),l=new Ir({}),a=new Vl({}),u=new tt({}),p=new ai({}),g=new ri({}),{c(){r=y("div"),ge(s.$$.fragment),n=L(),o=y("main"),ge(l.$$.fragment),i=L(),ge(a.$$.fragment),c=L(),ge(u.$$.fragment),h=L(),ge(p.$$.fragment),d=L(),ge(g.$$.fragment),C(o,"class","svelte-4azgf7"),C(r,"id","app")},m(e,t){$(e,r,t),fe(s,r,null),x(r,n),x(r,o),fe(l,o,null),x(r,i),fe(a,r,null),$(e,c,t),fe(u,e,t),$(e,h,t),fe(p,e,t),$(e,d,t),fe(g,e,t),f=!0},p:e,i(e){f||(oe(s.$$.fragment,e),oe(l.$$.fragment,e),oe(a.$$.fragment,e),oe(u.$$.fragment,e),oe(p.$$.fragment,e),oe(g.$$.fragment,e),f=!0)},o(e){le(s.$$.fragment,e),le(l.$$.fragment,e),le(a.$$.fragment,e),le(u.$$.fragment,e),le(p.$$.fragment,e),le(g.$$.fragment,e),f=!1},d(e){e&&b(r),me(s),me(l),me(a),e&&b(c),me(u,e),e&&b(h),me(p,e),e&&b(d),me(g,e)}}}function ui(e){return[]}class hi extends $e{constructor(e){super(),xe(this,e,ui,ci,l,{})}}const{document:pi}=ie;function di(e){let r,s,n,o,l;pi.title=r="["+e[0].name+(e[0].save?"":"*")+"]";const i=[e[1]];let a={};for(let e=0;e<i.length;e+=1)a=t(a,i[e]);return o=new hi({props:a}),{c(){s=y("meta"),n=L(),ge(o.$$.fragment),C(s,"http-equiv","Content-Security-Policy"),C(s,"content","script-src 'self'")},m(e,t){x(pi.head,s),$(e,n,t),fe(o,e,t),l=!0},p(e,[t]){(!l||1&t)&&r!==(r="["+e[0].name+(e[0].save?"":"*")+"]")&&(pi.title=r);const s=2&t?he(i,[pe(e[1])]):{};o.$set(s)},i(e){l||(oe(o.$$.fragment,e),l=!0)},o(e){le(o.$$.fragment,e),l=!1},d(e){b(s),e&&b(n),me(o,e)}}}function gi(e,r,s){let n,o;return c(e,mr,(e=>s(2,n=e))),c(e,Ce,(e=>s(0,o=e))),globalThis.electron&&(document.body.classList.add("electron"),ur("/")),N((async()=>{await W(),rt.startPage!==n&&ur(rt.startPage)})),e.$$set=e=>{s(1,r=t(t({},r),d(e)))},r=d(r),[o,r]}function fi(t){let r;return{c(){r=y("section"),r.innerHTML='<article class="svelte-weu28o"><h3>This online version of NESBit Studio relies on ad-monetization to be able to continue to operate</h3> \n    <p>We know, we know. Intrusive ads sucks! We do our best to keep it out of your way and experience using this tool.</p></article>',C(r,"class","checkered svelte-weu28o")},m(e,t){$(e,r,t)},p:e,i:e,o:e,d(e){e&&b(r)}}}return new(window.not_adblocked?class extends $e{constructor(e){super(),xe(this,e,gi,di,l,{})}}:class extends $e{constructor(e){super(),xe(this,e,null,fi,l,{})}})({target:document.querySelector("body")})}();
